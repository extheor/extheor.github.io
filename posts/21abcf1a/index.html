<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>京东抽奖项目开发笔记 | 码小余の博客</title><meta name="description" content="京东抽奖项目开发笔记"><meta name="keywords" content="ajax"><meta name="author" content="Continue.Run,2044580857@qq.com"><meta name="copyright" content="Continue.Run"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/extheor/images/maxiaoyu.ico"><link rel="canonical" href="https://extheor.github.io/posts/21abcf1a/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="preconnect" href="//zz.bdstatic.com"><meta property="og:type" content="article"><meta property="og:title" content="京东抽奖项目开发笔记"><meta property="og:url" content="https://extheor.github.io/posts/21abcf1a/"><meta property="og:site_name" content="码小余の博客"><meta property="og:description" content="京东抽奖项目开发笔记"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/extheor/images/%E5%8A%A8%E6%BC%AB%E5%9B%BE%E5%BA%93/lb3.jpg"><meta property="article:published_time" content="2020-09-17T15:45:25.000Z"><meta property="article:modified_time" content="2020-09-17T23:57:30.525Z"><meta name="twitter:card" content="summary"><link rel="manifest" href="https://cdn.jsdelivr.net/gh/extheor/StaticFile_HEXO/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = '1'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?d6787d3cea8d4e352a1082a4e0827cb4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容:${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:{limitDay:30,position:"top",messagePrev:"这篇文章已经发表了",messageNext:"天了，其中某些内容可能已经过时。"},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},bookmark:{message_prev:"按",message_next:"键将本页加入书签"},runtime_unit:"天",runtime:!0,copyright:void 0,ClickShowText:void 0,medium_zoom:!1,fancybox:!0,Snackbar:{bookmark:{message_prev:"按",message_next:"键将本页加入书签"},chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#121212",position:"bottom-left"},justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},baiduPush:!0,highlightCopy:!0,highlightLang:!0,isPhotoFigcaption:!1,islazyload:!0,isanchor:!1}</script><script id="config_change">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!0,isSidebar:!0,postUpdate:"2020-09-18 07:57:30"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/css/pool.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/css/iconfont.min.css"><style>#toggle-sidebar{left:100px}</style><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><div class="aplayer" data-id="2693598459" data-server="netease" data-type="playlist" data-fixed="true" data-listfolded="false" data-order="random" data-preload="none"></div><link rel="stylesheet" href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css"><script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/extheor/images/码小余.jpg" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/03/21/20200321213747.gif"' alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">56</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">19</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">17</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i> <span>媒体</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fa-fw fab fa-youtube"></i> <span>番剧</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i> <span>链接</span></a></div></div></div></div><div class="code-close" id="body-wrap"><div id="web_bg" data-type="color"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#京东抽奖项目开发笔记"><span class="toc-number">1.</span> <span class="toc-text">京东抽奖项目开发笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#文章目录"><span class="toc-number">1.1.</span> <span class="toc-text">文章目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.2.</span> <span class="toc-text">前言：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id1注册页1注册页a"><span class="toc-number">1.3.</span> <span class="toc-text">1.注册页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id2登录页2登录页a"><span class="toc-number">1.4.</span> <span class="toc-text">2.登录页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id3添加头部tab3添加头部taba"><span class="toc-number">1.5.</span> <span class="toc-text">3.添加头部tab</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id4完善注册页的ajax请求4完善注册页的ajax请求a"><span class="toc-number">1.6.</span> <span class="toc-text">4.完善注册页的ajax请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id5完善登录页的ajax请求5完善登录页的ajax请求a"><span class="toc-number">1.7.</span> <span class="toc-text">5.完善登录页的ajax请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id6抽奖页-首页6抽奖页首页a"><span class="toc-number">1.8.</span> <span class="toc-text">6.抽奖页–首页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id7完成注册验证码接口的接入7完成注册验证码接口的接入a"><span class="toc-number">1.9.</span> <span class="toc-text">7.完成注册验证码接口的接入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id8完成登录验证码接口的接入8完成登录验证码接口的接入a"><span class="toc-number">1.10.</span> <span class="toc-text">8.完成登录验证码接口的接入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id9页面跳转路由不刷新9页面跳转路由不刷新a"><span class="toc-number">1.11.</span> <span class="toc-text">9.页面跳转路由不刷新</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/extheor/images/%E5%8A%A8%E6%BC%AB%E5%9B%BE%E5%BA%93/lb3.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">码小余の博客</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i> <span>媒体</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fa-fw fab fa-youtube"></i> <span>番剧</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i> <span>链接</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">京东抽奖项目开发笔记</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-17T15:45:25.000Z" title="发表于 2020-09-17 23:45:25">2020-09-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-09-17T23:57:30.525Z" title="更新于 2020-09-18 07:57:30">2020-09-18</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Ajax/">Ajax</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">13.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>60分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/21abcf1a/index.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/posts/21abcf1a/index.html" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="京东抽奖项目开发笔记"><a class="markdownIt-Anchor" href="#京东抽奖项目开发笔记"></a> 京东抽奖项目开发笔记</h1><h2 id="文章目录"><a class="markdownIt-Anchor" href="#文章目录"></a> 文章目录</h2><p><a href="#1.%E6%B3%A8%E5%86%8C%E9%A1%B5">1.注册页</a></p><p><a href="#2.%E7%99%BB%E5%BD%95%E9%A1%B5">2.登录页</a></p><p><a href="#3.%E6%B7%BB%E5%8A%A0%E5%A4%B4%E9%83%A8tab">3.添加头部tab</a></p><p><a href="#4.%E5%AE%8C%E5%96%84%E6%B3%A8%E5%86%8C%E9%A1%B5%E7%9A%84ajax%E8%AF%B7%E6%B1%82">4.完善注册页的ajax请求</a></p><p><a href="#5.%E5%AE%8C%E5%96%84%E7%99%BB%E5%BD%95%E9%A1%B5%E7%9A%84ajax%E8%AF%B7%E6%B1%82">5.完善登录页的ajax请求</a></p><p><a href="#6.%E6%8A%BD%E5%A5%96%E9%A1%B5--%E9%A6%96%E9%A1%B5">6.抽奖页–首页</a></p><p><a href="#7.%E5%AE%8C%E6%88%90%E6%B3%A8%E5%86%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%8E%A5%E5%85%A5">7.完成注册验证码接口的接入</a></p><p><a href="#8.%E5%AE%8C%E6%88%90%E7%99%BB%E5%BD%95%E9%AA%8C%E8%AF%81%E7%A0%81%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%8E%A5%E5%85%A5">8.完成登录验证码接口的接入</a></p><p><a href="#9.%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E8%B7%AF%E7%94%B1%E4%B8%8D%E5%88%B7%E6%96%B0">9.页面跳转路由不刷新</a></p><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言：</h2><p>这是一个独立项目，这个项目会由我们四个人来一起完成，所以首先就要分工合作，我是写前端的，所以我会先把基本的页面写出来</p><h2 id="a-id1注册页1注册页a"><a class="markdownIt-Anchor" href="#a-id1注册页1注册页a"></a> <a id="1.注册页">1.注册页</a></h2><p>这是注册页的代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/login.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"message"</span> <span class="attr">data-icon</span>=<span class="string">"info"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loginBox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"codeForm"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> <span class="attr">id</span>=<span class="string">"phone"</span> <span class="attr">name</span>=<span class="string">"phone"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>手机号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> <span class="attr">id</span>=<span class="string">"code"</span> <span class="attr">name</span>=<span class="string">"code"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>验证码<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"getCode"</span>&gt;</span>点击获取<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn"</span>&gt;</span></span><br><span class="line">          下一步</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.10.0/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/modal_dialog.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/tccj.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      <span class="comment">// 用户提交表单</span></span></span><br><span class="line"><span class="javascript">      $(<span class="string">"form"</span>).on(<span class="string">"submit"</span>, (e) =&gt; &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 阻止默认行为</span></span></span><br><span class="line">        e.preventDefault();</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 判断手机号格式是否正确</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $phone = $(<span class="string">"#phone"</span>).val();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test($phone)) &#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// 提示错误信息</span></span></span><br><span class="line"><span class="javascript">          $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>CSS样式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span>,</span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="comment">/* background: linear-gradient(#141e30, #243b55); */</span></span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">      <span class="number">60deg</span>,</span><br><span class="line">      rgba(<span class="number">255</span>, <span class="number">165</span>, <span class="number">150</span>, <span class="number">0.5</span>) <span class="number">5%</span>,</span><br><span class="line">      <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">228</span>, <span class="number">255</span>, <span class="number">0.35</span>)</span><br><span class="line">    ),</span><br><span class="line">    <span class="built_in">url</span>(https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%<span class="number">9</span>B%BE%E7%<span class="number">89%</span><span class="number">87</span>/坚持.jpg);</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#03e9f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.loginBox</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">470px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">420px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">15px</span> <span class="number">25px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.6</span>);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.loginWay</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">390px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.loginWay</span> &gt; <span class="selector-class">.codeLogin</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">36%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.loginWay</span> &gt; <span class="selector-class">.codeLogin</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">19px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#cc9644</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.loginWay</span> &gt; <span class="selector-class">.codeLogin</span> &gt; <span class="selector-class">.line1</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ecf0f1</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.175</span>, <span class="number">0.885</span>, <span class="number">0.32</span>, <span class="number">1.275</span>) <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.loginWay</span> &gt; <span class="selector-class">.codeLogin</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-class">.line1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">157</span>, <span class="number">131</span>, <span class="number">82</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.loginWay</span> &gt; <span class="selector-class">.pwdLogin</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">31%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.loginWay</span> &gt; <span class="selector-class">.pwdLogin</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">19px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#cc9644</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.loginWay</span> &gt; <span class="selector-class">.pwdLogin</span> &gt; <span class="selector-class">.line2</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ecf0f1</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.175</span>, <span class="number">0.885</span>, <span class="number">0.32</span>, <span class="number">1.275</span>) <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.loginWay</span> &gt; <span class="selector-class">.pwdLogin</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-class">.line2</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">157</span>, <span class="number">131</span>, <span class="number">82</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pwdForm</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> &gt; <span class="selector-class">.getCode</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">70px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">36px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ecf0f1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span> &gt; <span class="selector-class">.getCode</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: aqua;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">input</span><span class="selector-pseudo">:focus</span> + <span class="selector-tag">label</span>,</span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">input</span><span class="selector-pseudo">:valid</span> + <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#03e9f4</span>;</span><br><span class="line">  <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#03e9f4</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="number">#03e9f4</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">25px</span> <span class="number">0</span> <span class="number">#03e9f4</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">50px</span> <span class="number">0</span> <span class="number">#03e9f4</span>,</span><br><span class="line">    <span class="number">0</span> <span class="number">0</span> <span class="number">100px</span> <span class="number">0</span> <span class="number">#03e9f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(left, transparent, #<span class="number">03</span>e9f4);</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: line1 <span class="number">1s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> rotate &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">0deg</span>);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">390px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  50% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">180deg</span>);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">370px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">0deg</span>);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">390px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> line1 &#123;</span><br><span class="line">  50%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(top, transparent, #<span class="number">03</span>e9f4);</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0%</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: line2 <span class="number">1s</span> <span class="number">0.25s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> line2 &#123;</span><br><span class="line">  50%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(right, transparent, #<span class="number">03</span>e9f4);</span><br><span class="line">  <span class="attribute">right</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: line3 <span class="number">1s</span> <span class="number">0.5s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> line3 &#123;</span><br><span class="line">  50%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(4)</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(bottom, transparent, #<span class="number">03</span>e9f4);</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: line4 <span class="number">1s</span> <span class="number">0.75s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> line4 &#123;</span><br><span class="line">  50%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的代码是写的注册页的基本页面，CSS部分写的比较多，所以在写页面上花了很大一部分时间，js中还判断了手机号的格式是否正确，如果不正确会提示“手机号格式有误”（这个错误提示我用了插件，我会在下面给出相应的代码），如果输入的手机号正确，那么会进行Ajax请求（前端向后端发送用户所输入的数据，比如说：手机号和验证码），验证码的话是通过第三方API来获取的，这当然也必须是用Ajax发送请求，来获取验证码，这时就可以发送给后端了，后端会接收到数据，然后把该注册信息插入到数据库中进行存储，为以后的登录操作打下了良好的基础</p><ul><li><p>jQuery弹窗库</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 封装模态框_提示框</span></span><br><span class="line"><span class="comment">// 提示框</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 图标 base64 码  全局变量</span></span><br><span class="line"><span class="comment">// 默认图标</span></span><br><span class="line"><span class="keyword">var</span> info_modal = <span class="string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADlUlEQVRYR82XS4hbdRjFz7l3ZsARamzryCQ31lft5A64qErFhYKK9bFwxmJRu/CxKbjzAXYmdyS0yYwu1J3oqt2otNQ+wEKxogiC+GgX0t44vlDnTqJW7LRoK53ce+SmTUw6j/wTRmq295zz/e6Xf/75PuIif9hOfTenHvWU76fC2wBeQahfYkjguMCyLH7Wu6L/wOHNnDXNNQJYs+2Xa7pYeV7UJoKXLR6uExDfka3X/JH0d61AFgUYmChfbYXhVgCbSFitwhqfCwghvC1YY0Uv+dNC3gUB3G3BnaTeBZlop/AcrTQjcYM/5nw4X868AO54sBkRXm/3rRcClRDBwtP+qPPmhZo5AG4huAvC+0tVvFYwhpC4vjiW+qARognAfal0FcLwq9YHrbMvRdBJ2PaN/pbkz7WEZoBCsJPARtN4AZ9SuA5En7FH2Ol7ziNzADKF6bUWdNg4CJjws84odsl2v51+mcBzpt6KrFsmveSXsb7eATc/tYfkcCcha/Klm7sYfWHqlbTX99IP1QGcV6cuWXYaMyR7jEOAV/zVqRewkaFbCMYJjJh7dQazTsLP8Wy1A5nx0pClaK9pQMPJ/h3E9wTWte/lkO+l9lcB3HxQIDFqGiLhDVC/1vXCOpL3mvpjnYCCn3W8KsBgPtgB4nGjAGnmmJe+vFHrbi0P0g6PGvnPiwTs8LPOk7UOHCJxt1GAcJrsvvZo9sp6B24YLw10Kyoa+f8FOORnnXvOdaAwdRDgetOA+EL527501Q9blp+MPR0BSAd9L33fuQ4Ugu0EnjAFiHWViAOTY6nJzgGw3fecpzo6hEsC0HgIM/nSsMVoj3EHhPdU6XnUz/X9We1ArrSyqzv8mKBrmhHRGi6OJvdVO5DMlXoTXeEJo4tonl9BtahEtxDEl9myVhCSzp7qRSJ4Nn2m8SreR/LBVmYAfx2bTSWQY6VJu0v24DfTp0D0tsqQtN/30kOxrg7Qzn0uyAdwvKmQsJLkYKvi8fMIvKmYTR1pAjh/Ie0GscEkpFONgN1+1nm45m+aBzL50ioiPEJyeacFFvNJ+kOw1zYOqXNGsky+dDsRffRfjGSAdYfvJT9phPz/DaU1uos6ltcg6osJ8RgBu51zUVtMItt+8euR/h8X8hqtZu7E1PUM+YzJahb/UVF8a0lWswupq8tpV/kBC+GtIvuqyykQUfytupyCn7PSfyAetUy7ZdQB07BOdP8AHHSWMKZhltwAAAAASUVORK5CYII='</span>;</span><br><span class="line"><span class="comment">// 成功图标</span></span><br><span class="line"><span class="keyword">var</span> success_modal = <span class="string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADd0lEQVRYR82X328UVRzFz5ntRgj4K+rOLtEAUV80MUENINhfs/iAxl+J8UFejCaW3emDiS/6D/gs4k4J8cXgiwkmICH60J2xpSj6IjEaY4yx+GumLdCAUdN2d46Zku3+mmV3yxact5m595zPnPu9c+8lbvDFG+yPzgG8l9dltHEQ0JOCtgM0KWwStQRwhtKfAr4SjE9nbl08hUcPL3XycR0BpLz8vkTIAyDu6EQUwO9CuD+wxk62a39VgDsnX8skl5IfgHiinVDce0Ef/ZtU7lL/2Hyr/i0B0m7uKYJHAN6+GvNKH0F+mXhxbtiZitOJBTCL+acN8pNrMa7tKyEMyYFZ673TjZpNAJmivVnUdwQ39gog0pEw87fw4F97ChdqdZsA0q59hsCOXpqvDId0Isg6z7QEWK528cO1MK/WRDgUWGMTlftqAgIzXv4cwHt6ASDhsoA3SLxJ4N6qps76lrOtCSDlju5OQLGV2i1QZF42NDg37JzNePkRiIdqNcoy7pvNHvw5eraSQMa13wbwVrdmje1rzc2J0a1GOZxoTDWkXp8Zdg7UAxTzp0HuuhaAWvO7JkbuT5QSUyRTTZrSMT/rPF8HkC7a0yQ2rx5A8yXCimJPj488QPZNtvp1S/g6yBaWZ9qVIRCY9uxFAn2rA9C8wP7AKnyfGs89lDCMqMpva6kl/eFnnbsbAPILBJNxnSQdFXmK0DsEG/4dVfOMm3tEMlwSt1z1Q5oAAKTd/C8Et8R1LFHbomij/4QhHKlCVM1NL7eToTFOYkO7FKNlO7AKOxuLcBJkf2wCkL+YwI6Lg85vpmu/Quh9AhcEDkWxm66dNYATANa3M78y4vg4sAovdDUNBU2X+kq7zg8c9k0v/2pZmjpvjf2YLub2gjzeavjigGKnYepz+7FEiC/ajN1PSiZ2BwMH56J2pms/S+Bot8UrlrcGw4em6xKIZkLGs38FsFydrS5JP/yzfuHxDQs3bVfIkySMTmJfaSN942edhyv3dRXd6WIk4RyoTd3EXgXAoJ8tTMYCRA/XcjkGdNy3nOdqE2veD3j7t0DGtwRv7iraNo073pBUissAjvUKQEApNDAwO1T4slHzumxKEWJfsMfx4j7o/7str6U13dGXDOnd634wqYuscjRTuFeMNq0xRzPyjMTPen4061Uxdl0Da2lc0f4PeKyXMJXpyrIAAAAASUVORK5CYII='</span>;</span><br><span class="line"><span class="comment">// 警告图标</span></span><br><span class="line"><span class="keyword">var</span> warning_modal = <span class="string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC8ElEQVRYR8WXTUhUURTHf0fToEWQfbmoKKjIRSotCiwoiDCqTWCCRkGl84aEllmLQgqkWpbVvBlxIRUxfay0j00fEGSr1CIi0igMhCRpE0k5J+4bJsdxPu4bhzzb9///z/+de++55wo+Qq+xiGLqUdYDS4DlCDGUb8AYwgcmicpxxm1lJRdQoxTznQaEQ8BOoDgrR/mD8AQlIkHu5tLPaEDbKKKcJoQzwIpcQhm+v0IISoD+TPy0BtRlAcp9hNo8EyfTFDglDpfSac0woFcpZx6PgcoCJJ+SULop46jUM5msO82AupQAfcAmy+RfgBGgxhJ/TxzqshnoAFqsxIRjEqDLYDXEaYR2Kx6cF4ezCey/CqjLXqDHSkQZlyBlCaxeZiHz+WHFNSBhtwS8ZcYz4JVeGUJYaSkyJA5rp+00F7PZ7EIZkCDVyQZOAhft2B5qdgbimRskwO14BUJ8Qlj9Xw0oLyVIjWiECmK885G8MBXAW7Jloi5+y18oA8ZCkzFgjtKROaiASemKhnhojsWcGFB6jIF+hKo5MvDaLMFAHn1/9scw/seDpgK9CHt8VmBEnKmmpVFKGWfCp4bZhI9MBVwg4JtcRJU0M+j1kTD7vevbf3QZA01AxDdX+YrQiVKJePdIqW8NaBXtYDEl3kyXczzLI0F2Sow1iVb8AmGrrwTKBEIUGEZpRFjniw/vxaEibuA6Bynihg+BX8BmcXjj8ePX8UdgqQ+NVjOmJc8DZkNttBS4Iw71yVh1uQk0WvGVYYQN4vB7ykCYWnMsrATguTjsSDHwDNhuyd8nDr0GmzoTngNvDM8diiNBwt4SuDhAKDfJgLkiQU4ksDOnYj+lBDOUmlhlmbyPMrYlT8bpDJjxrBPhsJWoLUh5yyS7pIXRZErml1F8TrhQkP6gPEA4IA4/U/1mbT4aphr11naL7Y+m4D6jtOMQEUk/tFp1Pw1Rh9Bs/TiFp0A3o9ySNmLZzFsZSAikeZ6bJ7qJsXyf538B0n8BZanHYR0AAAAASUVORK5CYII='</span>;</span><br><span class="line"><span class="comment">// 错误图标</span></span><br><span class="line"><span class="keyword">var</span> error_modal = <span class="string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADd0lEQVRYR9WXS4gcVRSG/79qEnGjk3vLhc+4FBVd6CJIpqsmEXyShUpcZCGO+AqIqOALUdSFgqAJGEUxKIgujAoSHyQg0z2jC4UEYkCEREQiI2jd7owmIdpT9Uu16Xl0V1f1tNMEa9X0veec75zz31O3iNP88DTHx/8PoDE+emWS+jeSWivxPJIegF8F/YwEe4Np9+1yqtpXBQR4jSi4W9DjAC8uCiBphuTLBvF2VjFXBlMKkGWcyn8P4GVlzhavSzjkecmdZrLxdZFdIYCLzO2S9zaJM5cTfH6v1CTwoKm513vZ9wSIK/YWevxooMAdRoSeMFX3Yp6vXIA4spdA3D9w5nmRlG62tfquzqVcABcGB0BcsRLZL/iQM6vdWu7F8cV+uwBcxUzA83Z2BRd2kfgyBbYTOCM3SeF3j3pY4L0A1nf7SJ+xtfpzxQA9smeKLWYqfv9oxW5IiC9Arl4SQGqIuCaouh9cGDwL4ulOgOyIBjV3fk+A42PBuSd9zOSWXjriay4cnZr9yUXmeoC7AY609koNKg3NVOOgi8w6iHtAnpXnx0+aV41Oz+5vry1pgYvMXYD3Vq/eS/htlf5ef/bUH4calWBT6uljAMeYpmNZ8Hq4ZiyFv6dIvJKeDGruhR4A9nmATxWLTw6JKna6/r2rmM2+ksNZRvG43Qjxs176WJgNeNPW4kwjrWdpBUK7E+REufp1lEkamunGd9neerjmBsH7BOSqUlvhc1uLb/pPAAKOjSTNsN3LhXbQLwOQtDuouU0Dt0DCCXjaEEy6b9y4uVXgL63fkbkN4gcgS94v6Ru2Wr9vUBGe8JhcZ6qNr9onQeDJdjXqUbBF0rtFECUiNBcA3pHcIQP85SG5dj64mPX81CzQ7PxJKIHwiatHJ+N9uRXI/nSRPQjw8k4ISluzt1o/gygO7Q6SW3MSiW01PqdwEtZDe7/I17qN9SHBbBRvKxrFPvRIQtxBcGN3EnjU1OKXCgEUYaQu+yPIi8oUvZx1AYftn/Gl3IdmIcC/bWiN2k+B8mPVF4TU9NO5dYtHcE8NtBfiyGZlfKevACWbBD0QVN2reduGfiUT8VBQdTt6MQ73UspkIju2RQUqBciMT13L7xH0WJ/X8lcM4m0rci3vpG99mMi/mdCFrQ+TTKjEzFA/TFZCiANrYJjBM999aWCYEP8A7TSkMOyQWnEAAAAASUVORK5CYII='</span>;</span><br><span class="line"><span class="comment">// 关闭图标</span></span><br><span class="line"><span class="keyword">var</span> close_modal = <span class="string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACFElEQVRYR+2WTWsTQRjH/08mLxepKIoHQcRLBRX0IPhCay2ih/opQpYJCeSQjxLIy7Ahn8KTivZVhB4aqEJ70V5FUSwlkmSHRyZYWJZtd3YDWQ/d487M8//Nf5555iGk/FHK+jgD+H8dcF33wWg0+lStVo+myZNms3kun8/fdhznY1icUAeUUs8BvALQ9zxvOSmEEc9ms+8A3AXwUkr5OghxEsB5Zn5PRPcAbA+Hw2e1Wu0wjhONRmOuUCi8BXCfmXeI6KmU8rcVgJmklPJD9LXWy5VK5ZcNRKvVuiCEmOz8NHET69QkNBAANgDcAfBZa70QBaGUugRgFcCtKPFIADOh2+1e1FqbgBMIAEtSyh9hThhxZt4konkAuwAWwmz3r7W6hn4IZt4XQjxxHOebP5Drule01mvH4kKIpVKp9DPqyKwAgk4w8xchxKNjiHa7fZWI1onohtm5rbjVEfh38M+JLQA3DQQzL5rxTCbzAcC1uOKxAcyCXq93eTwerxsIAF8BiKTiiQBCIMyvWLbHTsJgIgVcMMN7uVxusVgsfo9KOutCdFIgvzgzH0xsJLpuIIQQj20yP7EDqSZhoBbM9hqmWohSLcVB8Zk+RgHx2T7HgWd4moZkLaoniGrJtj3Pe5G0JfN1RaYxWSmXy2+sC1Gn03k4GAz69Xr9T9zq5p+fqCmdRjDuWut+IG5g2/lnAKk78Bd192wwo+7w4AAAAABJRU5ErkJggg=='</span>;</span><br><span class="line"><span class="comment">// 问号按钮</span></span><br><span class="line"><span class="keyword">var</span> question_modal = <span class="string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADlUlEQVRYR72XXWhUVxDHf7MJpYlCjdWkUloLVWmgvhSCUigUffADioqyIuapJd5NUwQxxra2Nf1AaQWp4EfWbygWTH0RQhUUNWqhhbRNihhEUjWCDZiEpCGka7I75dw9m+xudu+9m9Se1/Of//zPnDlzZoSAS/dTQimrgI3AQoTnUSqABEIf0AvcRjjHP/woW4kFoRY/kJ5kLqPsQdmMUOKHt/vDKN8xxifygSsu78orQBsp5gW2I3wKzAjoOBs2BHzOXxyQRsZyceQUoIcpo4gW4M0pOs40U34lzjqp42E23yQBGuVVlMsIr/wnzidIBhHWyBZa03kzBGiUOSjtCC/6Olc6EAZcnLq5sThAjvRTzGJ5j0cp/nEBbpbP4CbwRl7nygjCV4RokRr+SMdpM88wQDXKfuA5jwP8BiwVh1GDmRAQ5WugwcN5H0UsSzl2k3QelShxhLspQj3OAuL8Asz24PpYIuwdF6BHKCfEA+BZD+XLxOGqG/EjhAkRBWZZ/CBQLw7H3f0mViJc8BDwN8LL4jDoRkCjNAGOh0GbRKiy2NeAW0DRJLyyViKct7iffF7RPnFoEPfu+hnwSaDPxOFLe7ofEDbkEdsqDm9bAd8AOzwi2k8Z5aJHWYFy0SfrT6J8j9AB7lWV5sQrPRJhnhWwG2j05BVWi0Y5CNT5PrsgAOWKRFhuI2UEb/I0U06INnEVSYZtmmuIEEukhk49xEyK6fEt4co1E4FOwCTWdNZjEqyQWn63pz+LEPYlVO4aAaaaeRUOP55uwDzRLut8H0K9n5G7r4yYKxhCmBnIYDKonzhV8j5/2sQzVXBbYC4lZiJwB1gU2CgdmKBaajlT8MknOLqmk4TDlDFbwjzRo7yLcmIKh2g1ETgM1BZsnPnkriO8VTAHnDIR8K7b+ViVMxKh2oa/G+GlggUIG4KW4lzc7ZCs+ygNAXqBbI4nDDMr9RmZn21LwSeYjoHSLBE2JgUco4IE932+42x39wBTA0wEKhHKA+tRYsRZaHrE9IbENAgfBiaBXeKwx+aAf91PJ1a+kAjms0rriIK0ZJnqpiogd0tmK9kcoA2Y7xsJ5QrCDXsF6xFe97WB/E1pytjt6ca49FTa8hDvSI0VbR3+X4PJz8QJBxpMxiOR7Hp3Ah/5/uv5Y58czcr4VsLEc8Ge3nAKpxll95SH02y14+O5aTSURe54DiZpzepF3Sk4OZ7HuBB0PP8X+s83WFbJv84AAAAASUVORK5CYII='</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">$modal</span>(<span class="params">data</span>) </span>&#123; <span class="comment">// data 必传 且为对象</span></span><br><span class="line">    <span class="comment">// 赋值默认参数</span></span><br><span class="line">    <span class="keyword">if</span> (data === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 弹框类型不传默认为 alert</span></span><br><span class="line">    <span class="keyword">if</span> (data.type === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.type = <span class="string">'alert'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    tipIconImg = <span class="string">''</span>; <span class="comment">//提示显示小图标</span></span><br><span class="line">    <span class="comment">// 提示类型 默认不传为  info</span></span><br><span class="line">    <span class="keyword">if</span> (data.icon === <span class="string">'success'</span>) &#123;</span><br><span class="line">        tipIconImg = success_modal</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.icon === <span class="string">'warning'</span>) &#123;</span><br><span class="line">        tipIconImg = warning_modal</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.icon === <span class="string">'error'</span>) &#123;</span><br><span class="line">        tipIconImg = error_modal</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.icon === <span class="string">'question'</span>) &#123;</span><br><span class="line">        tipIconImg = question_modal</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        tipIconImg = info_modal</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 弹框显示时长   confirm 下无效 </span></span><br><span class="line">    <span class="keyword">if</span> (data.timeout === <span class="literal">undefined</span> &amp;&amp; data.type != <span class="string">'confirm'</span>) &#123;</span><br><span class="line">        data.timeout = <span class="number">2000</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 最短显示时间为500</span></span><br><span class="line">        data.timeout &lt; <span class="number">500</span> ? data.timeout = <span class="number">500</span> : data.timeout = data.timeout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 过渡动画</span></span><br><span class="line">    <span class="keyword">if</span> (data.transition === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.transition = <span class="number">200</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遮罩层参数</span></span><br><span class="line">    <span class="keyword">if</span> (data.mask === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.mask</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 最小宽度</span></span><br><span class="line">    <span class="keyword">if</span> (data.width === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.width = <span class="number">300</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 禁止页面滚动</span></span><br><span class="line">    <span class="keyword">if</span> (data.pageScroll === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.pageScroll = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 提示框标题</span></span><br><span class="line">    <span class="keyword">if</span> (data.title === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.title = <span class="string">'提示'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遮罩层关闭</span></span><br><span class="line">    <span class="keyword">if</span> (data.maskClose === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.maskClose = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 取消按钮文字</span></span><br><span class="line">    <span class="keyword">if</span> (data.cancelText === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.cancelText = <span class="string">'取消'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 确认按钮文字</span></span><br><span class="line">    <span class="keyword">if</span> (data.confirmText === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.confirmText = <span class="string">"确认"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 距离顶部距离</span></span><br><span class="line">    <span class="keyword">if</span> (data.top === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.top = <span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 是否绝对剧中</span></span><br><span class="line">    <span class="keyword">if</span> (data.center === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        data.center = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 公共计算当前元剧中top 值</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">calculate</span>(<span class="params">e, sun</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data.center) &#123;</span><br><span class="line">            <span class="keyword">var</span> tipHeight = e.height() + sun;</span><br><span class="line">            <span class="built_in">console</span>.log(tipHeight)</span><br><span class="line">            <span class="keyword">var</span> windowHeight = $(<span class="built_in">window</span>).height();</span><br><span class="line">            <span class="built_in">console</span>.log((windowHeight / <span class="number">2</span>) - (tipHeight / <span class="number">2</span>))</span><br><span class="line">            data.top = (windowHeight / <span class="number">2</span>) - (tipHeight / <span class="number">2</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  生成相对唯一id  保证弹框绑定id唯一  保证事件绑定不重复  （此处用于保证弹框内层 继续 弹框  不出现事件绑定重复）</span></span><br><span class="line">    <span class="keyword">var</span> idText = <span class="string">"modailItem"</span>;</span><br><span class="line">    <span class="keyword">var</span> date = (<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() * <span class="built_in">Math</span>.random() + <span class="string">''</span>).substr(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">    idText += date;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> titleSize = <span class="number">16</span>; <span class="comment">//标题文字大小</span></span><br><span class="line">    <span class="keyword">var</span> fontSize = <span class="number">14</span>; <span class="comment">//字体大小</span></span><br><span class="line">    <span class="comment">// 创建最外层元素 </span></span><br><span class="line">    <span class="keyword">if</span> ($(<span class="string">'#modail-dialog-box'</span>).index() &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> modelBox = <span class="string">'&lt;div id="modail-dialog-box"&gt;&lt;/div&gt;'</span></span><br><span class="line">        $(<span class="string">'body'</span>).append(modelBox)</span><br><span class="line">        <span class="comment">// 设置样式</span></span><br><span class="line">        $(<span class="string">'#modail-dialog-box'</span>).css(&#123;</span><br><span class="line">            fontFamily: <span class="string">'微软雅黑'</span>,</span><br><span class="line">            fontSize: fontSize + <span class="string">'px'</span>,</span><br><span class="line">            color: <span class="string">'#666666'</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成 message 提示</span></span><br><span class="line">    <span class="keyword">if</span> (data.type === <span class="string">'message'</span>) &#123;</span><br><span class="line">        $(<span class="string">'#modail_message_box'</span>).html(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#modail-dialog-box'</span>).append(<span class="string">'&lt;div id="modail_message_box"&gt;&lt;/div&gt;'</span>)</span><br><span class="line">        <span class="comment">// 设置message提示框长度</span></span><br><span class="line">        <span class="keyword">var</span> width_s = <span class="number">40</span> + (fontSize * data.content.length) + fontSize + <span class="number">4</span>;</span><br><span class="line">        <span class="comment">// 不需要遮罩层</span></span><br><span class="line">        $(<span class="string">'#modail_message_box'</span>).append(<span class="string">'&lt;div id="'</span> + idText + <span class="string">'_box"&gt;&lt;/div&gt;'</span>);</span><br><span class="line">        <span class="comment">// 添加左侧图标</span></span><br><span class="line">        $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item1"&gt;&lt;img src="'</span> + tipIconImg + <span class="string">'" /&gt;&lt;/div&gt;'</span>);</span><br><span class="line">        <span class="comment">// 提示内容</span></span><br><span class="line">        $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item2"&gt;'</span> + data.content + <span class="string">'&lt;/div&gt;'</span>);</span><br><span class="line">        <span class="keyword">if</span> (data.closable) &#123;</span><br><span class="line">            <span class="comment">// 右侧关闭图标</span></span><br><span class="line">            width_s += fontSize + <span class="number">4</span>;</span><br><span class="line">            $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item3"&gt;&lt;img src="'</span> + close_modal + <span class="string">'" /&gt;&lt;/div&gt;'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 设置外层框样式</span></span><br><span class="line">        $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).css(&#123;</span><br><span class="line">            width: width_s + <span class="string">'px'</span>,</span><br><span class="line">            padding: <span class="string">'10px 15px'</span>,</span><br><span class="line">            background: <span class="string">'#fff'</span>,</span><br><span class="line">            boxShadow: <span class="string">'0 1px 6px rgba(0,0,0,.2)'</span>,</span><br><span class="line">            borderRadius: <span class="string">'5px'</span>,</span><br><span class="line">            position: <span class="string">'fixed'</span>,</span><br><span class="line">            left: <span class="string">'0'</span>,</span><br><span class="line">            margin: <span class="string">'auto'</span>,</span><br><span class="line">            right: <span class="string">'0'</span>,</span><br><span class="line">            opacity: <span class="string">'0'</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置文字内容框样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item2'</span>).css(&#123;</span><br><span class="line">            margin: <span class="string">'0 8px'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置文字关闭按钮靠边样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item3'</span>).css(&#123;</span><br><span class="line">            position: <span class="string">'absolute'</span>,</span><br><span class="line">            right: <span class="string">'15px'</span>,</span><br><span class="line">            cursor: <span class="string">'pointer'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置内层框公共样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item'</span>).css(&#123;</span><br><span class="line">            display: <span class="string">'inline-block'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item img'</span>).css(&#123;</span><br><span class="line">            width: fontSize + <span class="number">4</span> + <span class="string">'px'</span>,</span><br><span class="line">            verticalAlign: <span class="string">'top'</span>,</span><br><span class="line">            position: <span class="string">'relative'</span>,</span><br><span class="line">            top: <span class="string">'1px'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 计算 距离顶部距离</span></span><br><span class="line">        calculate($(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>), <span class="number">20</span>)</span><br><span class="line">        $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).css(&#123;</span><br><span class="line">            top: data.top - <span class="number">60</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 显示动画</span></span><br><span class="line">        $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).animate(&#123;</span><br><span class="line">            <span class="string">'top'</span>: data.top,</span><br><span class="line">            <span class="string">'opacity'</span>: <span class="string">'1'</span>,</span><br><span class="line">        &#125;, data.transition)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 关闭动画</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">close</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).animate(&#123;</span><br><span class="line">                <span class="string">'top'</span>: data.top - <span class="number">60</span>,</span><br><span class="line">                <span class="string">'opacity'</span>: <span class="string">'0'</span>,</span><br><span class="line">            &#125;, data.transition)</span><br><span class="line">            <span class="comment">// 删除DOM</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).remove();</span><br><span class="line">            &#125;, data.transition)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 定时关闭</span></span><br><span class="line">        <span class="keyword">var</span> timers;</span><br><span class="line">        <span class="keyword">if</span> (!data.manual) &#123;</span><br><span class="line">            timers = setTimeout(close, data.timeout);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 按钮关闭</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item3'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// 清除定时器</span></span><br><span class="line">            clearInterval(timers)</span><br><span class="line">            close();</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.type === <span class="string">'alert'</span>) &#123;</span><br><span class="line">        <span class="comment">// 是否禁止页面滚动</span></span><br><span class="line">        <span class="keyword">if</span> (data.pageScroll) &#123;</span><br><span class="line">            $(<span class="string">'body'</span>).css(<span class="string">'overflow'</span>, <span class="string">'hidden'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// alert 提示框展示</span></span><br><span class="line">        <span class="comment">// 添加 alert 提示框</span></span><br><span class="line">        $(<span class="string">'#modail-dialog-box'</span>).append(<span class="string">'&lt;div id="'</span> + idText + <span class="string">'_box"&gt;&lt;/div&gt;'</span>)</span><br><span class="line">        <span class="comment">// 是否添加遮罩层</span></span><br><span class="line">        <span class="keyword">if</span> (data.mask) &#123;</span><br><span class="line">            $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_mask"&gt;&lt;/div&gt;'</span>)</span><br><span class="line">            <span class="comment">// 设置mask外层弹框样式</span></span><br><span class="line">            $(<span class="string">'.'</span> + idText + <span class="string">'_mask'</span>).css(&#123;</span><br><span class="line">                position: <span class="string">'fixed'</span>,</span><br><span class="line">                top: <span class="number">0</span>,</span><br><span class="line">                right: <span class="number">0</span>,</span><br><span class="line">                left: <span class="number">0</span>,</span><br><span class="line">                bottom: <span class="number">0</span>,</span><br><span class="line">                background: <span class="string">'rgba(0,0,0,0.4)'</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 生成中间层</span></span><br><span class="line">        $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'centerBox"&gt;&lt;/div&gt;'</span>);</span><br><span class="line"></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).css(&#123;</span><br><span class="line">            width: data.width + <span class="string">'px'</span>,</span><br><span class="line">            padding: <span class="string">'20px'</span>,</span><br><span class="line">            background: <span class="string">'#ffffff'</span>,</span><br><span class="line">            position: <span class="string">'fixed'</span>,</span><br><span class="line">            right: <span class="number">0</span>,</span><br><span class="line">            left: <span class="number">0</span>,</span><br><span class="line">            margin: <span class="string">'auto'</span>,</span><br><span class="line">            borderRadius: <span class="string">'5px'</span>,</span><br><span class="line">            boxShadow: <span class="string">'0 1px 6px rgba(0,0,0,.2)'</span>,</span><br><span class="line">            opacity: <span class="string">'0'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 生成头部以及提示内容部分</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'title"&gt;&lt;/div&gt;'</span>)</span><br><span class="line">        <span class="comment">// 添加左侧图标</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'title'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item1"&gt;&lt;img src="'</span> + tipIconImg + <span class="string">'" /&gt;&lt;/div&gt;'</span>);</span><br><span class="line">        <span class="comment">// 提示标题</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'title'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item2"&gt;'</span> + data.title + <span class="string">'&lt;/div&gt;'</span>);</span><br><span class="line">        <span class="keyword">if</span> (data.closable) &#123;</span><br><span class="line">            <span class="comment">// 右侧关闭图标</span></span><br><span class="line">            $(<span class="string">'.'</span> + idText + <span class="string">'title'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item3"&gt;&lt;img src="'</span> + close_modal + <span class="string">'" /&gt;&lt;/div&gt;'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 设置标题框文字样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item2'</span>).css(&#123;</span><br><span class="line">            margin: <span class="string">'0 8px'</span>,</span><br><span class="line">            fontSize: titleSize + <span class="string">'px'</span>,</span><br><span class="line">            color: <span class="string">'#333333'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置文字关闭按钮靠边样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item3'</span>).css(&#123;</span><br><span class="line">            position: <span class="string">'absolute'</span>,</span><br><span class="line">            right: <span class="string">'15px'</span>,</span><br><span class="line">            cursor: <span class="string">'pointer'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置内层框公共样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item'</span>).css(&#123;</span><br><span class="line">            display: <span class="string">'inline-block'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item img'</span>).css(&#123;</span><br><span class="line">            width: titleSize + <span class="number">4</span> + <span class="string">'px'</span>,</span><br><span class="line">            verticalAlign: <span class="string">'top'</span>,</span><br><span class="line">            position: <span class="string">'relative'</span>,</span><br><span class="line">            top: <span class="string">'-1px'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置提示框 box 样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'title'</span>).css(&#123;</span><br><span class="line">            marginBottom: <span class="string">'10px'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// </span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'body"&gt;'</span> + data.content + <span class="string">'&lt;/div&gt;'</span>)</span><br><span class="line">        <span class="comment">// 设置样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'body'</span>).css(&#123;</span><br><span class="line">            padding: <span class="string">'0 '</span> + (titleSize + <span class="number">10</span>) + <span class="string">'px'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 计算距离顶部距离</span></span><br><span class="line">        calculate($(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>), <span class="number">40</span>);</span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).css(&#123;</span><br><span class="line">            top: data.top + <span class="number">40</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 显示动画</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).animate(&#123;</span><br><span class="line">            <span class="string">'top'</span>: data.top,</span><br><span class="line">            <span class="string">'opacity'</span>: <span class="string">'1'</span>,</span><br><span class="line">        &#125;, data.transition);</span><br><span class="line">        <span class="comment">// 关闭动画</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">close</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).animate(&#123;</span><br><span class="line">                <span class="string">'top'</span>: data.top + <span class="number">40</span>,</span><br><span class="line">                <span class="string">'opacity'</span>: <span class="string">'0'</span>,</span><br><span class="line">            &#125;, data.transition)</span><br><span class="line">            <span class="comment">// 删除DOM</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).remove();</span><br><span class="line">                <span class="keyword">if</span> (data.pageScroll) &#123;</span><br><span class="line">                    $(<span class="string">'body'</span>).css(<span class="string">'overflow'</span>, <span class="string">'auto'</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, data.transition)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 定时关闭</span></span><br><span class="line">        <span class="keyword">var</span> timers;</span><br><span class="line">        <span class="keyword">if</span> (!data.manual) &#123;</span><br><span class="line">            timers = setTimeout(close, data.timeout);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 按钮关闭</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item3'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// 清除定时器</span></span><br><span class="line">            clearInterval(timers)</span><br><span class="line">            close();</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 遮罩层关闭</span></span><br><span class="line">        <span class="keyword">if</span> (data.maskClose) &#123;</span><br><span class="line">            $(<span class="string">'.'</span> + idText + <span class="string">'_mask'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// 清除定时器</span></span><br><span class="line">                clearInterval(timers)</span><br><span class="line">                close();</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.type === <span class="string">'confirm'</span>) &#123;</span><br><span class="line">        <span class="comment">// 是否禁止页面滚动</span></span><br><span class="line">        <span class="keyword">if</span> (data.pageScroll) &#123;</span><br><span class="line">            $(<span class="string">'body'</span>).css(<span class="string">'overflow'</span>, <span class="string">'hidden'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// alert 提示框展示</span></span><br><span class="line">        <span class="comment">// 添加 alert 提示框</span></span><br><span class="line">        $(<span class="string">'#modail-dialog-box'</span>).append(<span class="string">'&lt;div id="'</span> + idText + <span class="string">'_box"&gt;&lt;/div&gt;'</span>)</span><br><span class="line">        <span class="comment">// 是否添加遮罩层</span></span><br><span class="line">        <span class="keyword">if</span> (data.mask) &#123;</span><br><span class="line">            $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_mask"&gt;&lt;/div&gt;'</span>)</span><br><span class="line">            <span class="comment">// 设置mask外层弹框样式</span></span><br><span class="line">            $(<span class="string">'.'</span> + idText + <span class="string">'_mask'</span>).css(&#123;</span><br><span class="line">                position: <span class="string">'fixed'</span>,</span><br><span class="line">                top: <span class="number">0</span>,</span><br><span class="line">                right: <span class="number">0</span>,</span><br><span class="line">                left: <span class="number">0</span>,</span><br><span class="line">                bottom: <span class="number">0</span>,</span><br><span class="line">                background: <span class="string">'rgba(0,0,0,0.4)'</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 生成中间层</span></span><br><span class="line">        $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'centerBox"&gt;&lt;/div&gt;'</span>);</span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).css(&#123;</span><br><span class="line">            width: data.width + <span class="string">'px'</span>,</span><br><span class="line">            padding: <span class="string">'20px'</span>,</span><br><span class="line">            background: <span class="string">'#ffffff'</span>,</span><br><span class="line">            position: <span class="string">'fixed'</span>,</span><br><span class="line">            right: <span class="number">0</span>,</span><br><span class="line">            left: <span class="number">0</span>,</span><br><span class="line">            margin: <span class="string">'auto'</span>,</span><br><span class="line">            borderRadius: <span class="string">'5px'</span>,</span><br><span class="line">            boxShadow: <span class="string">'0 1px 6px rgba(0,0,0,.2)'</span>,</span><br><span class="line">            opacity: <span class="string">'0'</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 生成头部以及提示内容部分</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'title"&gt;&lt;/div&gt;'</span>)</span><br><span class="line">        <span class="comment">// 添加左侧图标</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'title'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item1"&gt;&lt;img src="'</span> + tipIconImg + <span class="string">'" /&gt;&lt;/div&gt;'</span>);</span><br><span class="line">        <span class="comment">// 提示标题</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'title'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item2"&gt;'</span> + data.title + <span class="string">'&lt;/div&gt;'</span>);</span><br><span class="line">        <span class="keyword">if</span> (data.closable) &#123;</span><br><span class="line">            <span class="comment">// 右侧关闭图标</span></span><br><span class="line">            $(<span class="string">'.'</span> + idText + <span class="string">'title'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'_item item3"&gt;&lt;img src="'</span> + close_modal + <span class="string">'" /&gt;&lt;/div&gt;'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 设置标题框文字样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item2'</span>).css(&#123;</span><br><span class="line">            margin: <span class="string">'0 8px'</span>,</span><br><span class="line">            fontSize: titleSize + <span class="string">'px'</span>,</span><br><span class="line">            color: <span class="string">'#333333'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置文字关闭按钮靠边样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item3'</span>).css(&#123;</span><br><span class="line">            position: <span class="string">'absolute'</span>,</span><br><span class="line">            right: <span class="string">'15px'</span>,</span><br><span class="line">            cursor: <span class="string">'pointer'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置内层框公共样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item'</span>).css(&#123;</span><br><span class="line">            display: <span class="string">'inline-block'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item img'</span>).css(&#123;</span><br><span class="line">            width: titleSize + <span class="number">4</span> + <span class="string">'px'</span>,</span><br><span class="line">            verticalAlign: <span class="string">'top'</span>,</span><br><span class="line">            position: <span class="string">'relative'</span>,</span><br><span class="line">            top: <span class="string">'-1px'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置提示框 box 样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'title'</span>).css(&#123;</span><br><span class="line">            marginBottom: <span class="string">'10px'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// </span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'body"&gt;'</span> + data.content + <span class="string">'&lt;/div&gt;'</span>)</span><br><span class="line">        <span class="comment">// 设置样式</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'body'</span>).css(&#123;</span><br><span class="line">            padding: <span class="string">'0 '</span> + (titleSize + <span class="number">10</span>) + <span class="string">'px'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 设置按钮</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).append(<span class="string">'&lt;div class="'</span> + idText + <span class="string">'footer"&gt;&lt;button  class="button_s_model '</span> + idText + <span class="string">'_confirm"&gt;'</span> + data.confirmText + <span class="string">'&lt;/button&gt;&lt;button class="button_s_model '</span> + idText + <span class="string">'_cancel"&gt;'</span> + data.cancelText + <span class="string">'&lt;/button&gt;&lt;div class="clearBoth"&gt;&lt;/div&gt;&lt;/div&gt;'</span>)</span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'footer'</span>).css(&#123; <span class="attr">paddingTop</span>: <span class="string">'20px'</span> &#125;)</span><br><span class="line">        <span class="comment">// 设置样式</span></span><br><span class="line">        $(<span class="string">'.button_s_model'</span>).css(&#123;</span><br><span class="line">            float: <span class="string">'right'</span>,</span><br><span class="line">            marginLeft: <span class="string">'20px'</span>,</span><br><span class="line">            outline: <span class="string">'none'</span>,</span><br><span class="line">            border: <span class="string">'none'</span>,</span><br><span class="line">            padding: <span class="string">'8px 30px'</span>,</span><br><span class="line">            cursor: <span class="string">'pointer'</span>,</span><br><span class="line">            borderRadius: <span class="string">'5px'</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 计算距离顶部距离</span></span><br><span class="line">        calculate($(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>), <span class="number">40</span>)</span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).css(&#123;</span><br><span class="line">            top: data.top + <span class="number">40</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 显示动画</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).animate(&#123;</span><br><span class="line">            <span class="string">'top'</span>: data.top,</span><br><span class="line">            <span class="string">'opacity'</span>: <span class="string">'1'</span>,</span><br><span class="line">        &#125;, data.transition);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 鼠标移入移出</span></span><br><span class="line">        $(<span class="string">'.button_s_model'</span>).hover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="keyword">this</span>).css(&#123; <span class="string">'opacity'</span>: <span class="string">'.8'</span> &#125;)</span><br><span class="line">        &#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="keyword">this</span>).css(&#123; <span class="string">'opacity'</span>: <span class="string">'1'</span> &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 鼠标按下</span></span><br><span class="line">        $(<span class="string">'.button_s_model'</span>).mousedown(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="keyword">this</span>).css(&#123; <span class="string">'opacity'</span>: <span class="string">'1'</span> &#125;)</span><br><span class="line">        &#125;).mouseup(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="keyword">this</span>).css(&#123; <span class="string">'opacity'</span>: <span class="string">'.8'</span> &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 取消按钮样式</span></span><br><span class="line">        $(<span class="string">'.button_s_model.'</span> + idText + <span class="string">'_cancel'</span>).css(&#123;</span><br><span class="line">            background: <span class="string">'#fff'</span>,</span><br><span class="line">            borderBox: <span class="string">'box-sizing'</span>,</span><br><span class="line">            border: <span class="string">'1px solid #eee'</span>,</span><br><span class="line">        &#125;).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            data.cancel(close)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 确认按钮样式</span></span><br><span class="line">        $(<span class="string">'.button_s_model.'</span> + idText + <span class="string">'_confirm'</span>).css(&#123;</span><br><span class="line">            background: <span class="string">'#2d8cf0'</span>,</span><br><span class="line">            color: <span class="string">'#fff'</span>,</span><br><span class="line">        &#125;).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            data.confirm(close)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 清除浮动</span></span><br><span class="line">        $(<span class="string">'.clearBoth'</span>).css(&#123;</span><br><span class="line">            clear: <span class="string">'both'</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 关闭动画</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">close</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">'.'</span> + idText + <span class="string">'centerBox'</span>).animate(&#123;</span><br><span class="line">                <span class="string">'top'</span>: data.top + <span class="number">40</span>,</span><br><span class="line">                <span class="string">'opacity'</span>: <span class="string">'0'</span>,</span><br><span class="line">            &#125;, data.transition)</span><br><span class="line">            <span class="comment">// 删除DOM</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                $(<span class="string">'#'</span> + idText + <span class="string">'_box'</span>).remove();</span><br><span class="line">                <span class="keyword">if</span> (data.pageScroll) &#123;</span><br><span class="line">                    $(<span class="string">'body'</span>).css(<span class="string">'overflow'</span>, <span class="string">'auto'</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, data.transition)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 按钮关闭</span></span><br><span class="line">        $(<span class="string">'.'</span> + idText + <span class="string">'_item.item3'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            close();</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 遮罩层关闭</span></span><br><span class="line">        <span class="keyword">if</span> (data.maskClose) &#123;</span><br><span class="line">            $(<span class="string">'.'</span> + idText + <span class="string">'_mask'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                close();</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误提示</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">$error</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    $modal(&#123;</span><br><span class="line">        type: <span class="string">'message'</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'  message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">        icon: <span class="string">'error'</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">        timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms） </span></span><br><span class="line">        content: e, <span class="comment">// 提示文字 </span></span><br><span class="line">        center: <span class="literal">true</span>,<span class="comment">// 是否绝对居中 默认为false  设置true后   top无效</span></span><br><span class="line">        top:<span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">        transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">        closable: <span class="literal">true</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 成功提示</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">$success</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    $modal(&#123;</span><br><span class="line">        type: <span class="string">'message'</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'  message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">        icon: <span class="string">'success'</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">        timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms） </span></span><br><span class="line">        content: e, <span class="comment">// 提示文字 </span></span><br><span class="line">        center: <span class="literal">true</span>,<span class="comment">// 是否绝对居中 默认为false  设置true后   top无效</span></span><br><span class="line">        top:<span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">        transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">        closable: <span class="literal">true</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>使用弹窗库</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">message</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'  message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: e, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms）</span></span><br><span class="line">    content: <span class="string">"手机号格式有误"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    center: <span class="literal">false</span>, <span class="comment">// 是否绝对居中 默认为false  设置true后   top无效</span></span><br><span class="line">    top: <span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">    closable: <span class="literal">true</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">".message"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  message($(<span class="keyword">this</span>).attr(<span class="string">"data-icon"</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">$(<span class="string">".message1"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'    message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: <span class="string">"info"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms）</span></span><br><span class="line">    content: <span class="string">"人间值得"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    center: <span class="literal">true</span>, <span class="comment">// 是否绝对居中 默认为false  设置true后   top无效</span></span><br><span class="line">    top: <span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">    closable: <span class="literal">false</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">$(<span class="string">".message2"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'    message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: <span class="string">"info"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms）</span></span><br><span class="line">    content: <span class="string">"人间值得"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    top: <span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200  单位ms</span></span><br><span class="line">    closable: <span class="literal">false</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// alert</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">alert</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"alert"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'   message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: e, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms）</span></span><br><span class="line">    title: <span class="string">"问你个问题"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    content: <span class="string">"人间值得?"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    top: <span class="number">300</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    center: <span class="literal">true</span>, <span class="comment">// 是否绝对居中 默认为false  设置true后   top无效</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">    closable: <span class="literal">true</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">    mask: <span class="literal">true</span>, <span class="comment">// 是否显示遮罩层   默认为 false</span></span><br><span class="line">    pageScroll: <span class="literal">true</span>, <span class="comment">// 是否禁止页面滚动</span></span><br><span class="line">    width: <span class="number">300</span>, <span class="comment">// 单位 px 默认显示宽度 最下默认为300</span></span><br><span class="line">    maskClose: <span class="literal">true</span>, <span class="comment">// 是否点击遮罩层可以关闭提示框 默认为false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">".alert"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert($(<span class="keyword">this</span>).attr(<span class="string">"data-icon"</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">$(<span class="string">".alert2"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"alert"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'   message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: <span class="string">"info"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">999999999</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms） 时间越长相当于需要手动关闭</span></span><br><span class="line">    title: <span class="string">"问你个问题"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    content: <span class="string">"人间值得?"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">    top: <span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    closable: <span class="literal">true</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">    mask: <span class="literal">false</span>, <span class="comment">// 是否显示遮罩层   默认为 false</span></span><br><span class="line">    pageScroll: <span class="literal">false</span>, <span class="comment">// 是否禁止页面滚动</span></span><br><span class="line">    width: <span class="number">300</span>, <span class="comment">// 单位 px 默认显示宽度 最下默认为300</span></span><br><span class="line">    maskClose: <span class="literal">true</span>, <span class="comment">// 是否点击遮罩层可以关闭提示框 默认为false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// confirm</span></span><br><span class="line">$(<span class="string">".confirm"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"confirm"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'   message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: <span class="string">"info"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    title: <span class="string">"问你个问题"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    content: <span class="string">"人间值得?"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">    closable: <span class="literal">true</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">    mask: <span class="literal">true</span>, <span class="comment">// 是否显示遮罩层   默认为 false</span></span><br><span class="line">    top: <span class="number">400</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    center: <span class="literal">true</span>, <span class="comment">// 是否绝对居中 默认为false  设置true后   top无效</span></span><br><span class="line">    pageScroll: <span class="literal">false</span>, <span class="comment">// 是否禁止页面滚动</span></span><br><span class="line">    width: <span class="number">500</span>, <span class="comment">// 单位 px 默认显示宽度 最下默认为300</span></span><br><span class="line">    maskClose: <span class="literal">true</span>, <span class="comment">// 是否点击遮罩层可以关闭提示框 默认为false</span></span><br><span class="line">    cancelText: <span class="string">"取消"</span>, <span class="comment">// 取消按钮 默认为 取消</span></span><br><span class="line">    confirmText: <span class="string">"确认"</span>, <span class="comment">// 确认按钮 默认未 确认</span></span><br><span class="line">    cancel: <span class="function"><span class="keyword">function</span> (<span class="params">close</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 回调函数  //  函数返回关闭事件 调用-关闭弹窗</span></span><br><span class="line">      $modal(&#123;</span><br><span class="line">        type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'   message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">        icon: <span class="string">"success"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">        content: <span class="string">"用户点击了取消"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">      &#125;);</span><br><span class="line">      close(); <span class="comment">// 调用返回的 关闭弹框函数 才能关闭</span></span><br><span class="line">    &#125;,</span><br><span class="line">    confirm: <span class="function"><span class="keyword">function</span> (<span class="params">close</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 回调函数  //  函数返回关闭事件 调用-关闭弹窗</span></span><br><span class="line">      $modal(&#123;</span><br><span class="line">        type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'   message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">        icon: <span class="string">"success"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">        content: <span class="string">"用户点击了确认"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">      &#125;);</span><br><span class="line">      close(); <span class="comment">// 调用返回的 关闭弹框函数 才能关闭</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  快捷错误提示</span></span><br><span class="line"><span class="comment">// $error('这是一条错误提示！')</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  快捷成功提示</span></span><br><span class="line"><span class="comment">// $success('这是一条成功提示！')</span></span><br></pre></td></tr></table></figure></li><li><p>如果用户输入时输入了手机号格式有误，会是以下效果</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E9%94%99%E8%AF%AF%E5%BC%B9%E7%AA%97%E6%8F%90%E7%A4%BA.gif" alt=""></p></li></ul><h2 id="a-id2登录页2登录页a"><a class="markdownIt-Anchor" href="#a-id2登录页2登录页a"></a> <a id="2.登录页">2.登录页</a></h2><p>然后是写登录页的页面</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/login.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"message"</span> <span class="attr">data-icon</span>=<span class="string">"info"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loginBox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 登录方式 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loginWay"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 短信验证码登录 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"codeLogin"</span>&gt;</span></span><br><span class="line">          短信验证码登录</span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-size: 29px; color: aquamarine"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 服务密码登录 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pwdLogin"</span>&gt;</span></span><br><span class="line">          服务密码登录</span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"codeForm"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>手机号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>验证码<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"getCode"</span>&gt;</span>点击获取<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn"</span>&gt;</span></span><br><span class="line">          登录</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"pwdForm"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">required</span> <span class="attr">id</span>=<span class="string">"phone"</span> <span class="attr">name</span>=<span class="string">"phone"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>手机号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">required</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>密码<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn"</span>&gt;</span></span><br><span class="line">          登录</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.10.0/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/modal_dialog.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/tccj.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 点击短信验证码登录触发</span></span></span><br><span class="line"><span class="javascript">      $(<span class="string">".codeLogin"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 登录操作切换动画</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">".line2"</span>).css(<span class="string">"width"</span>, <span class="string">"0"</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".line1"</span>).css(<span class="string">"width"</span>, <span class="string">"100%"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// form表单旋转动画</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">".codeForm"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".pwdForm"</span>).css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".codeForm"</span>).css(<span class="string">"animation"</span>, <span class="string">"rotate 0.8s ease-in-out"</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">      $(<span class="string">".codeForm"</span>).css(<span class="string">"transform"</span>, <span class="string">"rotateY(0deg)"</span>);</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 点击服务密码登录触发</span></span></span><br><span class="line"><span class="javascript">      $(<span class="string">".pwdLogin"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 登录操作切换动画</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">".line2"</span>).css(<span class="string">"width"</span>, <span class="string">"100%"</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".line1"</span>).css(<span class="string">"width"</span>, <span class="string">"0"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// form表单旋转动画</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">".codeForm"</span>).css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".pwdForm"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".pwdForm"</span>).css(<span class="string">"animation"</span>, <span class="string">"rotate 0.8s ease-in-out"</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 用户点击发送短信</span></span></span><br><span class="line"><span class="javascript">      $(<span class="string">".getCode"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 发送短信</span></span></span><br><span class="line"><span class="javascript">        $.ajax(<span class="string">""</span>, &#123;</span></span><br><span class="line"><span class="actionscript">          type: <span class="string">"get"</span>,</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">      <span class="comment">// 用户提交表单</span></span></span><br><span class="line"><span class="javascript">      $(<span class="string">"form"</span>).on(<span class="string">"submit"</span>, (e) =&gt; &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 阻止默认行为</span></span></span><br><span class="line">        e.preventDefault();</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 判断手机号格式是否正确</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $phone = $(<span class="string">"#phone"</span>).val();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test($phone)) &#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// 提示错误信息</span></span></span><br><span class="line"><span class="javascript">          $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>因为CSS样式是用的上面的那个CSS，所以这里就不写了</p><p>直接看效果</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E9%94%99%E8%AF%AF%E5%BC%B9%E7%AA%97%E6%8F%90%E7%A4%BA02.gif" alt=""></p><h2 id="a-id3添加头部tab3添加头部taba"><a class="markdownIt-Anchor" href="#a-id3添加头部tab3添加头部taba"></a> <a id="3.添加头部tab">3.添加头部tab</a></h2><p>HTML部分</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span> <span class="attr">class</span>=<span class="string">"iconfont icon-shouye"</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span> <span class="attr">class</span>=<span class="string">"iconfont icon-denglu"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/register"</span> <span class="attr">class</span>=<span class="string">"iconfont icon-zhuce"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure><p>CSS部分</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">header</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">header</span> &gt; <span class="selector-tag">a</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#3498db</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.175</span>, <span class="number">0.885</span>, <span class="number">0.32</span>, <span class="number">1.275</span>) <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">header</span> &gt; <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现效果如下</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E5%A4%B4%E9%83%A8tab.gif" alt=""></p><h2 id="a-id4完善注册页的ajax请求4完善注册页的ajax请求a"><a class="markdownIt-Anchor" href="#a-id4完善注册页的ajax请求4完善注册页的ajax请求a"></a> <a id="4.完善注册页的ajax请求">4.完善注册页的ajax请求</a></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 用户点击发送短信</span></span><br><span class="line">    <span class="comment">// $(".getCode").on("click", (e) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//   // 发送短信</span></span><br><span class="line">    <span class="comment">//   $.ajax("", &#123;</span></span><br><span class="line">    <span class="comment">//     type: "get",</span></span><br><span class="line">    <span class="comment">//   &#125;);</span></span><br><span class="line">    <span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户提交表单</span></span><br><span class="line">    $(<span class="string">"form"</span>).on(<span class="string">"submit"</span>, (e) =&gt; &#123;</span><br><span class="line">        <span class="comment">// 阻止默认行为</span></span><br><span class="line">        e.preventDefault();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">        <span class="keyword">var</span> $phone = $(<span class="string">"#phone"</span>).val();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test($phone)) &#123;</span><br><span class="line">            <span class="comment">// 提示错误信息</span></span><br><span class="line">            $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 手机号格式正确</span></span><br><span class="line">            <span class="comment">// 表单序列化</span></span><br><span class="line">            <span class="keyword">var</span> data = $(<span class="string">"form"</span>).serializeArray();</span><br><span class="line">            <span class="comment">// 提交注册信息</span></span><br><span class="line">            $.ajax(<span class="string">"/register"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                        <span class="built_in">console</span>.log(response.message);</span><br><span class="line">                        <span class="comment">// 用户注册完毕直接跳到抽奖页面</span></span><br><span class="line">                        <span class="built_in">window</span>.location = <span class="string">"/"</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                        $(<span class="string">".message4"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="built_in">console</span>.log(response.message);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="a-id5完善登录页的ajax请求5完善登录页的ajax请求a"><a class="markdownIt-Anchor" href="#a-id5完善登录页的ajax请求5完善登录页的ajax请求a"></a> <a id="5.完善登录页的ajax请求">5.完善登录页的ajax请求</a></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 用户点击发送短信</span></span><br><span class="line">    <span class="comment">// $(".getCode").on("click", (e) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//   // 发送短信</span></span><br><span class="line">    <span class="comment">//   $.ajax("", &#123;</span></span><br><span class="line">    <span class="comment">//     type: "get",</span></span><br><span class="line">    <span class="comment">//   &#125;);</span></span><br><span class="line">    <span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户提交表单--验证码登录</span></span><br><span class="line">    $(<span class="string">".codeForm"</span>).on(<span class="string">"submit"</span>, (e) =&gt; &#123;</span><br><span class="line">        <span class="comment">// 阻止默认行为</span></span><br><span class="line">        e.preventDefault();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">        <span class="keyword">var</span> $phone = $(<span class="string">"#phone"</span>).val();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test($phone)) &#123;</span><br><span class="line">            <span class="comment">// 提示错误信息</span></span><br><span class="line">            $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 手机号格式正确</span></span><br><span class="line">            <span class="comment">// 表单序列化</span></span><br><span class="line">            <span class="keyword">var</span> data = $(<span class="string">".codeForm"</span>).serializeArray();</span><br><span class="line">            <span class="comment">// 手机验证码登录</span></span><br><span class="line">            $.ajax(<span class="string">"/loginY"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                        <span class="comment">// console.log(response.message);</span></span><br><span class="line">                        <span class="comment">// 提示用户登录成功弹窗</span></span><br><span class="line">                        <span class="comment">// $(".message2").trigger("click");</span></span><br><span class="line">                        <span class="comment">// 用户登录完毕直接跳到抽奖页面</span></span><br><span class="line">                        <span class="built_in">window</span>.location = <span class="string">"/"</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                        $(<span class="string">".message1"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="built_in">console</span>.log(response.message);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">".pwdForm"</span>).on(<span class="string">"submit"</span>, (e) =&gt; &#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">        <span class="keyword">var</span> $phone = $(<span class="string">"#phone2"</span>).val();</span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test($phone)) &#123;</span><br><span class="line">            <span class="comment">// 提示错误信息</span></span><br><span class="line">            $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 手机号格式正确</span></span><br><span class="line">            <span class="comment">// 表单序列化</span></span><br><span class="line">            <span class="keyword">var</span> data = $(<span class="string">".pwdForm"</span>).serializeArray();</span><br><span class="line">            <span class="comment">// 手机验证码登录</span></span><br><span class="line">            $.ajax(<span class="string">"/loginM"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                        $(<span class="string">".message2"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="comment">// console.log(response.message);</span></span><br><span class="line">                        <span class="comment">// 用户登录完毕直接跳到抽奖页面</span></span><br><span class="line">                        <span class="built_in">window</span>.location = <span class="string">"/"</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                        $(<span class="string">".message3"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="comment">// console.log(response.message);</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>其中用到的弹窗插件为，首先在需要用到弹窗插件的页面中添加以下button按钮，其class值为message、message1、message2、message3…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"message"</span> <span class="attr">data-icon</span>=<span class="string">"info"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"message1"</span> <span class="attr">data-icon</span>=<span class="string">"warning"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"message2"</span> <span class="attr">data-icon</span>=<span class="string">"success"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"message3"</span> <span class="attr">data-icon</span>=<span class="string">"warning"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>tccj__info.js</p><p><code>.message</code> – <code>手机号格式有误</code></p><p><code>.message1</code> – <code>此用户未注册</code></p><p><code>.message2</code> – <code>登录成功</code></p><p><code>.message3</code> – <code>用户名或密码错误</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">message</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'  message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: e, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms）</span></span><br><span class="line">    content: <span class="string">"手机号格式有误"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    center: <span class="literal">false</span>, <span class="comment">// 是否绝对居中 默认为false  设置true后   top无效</span></span><br><span class="line">    top: <span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">    closable: <span class="literal">true</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">".message"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  message($(<span class="keyword">this</span>).attr(<span class="string">"data-icon"</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(<span class="string">".message1"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'    message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: <span class="string">"warning"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms）</span></span><br><span class="line">    content: <span class="string">"此用户未注册"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    center: <span class="literal">false</span>, <span class="comment">// 是否绝对居中 默认为false  设置true后   top无效</span></span><br><span class="line">    top: <span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200   单位ms</span></span><br><span class="line">    closable: <span class="literal">false</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">$(<span class="string">".message2"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'    message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: <span class="string">"success"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms）</span></span><br><span class="line">    content: <span class="string">"登录成功"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    top: <span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200  单位ms</span></span><br><span class="line">    closable: <span class="literal">false</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(<span class="string">".message3"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $modal(&#123;</span><br><span class="line">    type: <span class="string">"message"</span>, <span class="comment">//弹框类型  'alert' or  'confirm' or 'message'    message提示(开启之前如果之前含有弹框则清除)</span></span><br><span class="line">    icon: <span class="string">"warning"</span>, <span class="comment">// 提示图标显示 'info' or 'success' or 'warning' or 'error'  or 'question'</span></span><br><span class="line">    timeout: <span class="number">2000</span>, <span class="comment">// 单位 ms  显示多少毫秒后关闭弹框 （ confirm 下无效 | 不传默认为 2000ms | 最短显示时间为500ms）</span></span><br><span class="line">    content: <span class="string">"用户名或密码错误"</span>, <span class="comment">// 提示文字</span></span><br><span class="line">    top: <span class="number">100</span>, <span class="comment">//距离顶部距离 单位px</span></span><br><span class="line">    transition: <span class="number">300</span>, <span class="comment">//过渡动画 默认 200  单位ms</span></span><br><span class="line">    closable: <span class="literal">false</span>, <span class="comment">// 是否显示可关闭按钮  默认为 false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>然后去modal_dialog.js文件中去设置以下message提示框长度</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置message提示框长度</span></span><br><span class="line">    <span class="keyword">var</span> width_s = <span class="number">40</span> + fontSize * data.content.length + fontSize + <span class="number">10</span>;</span><br></pre></td></tr></table></figure><blockquote><p>提示：可以在文件中直接用 CTRL + F 搜索即可</p></blockquote></li></ul><p>现在你的弹窗应该已经可以正常运作了，只需要在需要弹窗的地方自动触发button按钮即可</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>); <span class="comment">// 自动点击class值为message的元素</span></span><br></pre></td></tr></table></figure><ul><li><p>弹窗效果如下</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E7%99%BB%E5%BD%95%E5%A4%B1%E8%B4%A5.gif" alt=""></p></li></ul><h2 id="a-id6抽奖页-首页6抽奖页首页a"><a class="markdownIt-Anchor" href="#a-id6抽奖页-首页6抽奖页首页a"></a> <a id="6.抽奖页--首页">6.抽奖页–首页</a></h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/css/index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">      <span class="attr">rel</span>=<span class="string">"stylesheet"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">href</span>=<span class="string">"http://at.alicdn.com/t/font_2067208_jokj9bfucw.css"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/css/login.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/jQuery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/jqueryRotate.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".pointer"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> duArry = [</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">4350</span>, name: <span class="string">"免单4999"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1550</span>, name: <span class="string">"免单50元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">2250</span>, name: <span class="string">"免单50元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">2311</span>, name: <span class="string">"免单10元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">2281</span>, name: <span class="string">"免单10元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">2300</span>, name: <span class="string">"免单10元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">2000</span>, name: <span class="string">"免单5元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1980</span>, name: <span class="string">"免单5元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">2720</span>, name: <span class="string">"免单5元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">2700</span>, namm: <span class="string">"免单5元"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1650</span>, name: <span class="string">"免分期服务费"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1660</span>, name: <span class="string">"免分期服务费"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1670</span>, name: <span class="string">"免分期服务费"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1680</span>, name: <span class="string">"免分期服务费"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1690</span>, name: <span class="string">"免分期服务费"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1703</span>, name: <span class="string">"提高白条额度"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1710</span>, name: <span class="string">"提高白条额度"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1719</span>, name: <span class="string">"提高白条额度"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1728</span>, name: <span class="string">"提高白条额度"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1738</span>, name: <span class="string">"提高白条额度"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1746</span>, name: <span class="string">"提高白条额度"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1755</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1763</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1770</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1776</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1783</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1790</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1758</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1779</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1762</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1789</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">            &#123; num: <span class="number">1774</span>, name: <span class="string">"未中奖"</span> &#125;,</span></span><br><span class="line">          ];</span><br><span class="line"><span class="actionscript">          <span class="comment">// 定义一个随机度数</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> du = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * duArry.length);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> userPhone = $(<span class="string">"#userPhone"</span>).text();</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// 判断度数是否为undefined</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">while</span> (duArry[du].name === <span class="literal">undefined</span>) &#123;</span></span><br><span class="line"><span class="javascript">            du = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * duArry.length);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (duArry[du].name !== <span class="literal">undefined</span>) &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">break</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line"><span class="actionscript">          <span class="comment">// 旋转轮盘</span></span></span><br><span class="line"><span class="javascript">          $(<span class="string">".rotate&gt;img"</span>).rotate(&#123;</span></span><br><span class="line">            angle: 0,</span><br><span class="line">            animateTo: duArry[du].num,</span><br><span class="line">            duration: 5000,</span><br><span class="line"><span class="actionscript">            callback: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">              $.ajax(<span class="string">"/reduce"</span>, &#123;</span></span><br><span class="line"><span class="actionscript">                type: <span class="string">"get"</span>,</span></span><br><span class="line">                data: &#123;</span><br><span class="line">                  phone: userPhone,</span><br><span class="line">                  prize: duArry[du].name,</span><br><span class="line">                &#125;,</span><br><span class="line"><span class="actionscript">                success: <span class="function"><span class="keyword">function</span> <span class="params">(number)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="comment">// console.log(number.data);</span></span></span><br><span class="line"><span class="actionscript">                  <span class="comment">// 修改文本内容</span></span></span><br><span class="line"><span class="javascript">                  $(<span class="string">".degree"</span>).text(<span class="string">"您还剩余抽奖次数为"</span> + number.data + <span class="string">"次"</span>);</span></span><br><span class="line"></span><br><span class="line">                  if (number.data == 0) &#123;</span><br><span class="line"><span class="javascript">                    $(<span class="string">".pointer"</span>).unbind();</span></span><br><span class="line"><span class="javascript">                    $.ajax(<span class="string">"/show"</span>, &#123;</span></span><br><span class="line"><span class="actionscript">                      type: <span class="string">"get"</span>,</span></span><br><span class="line">                      data: &#123;</span><br><span class="line">                        phone: userPhone,</span><br><span class="line">                      &#125;,</span><br><span class="line"><span class="actionscript">                      success: <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                        $.each(data, <span class="function"><span class="keyword">function</span> (<span class="params">index, value</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                          <span class="comment">// console.log(value);</span></span></span><br><span class="line"><span class="javascript">                          <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(value)) &#123;</span></span><br><span class="line"><span class="actionscript">                            <span class="comment">// console.log(value);</span></span></span><br><span class="line"><span class="javascript">                            $.each(value, (index, prize) =&gt; &#123;</span></span><br><span class="line"><span class="javascript">                              <span class="built_in">console</span>.log(prize);</span></span><br><span class="line"><span class="javascript">                              $(<span class="string">".mask&gt;ul"</span>).append($(<span class="string">`&lt;li&gt;<span class="subst">$&#123;prize&#125;</span>&lt;/li&gt;`</span>));</span></span><br><span class="line">                            &#125;);</span><br><span class="line"><span class="handlebars"><span class="xml">                            // $(".mask&gt;ul").append($(`<span class="tag">&lt;<span class="name">li</span>&gt;</span>$&#123;value&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>`));</span></span></span><br><span class="line">                          &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                      &#125;,</span><br><span class="line"><span class="actionscript">                    &#125;).then(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                      <span class="comment">// $(".mask").css("transform", "scale(1)");</span></span></span><br><span class="line"><span class="actionscript">                      <span class="comment">// $(".mask").css("transition", "all 2s");</span></span></span><br><span class="line"><span class="javascript">                      $(<span class="string">".mask"</span>).css(</span></span><br><span class="line"><span class="actionscript">                        <span class="string">"animation"</span>,</span></span><br><span class="line"><span class="actionscript">                        <span class="string">"scale 0.5s ease-in-out forwards"</span></span></span><br><span class="line">                      );</span><br><span class="line">                    &#125;);</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span> <span class="attr">class</span>=<span class="string">"iconfont icon-shouye"</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span> <span class="attr">class</span>=<span class="string">"iconfont icon-denglu"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/quit"</span> <span class="attr">class</span>=<span class="string">"iconfont icon-tuichu_huaban1"</span>&gt;</span>退出<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pointer"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/img/pointer.png"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rotate"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/img/jp.png"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"degree"</span>&gt;</span>您的抽奖次数为<span class="tag">&lt;<span class="name">a</span>&gt;</span> 3 <span class="tag">&lt;/<span class="name">a</span>&gt;</span>次<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mask"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;li&gt;未中奖&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li&gt;未中奖&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li&gt;未中奖&lt;/li&gt; --&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用JS动画来完成抽奖动画，用户抽三次奖，最后会出一个结果，不能继续抽奖</p><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E8%BD%AC%E7%9B%98%E6%8A%BD%E5%A5%96.gif" alt=""></p><h2 id="a-id7完成注册验证码接口的接入7完成注册验证码接口的接入a"><a class="markdownIt-Anchor" href="#a-id7完成注册验证码接口的接入7完成注册验证码接口的接入a"></a> <a id="7.完成注册验证码接口的接入">7.完成注册验证码接口的接入</a></h2><p>第一次搞这个，遇到了很多的问题，没有及时解决，问题包括：什么阿里云天级流控、接口被占用啊等等一系列后端问题，于是后端说这是阿里云默认的限制，你短信不能发送的太快，于是呢我就换了个手机号发送。</p><p>如下错误信息</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Error</span> [isv.BUSINESS_LIMIT_CONTROLError]: 触发天级流控Permits:<span class="number">10</span>, <span class="attr">URL</span>: https:<span class="comment">//dysmsapi.aliyuncs.com/</span></span><br><span class="line">    at processTicksAndRejections (internal/process/task_queues.js:<span class="number">97</span>:<span class="number">5</span>) &#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    RequestId: <span class="string">'8FD669CC-506F-46B2-BA4F-5702EFD0A1CB'</span>,</span><br><span class="line">    Code: <span class="string">'isv.BUSINESS_LIMIT_CONTROL'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  code: <span class="string">'isv.BUSINESS_LIMIT_CONTROL'</span>,</span><br><span class="line">  url: <span class="string">'https://dysmsapi.aliyuncs.com/'</span>,</span><br><span class="line">  entry: &#123;</span><br><span class="line">    url: <span class="string">'https://dysmsapi.aliyuncs.com/'</span>,</span><br><span class="line">    request: &#123; <span class="attr">headers</span>: [<span class="built_in">Object</span>: <span class="literal">null</span> prototype] &#125;,</span><br><span class="line">    response: &#123; <span class="attr">statusCode</span>: <span class="number">200</span>, <span class="attr">headers</span>: [<span class="built_in">Object</span>] &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>1.首先我注册、登录时表单出现默认提交的情况，于是去百度上看了一下，只需要在需要点击提交的按钮上添加 <code>onclick=&quot;return false&quot;</code> ，即可禁止默认提交行为</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=<span class="string">"submit"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"btn codeBtn"</span> onclick=<span class="string">"return false"</span>&gt;</span><br></pre></td></tr></table></figure></li><li><p>2.注册页的逻辑，这都是我自己想到的需求，可能不太完美吧，希望大佬多多建议</p><ul><li>手机号必须是符合手机号格式的才能注册</li><li>密码必须是包含数字、字母、特殊符号中的其中两种的才能注册</li><li>验证码必须是和后端发送过来的验证码一致才能注册</li><li>点击下一步会自动进行登录操作，完成登录</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 用户输入的手机号</span></span><br><span class="line">    <span class="keyword">var</span> phone;</span><br><span class="line">    <span class="comment">// 用户输入的密码</span></span><br><span class="line">    <span class="keyword">var</span> password;</span><br><span class="line">    <span class="comment">// 获取到的后端发送过来的验证码</span></span><br><span class="line">    <span class="keyword">var</span> codeRes;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置一个点击状态，如果点击了获取验证码，则设置为true,</span></span><br><span class="line">    <span class="comment">// 如果点击了btn(下一步)而没有点击获取验证码，则设置为false</span></span><br><span class="line">    <span class="keyword">var</span> codeState = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// 用户点击发送短信 -- 点击获取验证码</span></span><br><span class="line">    $(<span class="string">".getCode"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        <span class="comment">// 当点击验证码后就获取到用户刚才输入的手机号和密码</span></span><br><span class="line">        phone = $(<span class="string">"#phone"</span>).val();</span><br><span class="line">        password = $(<span class="string">"#password"</span>).val();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// console.log(phone, password);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">            <span class="comment">// 提示错误信息</span></span><br><span class="line">            $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">            !<span class="regexp">/^(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$)^.&#123;12,16&#125;$/</span>.test(</span><br><span class="line">                password</span><br><span class="line">            )</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="comment">// 验证数字，大写字母，小写字母，特殊字符四选三组成的密码强度，且长度在12到16个数之间</span></span><br><span class="line">            $(<span class="string">".message9"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> data = &#123;</span><br><span class="line">                phone,</span><br><span class="line">                password,</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="comment">// 发送短信</span></span><br><span class="line">            $.ajax(<span class="string">"/codeRequire"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="comment">// console.log(response);</span></span><br><span class="line">                    <span class="comment">// console.log(response.code);</span></span><br><span class="line">                    <span class="comment">// 表示用户已经点击了获取验证码</span></span><br><span class="line">                    <span class="keyword">if</span> (response.code === <span class="number">304</span>) &#123;</span><br><span class="line">                        <span class="comment">// 此用户已注册</span></span><br><span class="line">                        $(<span class="string">".message8"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">// 验证码发送成功弹窗</span></span><br><span class="line">                        $(<span class="string">".message7"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="comment">// 验证码获取倒计时 -- 60秒</span></span><br><span class="line">                        <span class="keyword">var</span> codeTime = <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                            codeTime--;</span><br><span class="line">                            <span class="comment">// 把每次的倒计时都重新渲染到HTML页面</span></span><br><span class="line">                            $(<span class="string">".getCode"</span>).attr(<span class="string">"value"</span>, codeTime);</span><br><span class="line">                            <span class="comment">// 通过元素覆盖实现禁止点击</span></span><br><span class="line">                            $(<span class="string">".coverGetCode"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (codeTime &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                                <span class="comment">// 清除计时器</span></span><br><span class="line">                                clearInterval(timer);</span><br><span class="line">                                $(<span class="string">".getCode"</span>).attr(<span class="string">"value"</span>, <span class="string">"重新获取"</span>);</span><br><span class="line">                                $(<span class="string">".coverGetCode"</span>).css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;, <span class="number">1000</span>);</span><br><span class="line">                        <span class="comment">// console.log(codeTime); // 60</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 获取从后端接收到的验证码</span></span><br><span class="line">                        codeRes = response.data;</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">"验证码："</span>, codeRes);</span><br><span class="line">                        codeState = <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户提交表单</span></span><br><span class="line">    $(<span class="string">".btn"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (codeState === <span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 阻止默认行为</span></span><br><span class="line">            e.preventDefault();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> data = &#123;</span><br><span class="line">                phone,</span><br><span class="line">                password,</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="comment">// 提交注册信息</span></span><br><span class="line">            $.ajax(<span class="string">"/register"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="comment">// 获取用户输入的验证码</span></span><br><span class="line">                    <span class="keyword">var</span> codeInput = $(<span class="string">"#code"</span>).val();</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">"用户输入的验证码："</span>, codeInput);</span><br><span class="line">                    <span class="comment">// 如果用户没有注册</span></span><br><span class="line">                    <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (codeInput == codeRes) &#123;</span><br><span class="line">                            <span class="comment">// 验证码正确</span></span><br><span class="line">                            <span class="built_in">console</span>.log(response.message);</span><br><span class="line">                            <span class="comment">// // 用户注册完毕直接跳到抽奖页面</span></span><br><span class="line">                            <span class="comment">// window.location = "/";</span></span><br><span class="line">                            <span class="comment">// 注册完成后完成登录功能 -- 使用密码登录</span></span><br><span class="line">                            <span class="comment">// 表单序列化</span></span><br><span class="line">                            <span class="comment">// 手机验证码登录</span></span><br><span class="line">                            $.ajax(<span class="string">"/loginM"</span>, &#123;</span><br><span class="line">                                type: <span class="string">"post"</span>,</span><br><span class="line">                                data,</span><br><span class="line">                                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                                    <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                                        $(<span class="string">".message2"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                                        <span class="comment">// console.log(response.message);</span></span><br><span class="line">                                        <span class="comment">// 用户登录完毕直接跳到抽奖页面</span></span><br><span class="line">                                        <span class="built_in">window</span>.location = <span class="string">"/"</span>;</span><br><span class="line">                                        <span class="comment">// $("body").html()</span></span><br><span class="line">                                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                                        $(<span class="string">".message3"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                                        <span class="comment">// console.log(response.message);</span></span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;,</span><br><span class="line">                            &#125;);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="comment">// 验证码错误</span></span><br><span class="line">                            $(<span class="string">".message5"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                        $(<span class="string">".message4"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="built_in">console</span>.log(response.message);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">".message6"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>3.效果演示</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C01.gif" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C02.gif" alt=""></p></li></ul><h2 id="a-id8完成登录验证码接口的接入8完成登录验证码接口的接入a"><a class="markdownIt-Anchor" href="#a-id8完成登录验证码接口的接入8完成登录验证码接口的接入a"></a> <a id="8.完成登录验证码接口的接入">8.完成登录验证码接口的接入</a></h2><ul><li><p>1.有的人可能会说，为什么一个验证码接口要分为两个：一个注册验证码接口，和一个登录验证码接口，原因就是</p><ul><li><p>登录验证码接口是我改的</p><p>加了用户手机号查询，用户点击获取验证码后，前端首先会给后端返回数据（手机号 – phone），然后 后端会去数据库里去查询有没有这个用户，如果没有就把数据返回给前端，然后前端会把该数据以任何形式渲染到页面中，提示用户未注册，这样可以提升用户体验感，不可能是不管你有没有注册，先给你发送验证码，先验证验证码对不对然后再点击登录后，，发现你没有注册，这样你可能就是反手就是一个退出了。</p></li><li><p>注册验证码接口是我加的</p><p>和上面一样</p><p>只不过是注册验证码接口是查询用户是不是注册了，如果用户已经注册了，提示用户已注册。</p></li></ul></li><li><p>2.登录页的逻辑，和注册页的逻辑基本一样，这里不再赘述</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 用户输入的手机号</span></span><br><span class="line">    <span class="keyword">var</span> phone;</span><br><span class="line">    <span class="comment">// 获取到的后端发送过来的验证码</span></span><br><span class="line">    <span class="keyword">var</span> codeRes;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置一个点击状态，如果点击了获取验证码，则设置为true,</span></span><br><span class="line">    <span class="comment">// 如果点击了btn(下一步)而没有点击获取验证码，则设置为false</span></span><br><span class="line">    <span class="keyword">var</span> codeState = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户点击发送短信 -- 点击获取验证码</span></span><br><span class="line">    $(<span class="string">".getCode"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        <span class="comment">// 当点击验证码后就获取到用户刚才输入的手机号和密码</span></span><br><span class="line">        phone = $(<span class="string">"#phone"</span>).val();</span><br><span class="line">        <span class="comment">// console.log(phone, password);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">            <span class="comment">// 提示错误信息</span></span><br><span class="line">            $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> data = &#123;</span><br><span class="line">                phone,</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="comment">// 发送短信</span></span><br><span class="line">            $.ajax(<span class="string">"/code"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="comment">// console.log(response);</span></span><br><span class="line">                    <span class="comment">// console.log(response.code);</span></span><br><span class="line">                    <span class="comment">// 表示用户已经点击了获取验证码</span></span><br><span class="line">                    <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                        <span class="comment">// 此用户未注册</span></span><br><span class="line">                        $(<span class="string">".message1"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">// 验证码发送成功弹窗</span></span><br><span class="line">                        $(<span class="string">".message7"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="comment">// 验证码获取倒计时 -- 60秒</span></span><br><span class="line">                        <span class="keyword">var</span> codeTime = <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                            codeTime--;</span><br><span class="line">                            <span class="comment">// 把每次的倒计时都重新渲染到HTML页面</span></span><br><span class="line">                            $(<span class="string">".getCode"</span>).attr(<span class="string">"value"</span>, codeTime);</span><br><span class="line">                            <span class="comment">// 通过元素覆盖实现禁止点击</span></span><br><span class="line">                            $(<span class="string">".coverGetCode"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (codeTime &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                                <span class="comment">// 清除计时器</span></span><br><span class="line">                                clearInterval(timer);</span><br><span class="line">                                $(<span class="string">".getCode"</span>).attr(<span class="string">"value"</span>, <span class="string">"重新获取"</span>);</span><br><span class="line">                                $(<span class="string">".coverGetCode"</span>).css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;, <span class="number">1000</span>);</span><br><span class="line">                        <span class="comment">// console.log(codeTime); // 60</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 获取从后端接收到的验证码</span></span><br><span class="line">                        codeRes = response.data;</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">"验证码："</span>, codeRes);</span><br><span class="line">                        codeState = <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户提交表单--验证码登录</span></span><br><span class="line">    $(<span class="string">".codeBtn"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (codeState === <span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 阻止默认行为</span></span><br><span class="line">            e.preventDefault();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">            phone = $(<span class="string">"#phone"</span>).val();</span><br><span class="line">            <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">                <span class="comment">// 提示错误信息</span></span><br><span class="line">                $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 手机号格式正确</span></span><br><span class="line">                <span class="comment">// 表单序列化</span></span><br><span class="line">                <span class="keyword">var</span> data = $(<span class="string">".codeForm"</span>).serializeArray();</span><br><span class="line">                <span class="comment">// 手机验证码登录</span></span><br><span class="line">                $.ajax(<span class="string">"/loginY"</span>, &#123;</span><br><span class="line">                    type: <span class="string">"post"</span>,</span><br><span class="line">                    data,</span><br><span class="line">                    success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                            <span class="comment">// console.log(response.message);</span></span><br><span class="line">                            <span class="comment">// 提示用户登录成功弹窗</span></span><br><span class="line">                            $(<span class="string">".message2"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                            <span class="comment">// 用户登录完毕直接跳到抽奖页面</span></span><br><span class="line">                            <span class="built_in">window</span>.location = <span class="string">"/"</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                            $(<span class="string">".message1"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                            <span class="built_in">console</span>.log(response.message);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">".message6"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 密码登录</span></span><br><span class="line">    $(<span class="string">".pwdForm"</span>).on(<span class="string">"submit"</span>, (e) =&gt; &#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">        phone = $(<span class="string">"#phone2"</span>).val();</span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">            <span class="comment">// 提示错误信息</span></span><br><span class="line">            $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 手机号格式正确</span></span><br><span class="line">            <span class="comment">// 表单序列化</span></span><br><span class="line">            <span class="keyword">var</span> data = $(<span class="string">".pwdForm"</span>).serializeArray();</span><br><span class="line">            <span class="comment">// 手机验证码登录</span></span><br><span class="line">            $.ajax(<span class="string">"/loginM"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                        $(<span class="string">".message2"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="comment">// console.log(response.message);</span></span><br><span class="line">                        <span class="comment">// 用户登录完毕直接跳到抽奖页面</span></span><br><span class="line">                        <span class="built_in">window</span>.location = <span class="string">"/"</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                        $(<span class="string">".message3"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="comment">// console.log(response.message);</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h2 id="a-id9页面跳转路由不刷新9页面跳转路由不刷新a"><a class="markdownIt-Anchor" href="#a-id9页面跳转路由不刷新9页面跳转路由不刷新a"></a> <a id="9.页面跳转路由不刷新">9.页面跳转路由不刷新</a></h2><blockquote><p>…渐渐崩溃</p></blockquote><p>今天又学到了新东西，刷新了我对注释的认知🥁</p><p>你猜下面这段代码放到我代码里会怎样？？？(就这样被注释着执行)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// $("body").html(`&#123;% include "index.html" %&#125;`);</span></span><br></pre></td></tr></table></figure><p>结果是它居然能正常执行，搞的我一脸懵逼…，最后是实在受不了了，把它删了，就没事了，好像是不能包含 <code>script</code> 标签</p><p>原理，在ajax中有一股神秘的力量，我不知从何而来，我想触及到它，但我无法触及它，不管你有没有注释都会正常的执行</p><p>上面的代码意思是 我要跳转到 <code>index.html</code> 页面，而且我的 <code>index.html</code> 页面中在没有登录的情况下会自动跳转到登录页面，所以…就这样完成了递归原理来刷新页面，效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E9%80%92%E5%BD%92%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2.gif" alt=""></p><p>后来经过我们的一番讨论，想到了怎么完成这样的一个功能 – 页面变化而路由不变</p><p>那就是通过jQuery在想要跳转页面的地方都来重新绘制此页面，把此页面绘制成为想要跳转到的那个页面的样子，这当然在其中页遇到了问题，那就是 <code>script</code> 标签不能被直接拿来绘制，需要先创建 <code>script</code> 标签，在为其添加文件路径，最后把 <code>script</code> 标签之间append到body中即可</p><ul><li><p>注册成功后显示用户抽奖界面（<font color="red">**注: **</font>页面不刷新)</p><ul><li>在全局定义那个loginM路由的形参，就可以在全局封装一个用来绘制抽奖页的函数了</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 用户输入的手机号</span></span><br><span class="line">  <span class="keyword">var</span> phone;</span><br><span class="line">  <span class="comment">// 用户输入的密码</span></span><br><span class="line">  <span class="keyword">var</span> password;</span><br><span class="line">  <span class="comment">// 获取到的后端发送过来的验证码</span></span><br><span class="line">  <span class="keyword">var</span> codeRes;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 全局从后端接收到的data数据</span></span><br><span class="line">  <span class="keyword">var</span> timesLoginM;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 绘制首页的函数</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      $(<span class="string">"body"</span>).html(<span class="string">`</span></span><br><span class="line"><span class="string">                      &lt;link rel="stylesheet" href="/css/index.css" /&gt;</span></span><br><span class="line"><span class="string">                      &lt;header&gt;</span></span><br><span class="line"><span class="string">                        &lt;a href="/" class="iconfont icon-shouye"&gt;首页&lt;/a&gt;</span></span><br><span class="line"><span class="string">                        &lt;a href="/login" class="iconfont icon-denglu"&gt;登录&lt;/a&gt;</span></span><br><span class="line"><span class="string">                        &lt;a href="/quit" class="iconfont icon-tuichu_huaban1"&gt;退出&lt;/a&gt;</span></span><br><span class="line"><span class="string">                      &lt;/header&gt;</span></span><br><span class="line"><span class="string">                      &lt;div class="container"&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class="pointer"&gt;&lt;img src="/img/pointer.png" alt="" /&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class="rotate"&gt;&lt;img src="/img/jp.png" alt="" /&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                      &lt;/div&gt;</span></span><br><span class="line"><span class="string">                      &lt;p class="degree"&gt;您的抽奖次数为&lt;a&gt; <span class="subst">$&#123;timesLoginM&#125;</span> &lt;/a&gt;次&lt;/p&gt;</span></span><br><span class="line"><span class="string">                      &lt;div class="mask"&gt;</span></span><br><span class="line"><span class="string">                        &lt;ul&gt;</span></span><br><span class="line"><span class="string">                          &lt;!-- &lt;li&gt;未中奖&lt;/li&gt;</span></span><br><span class="line"><span class="string">                          &lt;li&gt;未中奖&lt;/li&gt;</span></span><br><span class="line"><span class="string">                          &lt;li&gt;未中奖&lt;/li&gt; --&gt;</span></span><br><span class="line"><span class="string">                        &lt;/ul&gt;</span></span><br><span class="line"><span class="string">                      &lt;/div&gt;</span></span><br><span class="line"><span class="string">                `</span>);</span><br><span class="line">      <span class="comment">//引入第一个script元素</span></span><br><span class="line">      <span class="keyword">var</span> script1 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">      script1.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">      script1.src = <span class="string">"/js/index.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">      $(<span class="string">"body"</span>).append(script1);</span><br><span class="line">      <span class="comment">//引入第二个script元素</span></span><br><span class="line">      <span class="keyword">var</span> script2 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">      script2.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">      script2.src = <span class="string">"/js/jQuery-1.12.4.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">      $(<span class="string">"body"</span>).append(script2);</span><br><span class="line">      <span class="comment">//引入第三个script元素</span></span><br><span class="line">      <span class="keyword">var</span> script3 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">      script3.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">      script3.src = <span class="string">"/js/jqueryRotate.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">      $(<span class="string">"body"</span>).append(script3);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置一个点击状态，如果点击了获取验证码，则设置为true,</span></span><br><span class="line">  <span class="comment">// 如果点击了btn(下一步)而没有点击获取验证码，则设置为false</span></span><br><span class="line">  <span class="keyword">var</span> codeState = <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// 用户点击发送短信 -- 点击获取验证码</span></span><br><span class="line">  $(<span class="string">".getCode"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="comment">// 当点击验证码后就获取到用户刚才输入的手机号和密码</span></span><br><span class="line">    phone = $(<span class="string">"#phone"</span>).val();</span><br><span class="line">    password = $(<span class="string">"#password"</span>).val();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// console.log(phone, password);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">      <span class="comment">// 提示错误信息</span></span><br><span class="line">      $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">      !<span class="regexp">/^(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$)^.&#123;12,16&#125;$/</span>.test(password)</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="comment">// 验证数字，大写字母，小写字母，特殊字符四选三组成的密码强度，且长度在12到16个数之间</span></span><br><span class="line">      $(<span class="string">".message9"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> data = &#123;</span><br><span class="line">        phone,</span><br><span class="line">        password,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">// 发送短信</span></span><br><span class="line">      $.ajax(<span class="string">"/codeRequire"</span>, &#123;</span><br><span class="line">        type: <span class="string">"post"</span>,</span><br><span class="line">        data,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">          <span class="comment">// console.log(response);</span></span><br><span class="line">          <span class="comment">// console.log(response.code);</span></span><br><span class="line">          <span class="comment">// 表示用户已经点击了获取验证码</span></span><br><span class="line">          <span class="keyword">if</span> (response.code === <span class="number">304</span>) &#123;</span><br><span class="line">            <span class="comment">// 此用户已注册</span></span><br><span class="line">            $(<span class="string">".message8"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 验证码发送成功弹窗</span></span><br><span class="line">            $(<span class="string">".message7"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="comment">// 验证码获取倒计时 -- 60秒</span></span><br><span class="line">            <span class="keyword">var</span> codeTime = <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">              codeTime--;</span><br><span class="line">              <span class="comment">// 把每次的倒计时都重新渲染到HTML页面</span></span><br><span class="line">              $(<span class="string">".getCode"</span>).attr(<span class="string">"value"</span>, codeTime);</span><br><span class="line">              <span class="comment">// 通过元素覆盖实现禁止点击</span></span><br><span class="line">              $(<span class="string">".coverGetCode"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (codeTime &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// 清除计时器</span></span><br><span class="line">                clearInterval(timer);</span><br><span class="line">                $(<span class="string">".getCode"</span>).attr(<span class="string">"value"</span>, <span class="string">"重新获取"</span>);</span><br><span class="line">                $(<span class="string">".coverGetCode"</span>).css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, <span class="number">1000</span>);</span><br><span class="line">            <span class="comment">// console.log(codeTime); // 60</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 获取从后端接收到的验证码</span></span><br><span class="line">            codeRes = response.data;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"验证码："</span>, codeRes);</span><br><span class="line">            codeState = <span class="literal">true</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 用户提交表单</span></span><br><span class="line">  $(<span class="string">".btn"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (codeState === <span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="comment">// 阻止默认行为</span></span><br><span class="line">      e.preventDefault();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> data = &#123;</span><br><span class="line">        phone,</span><br><span class="line">        password,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">// 提交注册信息</span></span><br><span class="line">      $.ajax(<span class="string">"/register"</span>, &#123;</span><br><span class="line">        type: <span class="string">"post"</span>,</span><br><span class="line">        data,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">          <span class="comment">// 获取用户输入的验证码</span></span><br><span class="line">          <span class="keyword">var</span> codeInput = $(<span class="string">"#code"</span>).val();</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">"用户输入的验证码："</span>, codeInput);</span><br><span class="line">          <span class="comment">// 如果用户没有注册</span></span><br><span class="line">          <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (codeInput == codeRes) &#123;</span><br><span class="line">              <span class="comment">// 验证码正确</span></span><br><span class="line">              <span class="built_in">console</span>.log(response.message);</span><br><span class="line">              <span class="comment">// // 用户注册完毕直接绘制个抽奖页面</span></span><br><span class="line">              <span class="comment">// 注册完成后完成登录功能 -- 使用密码登录</span></span><br><span class="line">              <span class="comment">// 表单序列化</span></span><br><span class="line">              <span class="comment">// 手机验证码登录</span></span><br><span class="line">              $.ajax(<span class="string">"/loginM"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                    $(<span class="string">".message2"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                    <span class="comment">// console.log(response.message);</span></span><br><span class="line">                    <span class="comment">// 用户登录完毕直接绘制个抽奖页面</span></span><br><span class="line">                    <span class="comment">// window.location = "/";</span></span><br><span class="line">                    index();</span><br><span class="line">                  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                    $(<span class="string">".message3"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                    <span class="comment">// console.log(response.message);</span></span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              <span class="comment">// 验证码错误</span></span><br><span class="line">              $(<span class="string">".message5"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">            $(<span class="string">".message4"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(response.message);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      $(<span class="string">".message6"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>我们会发现已经实现了注册成功后 2秒钟后 显示用户抽奖界面，并且页面不刷新</p></blockquote></li><li><p>判断用户如果没有注册的话，直接跳转到用户注册界面（<font color="red">**注: **</font>页面不刷新)</p><ul><li>同样是绘制页面，这次绘制的是注册页</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绘制注册页的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">register</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        $(<span class="string">"body"</span>).html(<span class="string">`</span></span><br><span class="line"><span class="string">            &lt;button class="message" data-icon="info"&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;button class="message4" data-icon="info"&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;button class="message5" data-icon="error"&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;button class="message6" data-icon="error"&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;button class="message7" data-icon="success"&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;button class="message8" data-icon="warning"&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;button class="message9" data-icon="warning"&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;header style="width: 176px"&gt;</span></span><br><span class="line"><span class="string">            &lt;a href="/login" class="iconfont icon-denglu"&gt;登录&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;a href="/register" class="iconfont icon-zhuce"&gt;注册&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/header&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="loginBox"&gt;</span></span><br><span class="line"><span class="string">            &lt;h2&gt;注册&lt;/h2&gt;</span></span><br><span class="line"><span class="string">            &lt;form action="" method="" class="registerForm"&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="item"&gt;</span></span><br><span class="line"><span class="string">            &lt;input type="text" required id="phone" name="phone" /&gt;</span></span><br><span class="line"><span class="string">            &lt;label for=""&gt;手机号&lt;/label&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="item"&gt;</span></span><br><span class="line"><span class="string">            &lt;input type="password" required id="password" name="password" /&gt;</span></span><br><span class="line"><span class="string">            &lt;label for=""&gt;密码&lt;/label&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="item"&gt;</span></span><br><span class="line"><span class="string">            &lt;input type="text" id="code" name="code" required /&gt;</span></span><br><span class="line"><span class="string">            &lt;label for=""&gt;验证码&lt;/label&gt;</span></span><br><span class="line"><span class="string">            &lt;input type="button" class="getCode" value="点击获取" /&gt;</span></span><br><span class="line"><span class="string">            &lt;input type="button" class="coverGetCode" value="" /&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;button type="submit" class="btn" onclick="return false"&gt;</span></span><br><span class="line"><span class="string">            下一步</span></span><br><span class="line"><span class="string">            &lt;span&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;span&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;span&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;span&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;/form&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>);</span><br><span class="line">        <span class="comment">//引入第一个script元素</span></span><br><span class="line">        <span class="keyword">var</span> script1 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">        script1.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">        script1.src =</span><br><span class="line">            <span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.10.0/jquery.min.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">        $(<span class="string">"body"</span>).append(script1);</span><br><span class="line">        <span class="comment">//引入第二个script元素</span></span><br><span class="line">        <span class="keyword">var</span> script2 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">        script2.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">        script2.src = <span class="string">"/js/modal_dialog.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">        $(<span class="string">"body"</span>).append(script2);</span><br><span class="line">        <span class="comment">//引入第三个script元素</span></span><br><span class="line">        <span class="keyword">var</span> script3 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">        script3.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">        script3.src = <span class="string">"/js/tccj_info.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">        $(<span class="string">"body"</span>).append(script3);</span><br><span class="line">        <span class="comment">//引入第四个script元素</span></span><br><span class="line">        <span class="keyword">var</span> script4 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">        script4.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">        script4.src = <span class="string">"/js/register.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">        $(<span class="string">"body"</span>).append(script4);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户点击发送短信 -- 点击获取验证码</span></span><br><span class="line">$(<span class="string">".getCode"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="comment">// 当点击验证码后就获取到用户刚才输入的手机号和密码</span></span><br><span class="line">    phone = $(<span class="string">"#phone"</span>).val();</span><br><span class="line">    <span class="comment">// console.log(phone, password);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">        <span class="comment">// 提示错误信息</span></span><br><span class="line">        $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> data = &#123;</span><br><span class="line">            phone,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// 发送短信</span></span><br><span class="line">        $.ajax(<span class="string">"/code"</span>, &#123;</span><br><span class="line">            type: <span class="string">"post"</span>,</span><br><span class="line">            data,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                <span class="comment">// console.log(response);</span></span><br><span class="line">                <span class="built_in">console</span>.log(response.code);</span><br><span class="line">                <span class="comment">// 表示用户已经点击了获取验证码</span></span><br><span class="line">                <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(response.datas);</span><br><span class="line">                    <span class="comment">// 此用户未注册</span></span><br><span class="line">                    $(<span class="string">".message1"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                    <span class="comment">// 用户登录完毕直接绘制个抽奖页面</span></span><br><span class="line">                    register();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// 验证码发送成功弹窗</span></span><br><span class="line">                    $(<span class="string">".message7"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                    <span class="comment">// 验证码获取倒计时 -- 60秒</span></span><br><span class="line">                    <span class="keyword">var</span> codeTime = <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                        codeTime--;</span><br><span class="line">                        <span class="comment">// 把每次的倒计时都重新渲染到HTML页面</span></span><br><span class="line">                        $(<span class="string">".getCode"</span>).attr(<span class="string">"value"</span>, codeTime);</span><br><span class="line">                        <span class="comment">// 通过元素覆盖实现禁止点击</span></span><br><span class="line">                        $(<span class="string">".coverGetCode"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (codeTime &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="comment">// 清除计时器</span></span><br><span class="line">                            clearInterval(timer);</span><br><span class="line">                            $(<span class="string">".getCode"</span>).attr(<span class="string">"value"</span>, <span class="string">"重新获取"</span>);</span><br><span class="line">                            $(<span class="string">".coverGetCode"</span>).css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;, <span class="number">1000</span>);</span><br><span class="line">                    <span class="comment">// console.log(codeTime); // 60</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 获取从后端接收到的验证码</span></span><br><span class="line">                    codeRes = response.data;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">"验证码："</span>, codeRes);</span><br><span class="line">                    codeState = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>我们会发现用户如果没有注册的话，直接跳转到用户注册界面，并且页面不刷新</p></blockquote><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E8%B7%B3%E8%BD%AC01.gif" alt=""></p></li><li><p>登录成功后显示用户抽奖界面（<font color="red">**注: **</font>页面不刷新)</p><ul><li>同样也是绘制页面，只不过这次是绘制抽奖界面</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绘制首页的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        $(<span class="string">"body"</span>).html(<span class="string">`</span></span><br><span class="line"><span class="string">            &lt;link rel="stylesheet" href="/css/index.css" /&gt;</span></span><br><span class="line"><span class="string">            &lt;header&gt;</span></span><br><span class="line"><span class="string">            &lt;a href="/" class="iconfont icon-shouye"&gt;首页&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;a href="/login" class="iconfont icon-denglu"&gt;登录&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;a href="/quit" class="iconfont icon-tuichu_huaban1"&gt;退出&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/header&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="container"&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="pointer"&gt;&lt;img src="/img/pointer.png" alt="" /&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="rotate"&gt;&lt;img src="/img/jp.png" alt="" /&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;p class="degree"&gt;您的抽奖次数为&lt;a&gt; <span class="subst">$&#123;timesLoginM&#125;</span> &lt;/a&gt;次&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="mask"&gt;</span></span><br><span class="line"><span class="string">            &lt;ul&gt;</span></span><br><span class="line"><span class="string">            &lt;!-- &lt;li&gt;未中奖&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;未中奖&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;未中奖&lt;/li&gt; --&gt;</span></span><br><span class="line"><span class="string">            &lt;/ul&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>);</span><br><span class="line">          <span class="comment">//引入第一个script元素</span></span><br><span class="line">          <span class="keyword">var</span> script1 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">          script1.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">          script1.src = <span class="string">"/js/index.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">          $(<span class="string">"body"</span>).append(script1);</span><br><span class="line">          <span class="comment">//引入第二个script元素</span></span><br><span class="line">          <span class="keyword">var</span> script2 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">          script2.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">          script2.src = <span class="string">"/js/jQuery-1.12.4.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">          $(<span class="string">"body"</span>).append(script2);</span><br><span class="line">          <span class="comment">//引入第三个script元素</span></span><br><span class="line">          <span class="keyword">var</span> script3 = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">          script3.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">          script3.src = <span class="string">"/js/jqueryRotate.js"</span>; <span class="comment">//填自己的js路径</span></span><br><span class="line">          $(<span class="string">"body"</span>).append(script3);</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户提交表单--验证码登录</span></span><br><span class="line">$(<span class="string">".codeBtn"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (codeState === <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="comment">// 阻止默认行为</span></span><br><span class="line">        e.preventDefault();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">        phone = $(<span class="string">"#phone"</span>).val();</span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">            <span class="comment">// 提示错误信息</span></span><br><span class="line">            $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 手机号格式正确</span></span><br><span class="line">            <span class="comment">// 表单序列化</span></span><br><span class="line">            <span class="comment">// var data = $(".codeForm").serializeArray();</span></span><br><span class="line">            <span class="keyword">var</span> data = &#123;</span><br><span class="line">                phone,</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="comment">// 手机验证码登录</span></span><br><span class="line">            $.ajax(<span class="string">"/loginY"</span>, &#123;</span><br><span class="line">                type: <span class="string">"post"</span>,</span><br><span class="line">                data,</span><br><span class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(response.code);</span><br><span class="line">                    <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                        <span class="comment">// console.log(response.message);</span></span><br><span class="line">                        <span class="comment">// 提示用户登录成功弹窗</span></span><br><span class="line">                        $(<span class="string">".message2"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="comment">// 直接绘制个首页</span></span><br><span class="line">                        index();</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                        $(<span class="string">".message1"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                        <span class="built_in">console</span>.log(response.message);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">".message6"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 密码登录</span></span><br><span class="line">$(<span class="string">".pwdBtn"</span>).on(<span class="string">"click"</span>, (e) =&gt; &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="comment">// 判断手机号格式是否正确</span></span><br><span class="line">    phone = $(<span class="string">"#phone2"</span>).val();</span><br><span class="line">    <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">        <span class="comment">// 提示错误信息</span></span><br><span class="line">        $(<span class="string">".message"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 手机号格式正确</span></span><br><span class="line">        <span class="comment">// 表单序列化</span></span><br><span class="line">        <span class="keyword">var</span> data = $(<span class="string">".pwdForm"</span>).serializeArray();</span><br><span class="line">        <span class="comment">// 密码登录</span></span><br><span class="line">        $.ajax(<span class="string">"/loginM"</span>, &#123;</span><br><span class="line">            type: <span class="string">"post"</span>,</span><br><span class="line">            data,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">                    $(<span class="string">".message2"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// console.log(response.message);</span></span><br><span class="line">                    <span class="comment">// 用户登录完毕直接绘制个抽奖页面</span></span><br><span class="line">                    <span class="comment">// window.location = "/";</span></span><br><span class="line">                    timesLoginM = response.data.times;</span><br><span class="line">                    index();</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.code === <span class="number">400</span>) &#123;</span><br><span class="line">                    $(<span class="string">".message3"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">                    <span class="comment">// console.log(response.message);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>我们会发现登录成功后显示用户抽奖界面，并且页面是不会刷新的</p></blockquote><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdDraw%E5%9B%BE%E7%89%87/%E8%B7%B3%E8%BD%AC02.gif" alt=""></p></li></ul><p>至此，项目已基本完成。</p></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:2044580857@qq.com">Continue.Run</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://extheor.github.io/posts/21abcf1a/index.html">https://extheor.github.io/posts/21abcf1a/index.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://extheor.github.io" target="_blank">码小余の博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ajax/">ajax</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/extheor/images/%E5%8A%A8%E6%BC%AB%E5%9B%BE%E5%BA%93/lb3.jpg" data-sites="qq,wechat,weibo,facebook,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="https://cdn.jsdelivr.net/gh/extheor/images/wechat.png" alt="wechat" onclick='window.open("https://cdn.jsdelivr.net/gh/extheor/images/wechat.png")'><div class="post-qr-code__desc">wechat</div></li><li class="reward-item"><img class="post-qr-code__img" src="https://cdn.jsdelivr.net/gh/extheor/images/alipay.jpg" alt="alipay" onclick='window.open("https://cdn.jsdelivr.net/gh/extheor/images/alipay.jpg")'><div class="post-qr-code__desc">alipay</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/54667693/index.html"><img class="prev-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/12.jpg" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/404.jpg"'><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">标签外挂</div></div></a></div><div class="next-post pull-right"><a href="/posts/7380b71/index.html"><img class="next-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/ajax.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/404.jpg"'><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">NodeJs 取参的四种方法</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/posts/6b2f046/index.html" title="JavaScript中的JSON"><img class="relatedPosts_cover" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/ajax.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-03</div><div class="relatedPosts_title">JavaScript中的JSON</div></div></a></div><div class="relatedPosts_item"><a href="/posts/10812f0/index.html" title="Ajax同步交互与异步交互"><img class="relatedPosts_cover" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/ajax.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-03</div><div class="relatedPosts_title">Ajax同步交互与异步交互</div></div></a></div><div class="relatedPosts_item"><a href="/posts/738eee3b/index.html" title="JSONP"><img class="relatedPosts_cover" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/ajax.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-05</div><div class="relatedPosts_title">JSONP</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020<i id="heartbeat" class="fa fas fa-heartbeat"></i> Continue.Run</div><div class="framework-info"><span>驱动</span> <a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题</span> <a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">CDN BY <a target="_blank" rel="external nofollow" href="https://www.jsdelivr.com/"><b>jsDelivr</b></a> | HOST BY <a target="_blank" rel="external nofollow" href="https://coding.net/"><b>Coding</b></a> && <a target="_blank" rel="external nofollow" href="https://github.com/"><b>Github</b></a></div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="码小余の博客" type="application/atom+xml"></head></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49b1f5">hexo-generator-search</a> <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/js/utils.js"></script><script src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/js/main.js"></script><script src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.spacingElementById('content-inner')
  else {
    $.getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js', () => {
      pangu.spacingElementById('content-inner')
    })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguFn)</script><script src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/js/search/local-search.js"></script><div class="js-pjax"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script>function loadValine () {
  function requestSetting (from, set) {
    var from = from
    var setting = set.split(',').filter(function(item){
    return from.indexOf(item) > -1
    });
    setting = setting.length == 0 ? from :setting;
    return setting
  }

  var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
  var requiredFields = requestSetting(['nick','mail'],'nick,mail')

  function initValine () {
    window.valine = new Valine({
      el: '#vcomment',
      appId: '',
      appKey: '',
      placeholder: '建议在上方留下昵称和邮箱等信息，以便收到回复通知（以下三选一）\t\n1、仅在昵称中留下QQ号（系统自动获取QQ昵称、QQ邮箱、QQ头像等信息）\t\n2、自定义填写昵称、邮箱、网址信息（系统自动匹配头像）\t\n3、匿名留言（不会收到留言回复通知，不推荐）\t\n如果我的表情框里没有你需要的表情，可以在右上角小功能处点击表情速查！',
      avatar: 'identicon',
      meta: guestInfo,
      pageSize: '5',
      lang: 'zh-cn',
      recordIP: true,
      serverURLs: '',
      emojiCDN: ' ',
      emojiMaps: "",
      enableQQ: true,
      requiredFields: requiredFields,
      path: window.location.pathname,
    });
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/gh/HCLonely/Valine@v1.4.14/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || false) {
  document.querySelector('#vcomment') && loadValine()
  false && document.addEventListener('pjax:complete', () => document.querySelector('#vcomment') && loadValine())
}
else {
  function loadOtherComment () {
    loadValine()
  }
}</script><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>✨ 网站已更新最新版本 👉</label> <a href="javascript:void(0)" onclick="location.reload()">点击刷新</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"已更新最新版本",backgroundColor:t,duration:5e5,pos:e,actionText:"点击刷新",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",function(){showNotification()}),window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js")}));</script><script src="https://cdn.jsdelivr.net/gh/extheor/MaXiaoYu-s-Blog/calendar.js"></script><script src="https://cdn.jsdelivr.net/gh/extheor/MaXiaoYu-s-Blog/languages.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/z16.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!1},react:{opacity:.7}})</script></body></html>