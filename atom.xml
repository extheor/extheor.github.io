<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>MaXiaoYu&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/7ff8334eb3ce169d5ef407706436ee76</icon>
  <subtitle>æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://extheor.github.io/"/>
  <updated>2020-09-13T06:35:33.503Z</updated>
  <id>https://extheor.github.io/</id>
  
  <author>
    <name>Continue.Run</name>
    <email>2044580857@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>NodeJs å–å‚çš„å››ç§æ–¹æ³•</title>
    <link href="https://extheor.github.io/posts/7380b71/index.html"/>
    <id>https://extheor.github.io/posts/7380b71/index.html</id>
    <published>2020-09-07T03:35:41.000Z</published>
    <updated>2020-09-13T06:35:33.503Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="nodejs-å–å‚çš„å››ç§æ–¹æ³•"><a class="markdownIt-Anchor" href="#nodejs-å–å‚çš„å››ç§æ–¹æ³•"></a> NodeJs å–å‚çš„å››ç§æ–¹æ³•</h1><p>å‚è€ƒï¼š<a href="https://my.oschina.net/u/2519530/blog/535309" target="_blank" rel="noopener">https://my.oschina.net/u/2519530/blog/535309</a> ğŸ™</p><p>è·å–è¯·æ±‚å¾ˆä¸­çš„å‚æ•°æ˜¯æ¯ä¸ªwebåå°å¤„ç†çš„å¿…ç»ä¹‹è·¯ï¼Œnodejsçš„ <strong>expressæ¡†æ¶</strong> æä¾›äº†å››ç§æ–¹æ³•æ¥å®ç°ã€‚</p><ol><li><a href="#req.body">req.body</a></li><li><a href="#req.query">req.query</a></li><li><a href="#req.params">req.params</a></li><li><a href="#req.param()">req.param()</a></li></ol><p><a id="req.body"><strong>é¦–å…ˆä»‹ç»ç¬¬ä¸€ä¸ªreq.body</strong></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å®˜æ–¹æ–‡æ¡£è§£é‡Šï¼š</span><br><span class="line">Contains key-value pairs of data submitted in the request body. By default, it is undefined,</span><br><span class="line"> and is populated when you use body-parsing middleware such as body-parser and multer.</span><br><span class="line"></span><br><span class="line">ç¨å¾®ç¿»è¯‘ä¸€ä¸‹ï¼šåŒ…å«äº†æäº¤æ•°æ®çš„é”®å€¼å¯¹åœ¨è¯·æ±‚çš„bodyä¸­ï¼Œé»˜è®¤æ˜¯underfined,</span><br><span class="line">ä½ å¯ä»¥ç”¨body-parseræˆ–è€…multeræ¥è§£æbody</span><br></pre></td></tr></table></figure><p>è§£æbodyä¸æ˜¯nodejsé»˜è®¤æä¾›çš„ï¼Œä½ éœ€è¦è½½å…¥body-parserä¸­é—´ä»¶æ‰å¯ä»¥ä½¿ç”¨req.body</p><blockquote><p><font color="red"><strong>æ­¤æ–¹æ³•é€šå¸¸ç”¨æ¥è§£æPOSTè¯·æ±‚ä¸­çš„æ•°æ®</strong></font></p></blockquote><p><a id="req.query"><strong>ç¬¬äºŒç§æ˜¯req.query</strong></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å®˜æ–¹æ–‡æ¡£è§£é‡Šï¼š</span><br><span class="line">An object containing a property for each query string parameter in the route. </span><br><span class="line">If there is no query string, it is the empty object, &#123;&#125;.</span><br><span class="line">ç¿»è¯‘ä¸€ä¸‹:åŒ…å«åœ¨è·¯ç”±ä¸­æ¯ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°å±æ€§çš„å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰ï¼Œé»˜è®¤ä¸º&#123;&#125;</span><br></pre></td></tr></table></figure><p>æœ‰nodejsé»˜è®¤æä¾›ï¼Œæ— éœ€è½½å…¥ä¸­é—´ä»¶</p><p>ä¸¾ä¾‹è¯´æ˜(å®˜æ–¹æ‘˜æŠ„)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; GET &#x2F;search?q&#x3D;tobi+ferret</span><br><span class="line">req.query.q</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;tobi ferret&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; GET &#x2F;shoes?order&#x3D;desc&amp;shoe[color]&#x3D;blue&amp;shoe[type]&#x3D;converse</span><br><span class="line">req.query.order</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;desc&quot;</span><br><span class="line">req.query.shoe.color</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;blue&quot;</span><br><span class="line">req.query.shoe.type</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;converse&quot;</span><br></pre></td></tr></table></figure><blockquote><p><font color="red"><strong>æ­¤æ–¹æ³•å¤šé€‚ç”¨äºGETè¯·æ±‚ï¼Œè§£æGETé‡Œçš„å‚æ•°</strong></font></p></blockquote><p><a id="req.params"><strong>ç¬¬ä¸‰ç§æ˜¯ req.params</strong></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">å®˜æ–¹æ–‡æ¡£ï¼š</span><br><span class="line">An object containing properties mapped to the named route â€œparametersâ€. </span><br><span class="line">For example, if you have the route &#x2F;user&#x2F;:name, </span><br><span class="line">then the â€œnameâ€ property is available as req.params.name. This object defaults to &#123;&#125;.</span><br><span class="line"></span><br><span class="line">ç¿»è¯‘ï¼šåŒ…å«æ˜ å°„åˆ°æŒ‡å®šçš„è·¯çº¿â€œå‚æ•°â€å±æ€§çš„å¯¹è±¡ã€‚</span><br><span class="line">ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰route&#x2F;user&#x2F;ï¼šnameï¼Œé‚£ä¹ˆâ€œnameâ€å±æ€§å¯ä½œä¸ºreq.params.nameã€‚</span><br><span class="line">è¯¥å¯¹è±¡é»˜è®¤ä¸º&#123;&#125;ã€‚</span><br></pre></td></tr></table></figure><p>nodejsé»˜è®¤æä¾›ï¼Œæ— éœ€è½½å…¥å…¶ä»–ä¸­é—´ä»¶</p><p>ä¸¾ä¾‹è¯´æ˜</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; GET &#x2F;user&#x2F;tj</span><br><span class="line">req.params.name</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;tj&quot;</span><br></pre></td></tr></table></figure><blockquote><p><font color="red"><strong>å¤šé€‚ç”¨äºrestfulé£æ ¼urlä¸­çš„å‚æ•°çš„è§£æ</strong></font></p></blockquote><p>req.queryä¸req.paramsçš„åŒºåˆ«</p><blockquote><p>req.paramsåŒ…å«è·¯ç”±å‚æ•°ï¼ˆåœ¨URLçš„è·¯å¾„éƒ¨åˆ†ï¼‰ï¼Œè€Œreq.queryåŒ…å«URLçš„æŸ¥è¯¢å‚æ•°ï¼ˆåœ¨URLçš„ï¼Ÿåçš„å‚æ•°ï¼‰ã€‚</p></blockquote><p><a id="req.param()"><strong>æœ€åä¸€ç§req.param()</strong></a></p><p>æ­¤æ–¹æ³•è¢«å¼ƒç”¨ï¼Œè¯·çœ‹<a href="http://www.expressjs.com.cn/4x/api.html#req.param" target="_blank" rel="noopener">å®˜æ–¹è§£é‡Š</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Deprecated. Use either req.params, req.body or req.query, as applicable.</span><br><span class="line">ç¿»è¯‘ï¼šè¢«å¼ƒç”¨ï¼Œç”¨å…¶ä»–ä¸‰ç§æ–¹å¼æ›¿æ¢</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      NodeJs å–å‚çš„å››ç§æ–¹æ³•
    
    </summary>
    
    
      <category term="Nodejs" scheme="https://extheor.github.io/categories/Nodejs/"/>
    
    
      <category term="nodejs" scheme="https://extheor.github.io/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>MongoDBåŸºæœ¬ç”¨æ³•</title>
    <link href="https://extheor.github.io/posts/236bfea3/index.html"/>
    <id>https://extheor.github.io/posts/236bfea3/index.html</id>
    <published>2020-09-07T03:35:41.000Z</published>
    <updated>2020-09-13T06:36:05.252Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="mongodbåŸºæœ¬ç”¨æ³•"><a class="markdownIt-Anchor" href="#mongodbåŸºæœ¬ç”¨æ³•"></a> MongoDBåŸºæœ¬ç”¨æ³•</h1><h2 id="1ä½¿ç”¨æ•°æ®åº“-åˆ›å»ºæ•°æ®åº“"><a class="markdownIt-Anchor" href="#1ä½¿ç”¨æ•°æ®åº“-åˆ›å»ºæ•°æ®åº“"></a> 1.ä½¿ç”¨æ•°æ®åº“ã€åˆ›å»ºæ•°æ®åº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use itying</span><br></pre></td></tr></table></figure><p>å¦‚æœçœŸçš„æƒ³æŠŠè¿™ä¸ªæ•°æ®åº“åˆ›å»ºæˆåŠŸï¼Œé‚£ä¹ˆå¿…é¡»æ’å…¥ä¸€ä¸ªæ•°æ®ã€‚</p><p>æ•°æ®åº“ä¸­ä¸èƒ½ç›´æ¥æ’å…¥æ•°æ®ï¼Œåªèƒ½å¾€é›†åˆ(collections)ä¸­æ’å…¥æ•°æ®ã€‚ä¸‹é¢å‘½ä»¤è¡¨ç¤ºç»™ityingæ•°æ®åº“çš„userè¡¨ä¸­æ’å…¥æ•°æ®ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.insert(&#123;&quot;name&quot;:&quot;xiaoming&quot;&#125;);</span><br></pre></td></tr></table></figure><h2 id="2æŸ¥çœ‹æ•°æ®åº“"><a class="markdownIt-Anchor" href="#2æŸ¥çœ‹æ•°æ®åº“"></a> 2.æŸ¥çœ‹æ•°æ®åº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show dbs</span><br></pre></td></tr></table></figure><h2 id="3æ˜¾ç¤ºå½“å‰çš„æ•°æ®é›†åˆmysqlä¸­å«è¡¨"><a class="markdownIt-Anchor" href="#3æ˜¾ç¤ºå½“å‰çš„æ•°æ®é›†åˆmysqlä¸­å«è¡¨"></a> 3.æ˜¾ç¤ºå½“å‰çš„æ•°æ®é›†åˆï¼ˆmysqlä¸­å«è¡¨ï¼‰</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show collections</span><br></pre></td></tr></table></figure><h2 id="4æŸ¥è¯¢æ•°æ®é›†åˆä¸­çš„æ•°æ®"><a class="markdownIt-Anchor" href="#4æŸ¥è¯¢æ•°æ®é›†åˆä¸­çš„æ•°æ®"></a> 4.æŸ¥è¯¢æ•°æ®é›†åˆä¸­çš„æ•°æ®</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find()</span><br></pre></td></tr></table></figure><ul><li>1.å¦‚æœæƒ³è¦æŸ¥è¯¢æŒ‡å®šçš„æ•°æ®ï¼Œåˆ™è¿™ä¹ˆå†™</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;age&quot;: 13&#125;)</span><br></pre></td></tr></table></figure><ul><li>2.å¦‚æœæŸ¥è¯¢ age &gt; 22 çš„è®°å½•</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;age&quot;: &#123;$gt: 22&#125;&#125;);</span><br></pre></td></tr></table></figure><ul><li>3.å¦‚æœæŸ¥è¯¢ age &lt; 22 çš„è®°å½•</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;age&quot;: &#123;$lt: 22&#125;&#125;);</span><br></pre></td></tr></table></figure><ul><li>4.å¦‚æœæŸ¥è¯¢ age &gt;= 25 çš„è®°å½•</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;age&quot;: &#123;$gte: 25&#125;&#125;);</span><br></pre></td></tr></table></figure><ul><li>5.å¦‚æœæŸ¥è¯¢ age &lt;= 25 çš„è®°å½•</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;age&quot;: &#123;$lte: 25&#125;&#125;);</span><br></pre></td></tr></table></figure><ul><li>6.æŸ¥è¯¢ age &gt;= 23 å¹¶ä¸” age &lt;= 26</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;age&quot;: &#123;$gte: 23, $lte: 26&#125;&#125;);</span><br></pre></td></tr></table></figure><ul><li>7.æŸ¥è¯¢ name ä¸­åŒ…å« mongo çš„æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;name&quot;: &#x2F;mongo&#x2F;&#125;);</span><br></pre></td></tr></table></figure><ul><li>8.æŸ¥è¯¢ name ä¸­ä»¥ mongo å¼€å¤´çš„</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;name&quot;: &#x2F;^mongo&#x2F;&#125;);</span><br></pre></td></tr></table></figure><ul><li>9.æŸ¥è¯¢ name ä¸­ä»¥ mongo ç»“å°¾çš„</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;name&quot;: &#x2F;mongo$&#x2F;&#125;);</span><br></pre></td></tr></table></figure><ul><li>10.æŸ¥è¯¢æŒ‡å®šåˆ— nameã€age æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&#125;,&#123;&quot;name&quot;: 1, &quot;age&quot;: 1&#125;);</span><br></pre></td></tr></table></figure><ul><li>11.æŒ‰ç…§å¹´é¾„æ’åº1å‡åº-1é™åº</li></ul><p>å‡åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find().sort(&#123;&quot;age&quot;: 1&#125;);</span><br></pre></td></tr></table></figure><p>é™åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find().sort(&#123;&quot;age&quot;: -1&#125;);</span><br></pre></td></tr></table></figure><ul><li>12.æŸ¥è¯¢ name = zhangsan, age = 22 çš„æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 22&#125;);</span><br></pre></td></tr></table></figure><ul><li>13.æŸ¥è¯¢å‰ 5 æ¡æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find().limit(5);</span><br></pre></td></tr></table></figure><ul><li>14.æŸ¥è¯¢ 10 æ¡ä»¥åçš„æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find().skip(10);</span><br></pre></td></tr></table></figure><ul><li>15.æŸ¥è¯¢ 10 æ¡ä»¥åçš„æ•°æ®ä¸­çš„å‰ 5 æ¡æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find().skip(10).limit(5);</span><br></pre></td></tr></table></figure><ul><li>16.å¦‚ä½•åˆ†é¡µæŸ¥è¯¢</li></ul><p>ç¬¬ä¸€é¡µï¼š1åˆ°10é¡µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.admin.find().limit(10)</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒé¡µï¼š11åˆ°20é¡µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.admin.find().skip(10).limit(10)</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰é¡µï¼š21åˆ°30é¡µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.admin.find().skip(20).limit(10)</span><br></pre></td></tr></table></figure><p>â€¦</p><p>ç¬¬né¡µï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.admin.find().skip((n-1)*pageSize).limit(pageSize)</span><br></pre></td></tr></table></figure><ul><li>17.or æŸ¥è¯¢</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;$or: [&#123;&quot;age&quot;: 22&#125;, &#123;&quot;age&quot;: 25&#125;]&#125;);</span><br></pre></td></tr></table></figure><ul><li>18.findOne æŸ¥è¯¢ç¬¬ä¸€æ¡æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.findOne();</span><br></pre></td></tr></table></figure><h2 id="5åˆ é™¤é›†åˆåˆ é™¤æŒ‡å®šçš„é›†åˆ-åˆ é™¤è¡¨"><a class="markdownIt-Anchor" href="#5åˆ é™¤é›†åˆåˆ é™¤æŒ‡å®šçš„é›†åˆ-åˆ é™¤è¡¨"></a> 5.åˆ é™¤é›†åˆï¼Œåˆ é™¤æŒ‡å®šçš„é›†åˆ    åˆ é™¤è¡¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">åˆ é™¤é›†åˆ db.COLLECTION_NAME.drop()</span><br><span class="line">db.user.drop()</span><br></pre></td></tr></table></figure><h2 id="6åˆ é™¤æ•°æ®åº“åˆ é™¤å½“å‰æ‰€åœ¨çš„æ•°æ®åº“"><a class="markdownIt-Anchor" href="#6åˆ é™¤æ•°æ®åº“åˆ é™¤å½“å‰æ‰€åœ¨çš„æ•°æ®åº“"></a> 6.åˆ é™¤æ•°æ®åº“ï¼Œåˆ é™¤å½“å‰æ‰€åœ¨çš„æ•°æ®åº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.dropDatabase();</span><br></pre></td></tr></table></figure><h2 id="7æ’å…¥æ•°æ®"><a class="markdownIt-Anchor" href="#7æ’å…¥æ•°æ®"></a> 7.æ’å…¥æ•°æ®</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.insert(&#123;&quot;name&quot;:&quot;xiaoming&quot;&#125;);</span><br></pre></td></tr></table></figure><ul><li>å¦‚ä½•ä¸€æ¬¡ç»™ä¸€ä¸ªé›†åˆå¢åŠ  100 æ¡æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(var i&#x3D;1; i&lt;&#x3D;100; i++)&#123;</span><br><span class="line">db.admin.insert(&#123;&quot;username&quot;: &quot;zhangsan&quot;+i, &quot;age&quot; :i&#125;)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹è¿™ä¸ªé›†åˆä¸­æœ‰å¤šå°‘æ¡æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.admin.find().count()</span><br></pre></td></tr></table></figure><h2 id="8ä¿®æ”¹æ•°æ®"><a class="markdownIt-Anchor" href="#8ä¿®æ”¹æ•°æ®"></a> 8.ä¿®æ”¹æ•°æ®</h2><p>ä¿®æ”¹é‡Œé¢è¿˜æœ‰æŸ¥è¯¢æ¡ä»¶ã€‚ä½ è¦æ”¹è°ï¼Œè¦å‘Šè¯‰ mongoã€‚</p><p>æŸ¥æ‰¾åå­—å«åšå°æ˜çš„ï¼ŒæŠŠå¹´é¾„æ›´æ”¹ä¸º 18 å²ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.update(&#123;&quot;name&quot;: &quot;å°æ˜&quot;&#125;, &#123;$set: &#123;&quot;age&quot;: 18&#125;&#125;);</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾æ•°å­¦æˆç»©æ˜¯ 70ï¼ŒæŠŠå¹´é¾„æ›´æ”¹ä¸º 33 å²ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.update(&#123;&quot;score.shuxue&quot;: 70&#125;, &#123;$set: &#123;&quot;age&quot;: 33&#125;&#125;);</span><br></pre></td></tr></table></figure><p>å®Œæ•´æ›¿æ¢ï¼Œ<strong>ä¸å‡ºç° $set å…³é”®å­—äº†</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.update(&#123;&quot;name&quot;: &quot;å°æ˜&quot;&#125;, &#123;&quot;name&quot;: &quot;å¤§æ˜&quot;, &quot;age&quot;: 16&#125;);</span><br></pre></td></tr></table></figure><p>æ‰¹é‡æ›´æ–°ï¼ˆä¸€æ¬¡ä¿®æ”¹å¤šæ¡æ•°æ®ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.update(&#123;&quot;sex&quot;: &quot;ç”·&quot;&#125;, &#123;$set: &#123;&quot;age&quot;: 33&#125;&#125;, &#123;multi: true&#125;);</span><br></pre></td></tr></table></figure><h2 id="9åˆ é™¤æ•°æ®"><a class="markdownIt-Anchor" href="#9åˆ é™¤æ•°æ®"></a> 9.åˆ é™¤æ•°æ®</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db.collectionNames.remove(&#123;&quot;borough&quot;: &quot;Manhattan&quot;&#125;)</span><br><span class="line">db.users.remove(&#123;&quot;age&quot;: 132&#125;);</span><br></pre></td></tr></table></figure><p>åªåˆ æ‰ä¸€æ¡æ•°æ®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.restaurants.remove(&#123;&quot;borough&quot;: &quot;Queens&quot;&#125;, &#123;justOne: true&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      MongoDBåŸºæœ¬ç”¨æ³•
    
    </summary>
    
    
      <category term="MongoDB" scheme="https://extheor.github.io/categories/MongoDB/"/>
    
    
      <category term="mongodb" scheme="https://extheor.github.io/tags/mongodb/"/>
    
  </entry>
  
  <entry>
    <title>äº¬ä¸œæŠ•ç¥¨é¡¹ç›®å¼€å‘ç¬”è®°</title>
    <link href="https://extheor.github.io/posts/5508212c/index.html"/>
    <id>https://extheor.github.io/posts/5508212c/index.html</id>
    <published>2020-09-07T03:35:41.000Z</published>
    <updated>2020-09-13T06:36:45.443Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="äº¬ä¸œæŠ•ç¥¨é¡¹ç›®å¼€å‘ç¬”è®°"><a class="markdownIt-Anchor" href="#äº¬ä¸œæŠ•ç¥¨é¡¹ç›®å¼€å‘ç¬”è®°"></a> äº¬ä¸œæŠ•ç¥¨é¡¹ç›®å¼€å‘ç¬”è®°</h1><ol><li><p>æ‰“å¼€é¡¹ç›®<br /><code>$yarn install / $ npm install</code>: è·‘ç¯å¢ƒï¼ˆæŠŠé¡¹ç›®ä¾èµ–çš„æ’ä»¶è¿›è¡Œå®‰è£…ï¼‰<br /><code>$node admin.js</code>: å¯æœåŠ¡ï¼ˆæŠŠè‡ªå·±çš„è®¡ç®—æœºä½œä¸ºæœåŠ¡å™¨ï¼Œåˆ›å»ºä¸€ä¸ªæŒ‡å®šç«¯å£çš„æœåŠ¡ï¼Œæ¥ç®¡ç†åå°ç¨‹åº-&gt;åå°ç¨‹åºä¼šæ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„éœ€æ±‚ï¼ŒæŠŠå¯¹åº”çš„æ•°æ®å’Œä¸šåŠ¡é€»è¾‘å®ç°ï¼‰</p></li><li><p>API.TXT: APIæ¥å£æ–‡æ¡£<br />çœŸå®é¡¹ç›®ä¸­ï¼Œåå°å¼€å‘äººå‘˜ä¼šç»™å‰ç«¯å¼€å‘äººå‘˜æä¾›ä¸€ä¸ªæŠ€æœ¯æ–‡æ¡£ï¼ˆæ¥å£æ–‡æ¡£ï¼‰ï¼Œæ–‡æ¡£ä¸­æè¿°äº†å‰ç«¯éœ€è¦è°ƒå–åå°çš„æŸäº›æ¥å£å®ç°çš„æŸäº›åŠŸèƒ½ï¼Œå¹¶ä¸”æ ‡æ³¨äº†è¯·æ±‚çš„åœ°å€ã€è¯·æ±‚æ–¹å¼ã€ä¼ é€’ç»™æœåŠ¡å™¨çš„å†…å®¹ã€ä»¥åŠæœåŠ¡å™¨è¿”å›çš„ç»“æœç­‰ä¿¡æ¯</p><p>è¿™å°±æ˜¯å‰åç«¯åˆ†ç¦»: å‰ç«¯å¼€å‘è€…ä¸éœ€è¦è€ƒè™‘åå°æ˜¯åŸºäºä»€ä¹ˆæŠ€æœ¯æ€ä¹ˆå®ç°çš„ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§APIæ–‡æ¡£ä¸­æä¾›çš„ä¿¡æ¯ï¼Œå»å‘é€è¯·æ±‚ä¼ é€’å†…å®¹å³å¯ï¼Œè¿™æ ·å°±å¯ä»¥è·å–æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼ˆAPIæ–‡æ¡£å°±æ˜¯çº¦æŸå‰ç«¯å’Œåå°çš„è§„èŒƒæ–‡æ¡£ï¼‰</p></li></ol><h2 id="é¢è¯•é¢˜æœ‰ä¸€ä¸‡æ¡æ•°æ®æƒ³è®©å…¶ç»‘å®šåˆ°é¡µé¢ä¸­æ€ä¹ˆåšå¥½ä¸€äº›"><a class="markdownIt-Anchor" href="#é¢è¯•é¢˜æœ‰ä¸€ä¸‡æ¡æ•°æ®æƒ³è®©å…¶ç»‘å®šåˆ°é¡µé¢ä¸­æ€ä¹ˆåšå¥½ä¸€äº›"></a> é¢è¯•é¢˜ï¼šæœ‰ä¸€ä¸‡æ¡æ•°æ®ï¼Œæƒ³è®©å…¶ç»‘å®šåˆ°é¡µé¢ä¸­ï¼Œæ€ä¹ˆåšå¥½ä¸€äº›ï¼Ÿ</h2><ol><li><p>æ–‡æ¡£ç¢ç‰‡: éå†æ•°æ®ï¼ŒæŠŠå¯¹åº”çš„æ•°æ®å’Œç»“æ„éƒ½æ·»åŠ åˆ°æ–‡æ¡£ç¢ç‰‡ä¸­ï¼Œåœ¨æŠŠæ–‡æ¡£ç¢ç‰‡æ‰å…¥åˆ°é¡µé¢ä¸­ï¼ˆä¼˜åŠ¿âˆ¶å‡å°‘äº†DOMçš„å›æµ=&gt;åŸºäºå­—ç¬¦ä¸²æ‹¼æ¥ä¹Ÿå¯ä»¥)</p></li><li><p>è™šæ‹ŸDOM:ç±»ä¼¼äºREACTæ¡†æ¶ï¼ŒåŸºäºè™šæ‹ŸDOMä»¥åŠDIFFç®—æ³•ï¼Œä¹Ÿå¯ä»¥ä¼˜åŒ–æ•°æ®ç»‘å®š</p></li><li><p><font color="red"><b>å…¶å®æœ¬è´¨æ¥è®²æ€ä¹ˆåšéƒ½ä¸æ˜¯æœ€å¥½çš„ï¼Œæˆ‘ä»¬ä¸åº”è¯¥å‡ºç°1ä¸‡æ¡è¿™ç§å¤§æ•°æ®é‡çš„ç»‘å®š<br />-&gt;ä»æœåŠ¡å™¨è·å–1ä¸‡æ¡æ¶ˆè€—å¾ˆå¤šæ—¶é—´<br />-&gt;é¡µé¢æ¸²æŸ“1ä¸‡æ¡ä¹Ÿä¼šæ¶ˆè€—å¾ˆå¤šæ—¶é—´</b></font></p></li></ol><h2 id="å¼‚æ­¥æ•°æ®åŠ è½½åˆ†é¡µåŠ è½½"><a class="markdownIt-Anchor" href="#å¼‚æ­¥æ•°æ®åŠ è½½åˆ†é¡µåŠ è½½"></a> å¼‚æ­¥æ•°æ®åŠ è½½ï¼ˆåˆ†é¡µåŠ è½½ï¼‰</h2><p>ã€Œéœ€è¦æœåŠ¡å™¨ç«¯åšæ”¯æŒ]</p><ol><li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€ä¸€ä¸ªGETè¯·æ±‚ï¼Œä¼ é€’ç»™æœåŠ¡å™¨:æ¯é¡µå±•ç¤ºçš„æ¡æ•°ï¼Œå½“å‰è¦å±•ç¤ºçš„é¡µæ•°ç­‰ä¿¡æ¯ï¼Œä¾‹å¦‚ä¼ é€’çš„æ˜¯?limit=20&amp;page=1ï¼ˆæ¯é¡µå±•ç¤º20æ¡ï¼Œå½“å‰å±•ç¤ºç¬¬ä¸€é¡µï¼‰</li><li>æœåŠ¡å™¨ç«¯æ¥å—åˆ°è¯·æ±‚åï¼Œåœ¨æ‰€æœ‰çš„æ•°æ®ä¸­æŠŠç¬¬ä¸€é¡µçš„20æ¡æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯</li><li>å½“ç”¨æˆ·ä¸‹æ‹‰åŠ è½½æ›´å¤šæˆ–è€…ç‚¹å‡»ç¬¬äºŒé¡µç­‰é¡µç æŒ‰é’®ç­‰æ—¶å€™ï¼Œé‡å¤ç¬¬ä¸€æ­¥ï¼ŒæŠŠå¯¹åº”è¦å±•ç¤ºçš„é¡µç ä¼ é€’ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è¿”å›å¯¹åº”é¡µç ä¸­çš„æ•°æ®</li></ol><p>æœ€ç»ˆå®ç°æ•ˆæœå›¾</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E4%BA%AC%E4%B8%9C%E6%8A%95%E7%A5%A801.png" alt="" /></p><p>é€šè¿‡AJAXè¯·æ±‚æ¥è·å–JSONæ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œåªæœ‰åœ¨ç™»å½•æƒ…å†µä¸‹æ‰èƒ½æŠ•ç¥¨å’Œå‚èµ›ï¼Œå¹¶ä¸”æ¯ä¸ªäººåªèƒ½æŠ•ä¸€ç¥¨ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®ä¼šæ˜¾ç¤ºå½“å‰æ²¡æœ‰æ•°æ®ï¼Œç™»å½•çš„å¯†ç éœ€è¦ç”¨MD5åŠ å¯†ç­‰ç­‰ã€‚</p><h2 id="ä¸€-é¦–é¡µåç«¯"><a class="markdownIt-Anchor" href="#ä¸€-é¦–é¡µåç«¯"></a> ä¸€ã€é¦–é¡µåç«¯</h2><h3 id="ç›®å½•ç»“æ„"><a class="markdownIt-Anchor" href="#ç›®å½•ç»“æ„"></a> ç›®å½•ç»“æ„</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|-- node_modules       ç¬¬ä¸‰æ–¹åŒ…</span><br><span class="line">|-- public             å…¬å…±çš„é™æ€èµ„æº</span><br><span class="line">|-- app.js           å­åº”ç”¨æ–‡ä»¶</span><br><span class="line">|-- package.json       åŒ…æè¿°æ–‡ä»¶</span><br><span class="line">|-- package-lock.json  ç¬¬ä¸‰æ–¹åŒ…ç‰ˆæœ¬é”å®šæ–‡ä»¶ï¼ˆnpm 5 ä»¥åæ‰æœ‰ï¼‰</span><br><span class="line">|-- router.js          è·¯ç”±æ¥å£æ–‡ä»¶</span><br></pre></td></tr></table></figure><h3 id="è·¯ç”±è®¾è®¡"><a class="markdownIt-Anchor" href="#è·¯ç”±è®¾è®¡"></a> è·¯ç”±è®¾è®¡</h3><table><thead><tr><th>è·¯å¾„</th><th>æ–¹æ³•</th><th>getå‚æ•°</th><th>postå‚æ•°</th><th>æ˜¯å¦éœ€è¦ç™»å½•</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>/index</td><td>GET</td><td></td><td></td><td></td><td>æ¸²æŸ“é¦–é¡µ</td></tr><tr><td>/register</td><td>GET</td><td></td><td></td><td></td><td>æ¸²æŸ“æ³¨å†Œé¡µ</td></tr><tr><td>/register</td><td>POST</td><td></td><td>usernameã€phoneã€passwordã€passwordtrueã€descriptã€avatarã€sex</td><td></td><td>å¤„ç†æ³¨å†Œé¡µ</td></tr><tr><td>/login</td><td>GET</td><td></td><td></td><td></td><td>æ¸²æŸ“ç™»å½•é¡µ</td></tr><tr><td>/login</td><td>POST</td><td></td><td>phoneã€password</td><td></td><td>å¤„ç†ç™»å½•é¡µ</td></tr><tr><td>/about</td><td>GET</td><td></td><td></td><td></td><td>æ¸²æŸ“ä¸ªäººä¸»é¡µ</td></tr><tr><td>/logout</td><td>GET</td><td></td><td></td><td></td><td>é€€å‡ºç™»å½•</td></tr><tr><td>/search</td><td>GET</td><td>username</td><td></td><td></td><td>æœç´¢åŠŸèƒ½</td></tr><tr><td>/vote</td><td>GET</td><td>username</td><td></td><td></td><td>æŠ•ç¥¨åŠŸèƒ½</td></tr><tr><td>/match</td><td>GET</td><td></td><td></td><td></td><td>æ¸²æŸ“å‚èµ›é¡µ</td></tr></tbody></table><h2 id="é¡¹ç›®æ„å»º"><a class="markdownIt-Anchor" href="#é¡¹ç›®æ„å»º"></a> é¡¹ç›®æ„å»º</h2><h4 id="appjs-æ–‡ä»¶çš„åŸºæœ¬é…ç½®"><a class="markdownIt-Anchor" href="#appjs-æ–‡ä»¶çš„åŸºæœ¬é…ç½®"></a> app.js æ–‡ä»¶çš„åŸºæœ¬é…ç½®</h4><ul><li><p>éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—</p><p><a href="https://www.expressjs.com.cn/" target="_blank" rel="noopener"><code>npm i express</code></a></p><p><a href="https://www.npmjs.com/package/ejs" target="_blank" rel="noopener"><code>npm i ejs</code></a></p><p><a href="https://www.npmjs.com/package/cookie-parser" target="_blank" rel="noopener"><code>npm i cookie-parser</code></a></p><p><a href="https://www.npmjs.com/package/body-parser" target="_blank" rel="noopener"><code>npm i body-parser</code></a></p><p><a href="https://www.npmjs.com/package/mongoose" target="_blank" rel="noopener"><code>npm i mongoose</code></a></p><p><a href="https://www.npmjs.com/package/multer" target="_blank" rel="noopener"><code>npm i multer</code></a></p></li><li><p>è·¯ç”±æ–‡ä»¶ï¼ˆrouter.jsï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</span><br><span class="line"><span class="comment">// è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.Router();</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">"/"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  res.send(<span class="string">"Hello World"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure></li><li><p>app.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥å†™æœåŠ¡å™¨çš„ç¬¬ä¸‰æ–¹æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥ç”¨æ¥è§£æçš„æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">"body-parser"</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥mongooseæ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">"mongoose"</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥router.js</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">"./router"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºæœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨¡æ¿å¼•æ“çš„è®¾ç½®</span></span><br><span class="line">app.set(<span class="string">"view engine"</span>, <span class="string">"html"</span>);</span><br><span class="line">app.set(<span class="string">"views"</span>, <span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/views`</span>);</span><br><span class="line">app.engine(<span class="string">"html"</span>, <span class="built_in">require</span>(<span class="string">"ejs"</span>).renderFile); <span class="comment">// ç”¨ejsæ¨¡æ¿æ¸²æŸ“html</span></span><br><span class="line"><span class="comment">// åŠ è½½åˆ°æ²¡æœ‰æŒ‚è½½è·¯å¾„çš„ä¸­é—´ä»¶</span></span><br><span class="line">app.use(bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€èµ„æºé…ç½®</span></span><br><span class="line">app.use(express.static(__dirname + <span class="string">"/public"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨router, router.jsæ–‡ä»¶ä¸­çš„æ‰€æœ‰è·¯ç”±éƒ½å¯ä»¥ä½¿ç”¨</span></span><br><span class="line">app.use(router);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿æ¥æ•°æ®åº“å’Œå¼€å¯æœåŠ¡å™¨</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * localhost - æœ¬åœ°åœ°å€</span></span><br><span class="line"><span class="comment"> * jdvotes - mongodbæ•°æ®åº“</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">mongoose.connect(</span><br><span class="line">  <span class="string">"mongodb://localhost/jdvotes"</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    useNewUrlParser: <span class="literal">true</span>,</span><br><span class="line">    useUnifiedTopology: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"æ•°æ®åº“è¿æ¥å¤±è´¥"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"æ•°æ®åº“è¿æ¥æˆåŠŸ"</span>);</span><br><span class="line">      app.listen(<span class="number">8888</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"æœåŠ¡å™¨å¼€å¯æˆåŠŸ -- 8888"</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>éœ€è¦ç”¨åˆ°MondoDBï¼Œæ‰€ä»¥éœ€è¦é…ç½®ä»¥ä¸‹è¡¨ç»“æ„æ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* MongoDBæ•°æ®åº“æ¨¡å‹æ–‡ä»¶ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥mongooseæ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> mongogose = <span class="built_in">require</span>(<span class="string">"mongoose"</span>);</span><br><span class="line"><span class="comment">// é€šè¿‡mongooseå®šä¹‰æ¥å£ Schema</span></span><br><span class="line"><span class="keyword">var</span> Schema = mongogose.Schema;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆè¡¨ç»“æ„</span></span><br><span class="line"><span class="comment">// æ“ä½œusersè¡¨ï¼ˆé›†åˆï¼‰ å®šä¹‰ä¸€ä¸ªSchema  Schemaé‡Œé¢çš„å¯¹è±¡å’Œæ•°æ®åº“è¡¨é‡Œé¢çš„å­—æ®µéœ€è¦ä¸€ä¸€å¯¹åº”</span></span><br><span class="line"><span class="keyword">var</span> mySchema = <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">  <span class="comment">// name: &#123; type: String, default: "zhangsan" &#125;,</span></span><br><span class="line">  name: <span class="built_in">String</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠSchemaå¯¼å‡º</span></span><br><span class="line"><span class="built_in">module</span>.exports = mySchema;</span><br></pre></td></tr></table></figure></li><li><p>ç„¶åå†è®¿é—®æ•°æ®åº“æ¨¡å‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥mongooseæ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">"mongoose"</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥ schema.js æ–‡ä»¶ï¼ˆMongoDBæ•°æ®åº“è¡¨ç»“æ„æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="keyword">const</span> mySchema = <span class="built_in">require</span>(<span class="string">"./schema"</span>);</span><br><span class="line"><span class="comment">// å®šä¹‰æ•°æ®åº“æ¨¡å‹</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    modelé‡Œé¢çš„ç¬¬ä¸€ä¸ªå‚æ•° è¦æ³¨æ„ï¼š</span></span><br><span class="line"><span class="comment">      1.é¦–å­—æ¯å¤§å†™</span></span><br><span class="line"><span class="comment">        2.è¦å’Œæ•°æ®åº“è¡¨ï¼ˆé›†åˆï¼‰åç§°å¯¹åº”</span></span><br><span class="line"><span class="comment">    è¿™ä¸ªæ¨¡å‹ä¼šå’Œæ¨¡å‹åç§°ç›¸åŒçš„å¤æ•°çš„æ•°æ®åº“è¡¨å»ºç«‹è¿æ¥ </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠè¿™ä¸ªæ•°æ®åº“æ¨¡å‹å¯¼å‡º</span></span><br><span class="line"><span class="built_in">module</span>.exports = mongoose.model(<span class="string">"User"</span>, mySchema);</span><br></pre></td></tr></table></figure></li><li><p>æœ€ååœ¨å†™è·¯ç”±ï¼Œåœ¨å¯¹åº”è·¯ç”±ä¸ŠæŸ¥è¯¢å¯¹åº”çš„æ•°æ®è¿”å›ç»™é¡µé¢å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è·¯ç”±æ–‡ä»¶ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥model.jsæ–‡ä»¶ï¼ˆæ•°æ®åº“æ¨¡å‹æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="keyword">const</span> USER = <span class="built_in">require</span>(<span class="string">"./model"</span>);</span><br><span class="line"><span class="comment">// è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.Router();</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¦–é¡µ</span></span><br><span class="line">router.get(<span class="string">"/"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  USER.find(&#123;&#125;, (err, docs) =&gt; &#123;</span><br><span class="line">    <span class="comment">// docs.forEach</span></span><br><span class="line">    <span class="comment">// å¦‚æœæŸ¥è¯¢æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span> (err === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(docs);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  res.send(<span class="string">"Hello"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨è®¿é—® <code>127.0.0.1:8888</code> ï¼Œå¾—åˆ°ç»“æœ <code>[ { _id: 5f5ad635994e3f8f4923d1cd, name: 'zhangsan' } ]</code></p></li><li><p>åˆ›å»ºæ•°æ®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(var i&#x3D;1;i&lt;&#x3D;150;i++)&#123;</span><br><span class="line">db.users.insert(&#123;&quot;id&quot;:i,&quot;name&quot;:&quot;å¼ &quot;+i,&quot;picture&quot;:&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;extheor&#x2F;images&#x2F;Ajax%E5%9B%BE%E7%89%87&#x2F;man.png&quot;,&quot;phone&quot;:&quot;10377771223&quot;,&quot;sex&quot;:0,&quot;password&quot;:&quot;123456&quot;,&quot;bio&quot;:&quot;Live beautifully, dream passionately, love completely&quot;,&quot;time&quot;:1506090072369,&quot;isMatch&quot;:1,&quot;matchId&quot;:i&lt;10?&quot;00&quot;+i:i&lt;100?&quot;0&quot;+i:i,&quot;slogan&quot;:&quot;ä½ æ˜¯å”¯ä¸€çš„ï¼Œä½ æ˜¯éå¸¸ç‹¬ç‰¹çš„ï¼Œä½ å°±æ˜¯ä½ ç”Ÿå‘½ä¸­çš„ç¬¬ä¸€å&quot;,&quot;voteNum&quot;:1&#125;)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><h2 id="äºŒ-é¦–é¡µå‰ç«¯"><a class="markdownIt-Anchor" href="#äºŒ-é¦–é¡µå‰ç«¯"></a> äºŒã€é¦–é¡µå‰ç«¯</h2><h3 id="é¦–å…ˆæŠŠé¦–é¡µå†™å‡ºæ¥viewsindexhtml"><a class="markdownIt-Anchor" href="#é¦–å…ˆæŠŠé¦–é¡µå†™å‡ºæ¥viewsindexhtml"></a> é¦–å…ˆæŠŠé¦–é¡µå†™å‡ºæ¥ï¼ˆviews/index.htmlï¼‰</h3><blockquote><p>å®Œå…¨æ‰‹æ’¸çš„</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/index.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/index"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span> <span class="attr">class</span>=<span class="string">"login"</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/register"</span>&gt;</span>æ³¨å†Œ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"img/title.png"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"myToMacth"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/match"</span>&gt;</span>æˆ‘è¦å‚èµ›<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"search"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"searchInput"</span> <span class="attr">placeholder</span>=<span class="string">"è¾“å…¥ç”¨æˆ·åæŸ¥æ‰¾"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"searchButton"</span> <span class="attr">value</span>=<span class="string">"æœç´¢"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"userul"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">%</span> <span class="attr">datas.forEach</span>(<span class="attr">data</span> =&gt;</span> &#123; %&gt;</span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"&lt;%= data.phone %&gt;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&lt;%= data.picture %&gt; "</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">data.username</span> %&gt;</span> | ç¼–å·# <span class="tag">&lt;<span class="name">%=</span> <span class="attr">data.matchId</span> %&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">data.slogan</span> %&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"voteNum"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">data.voteNum</span> %&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>æŠ•ä»–ä¸€ç¥¨<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">%</span> &#125;) %&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>CSSæ ·å¼åœ¨è¿™é‡Œ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellowgreen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.app</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">450px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é¦–é¡µã€ç™»å½•ã€æ³¨å†Œ */</span></span><br><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">header</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#31a5de</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŠ•èµ·æ¥ */</span></span><br><span class="line"><span class="selector-class">.header</span> &gt; <span class="selector-class">.img</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">40%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æˆ‘è¦å‚èµ› */</span></span><br><span class="line"><span class="selector-class">.myToMacth</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">38%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line"></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eb713b</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">5px</span> <span class="number">2px</span> <span class="number">15px</span> <span class="built_in">rgb</span>(<span class="number">90</span>, <span class="number">38</span>, <span class="number">38</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.myToMacth</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æœç´¢ */</span></span><br><span class="line"><span class="selector-class">.search</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">52%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">45%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line"></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="comment">/* border: 1px solid #000; */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* border-radius: ; */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.searchInput</span>,</span><br><span class="line"><span class="selector-class">.searchButton</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.searchInput</span> &#123;</span><br><span class="line">  <span class="attribute">border-top-right-radius</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.searchButton</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#007ec3</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ—è¡¨ */</span></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">450px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-class">.left</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-class">.center</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-class">.right</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">156</span>, <span class="number">92</span>, <span class="number">92</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-class">.right</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-class">.right</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(2)</span> &gt; <span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="comment">/* width: 60px;</span></span><br><span class="line"><span class="comment">  height: 30px; */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#0081cd</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¡µé¢æ ·å¼å¦‚ä¸‹ï¼š</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdVote%E5%9B%BE%E7%89%87/index01.png" alt="" /></p><ul><li><p>æ¥ä¸‹æ¥éœ€è¦æŠŠä»æ•°æ®åº“è·å–åˆ°çš„æ•°æ®æ¸²æŸ“åˆ°HTMLé¡µé¢å½“ä¸­å»</p><ul><li><p>ä»è·¯ç”±æ–‡ä»¶ä¸­è·å–åˆ°æ•°æ®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è·¯ç”±æ–‡ä»¶ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥model.jsæ–‡ä»¶ï¼ˆæ•°æ®åº“æ¨¡å‹æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="keyword">const</span> USER = <span class="built_in">require</span>(<span class="string">"./model"</span>);</span><br><span class="line"><span class="comment">// è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.Router();</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¦–é¡µ</span></span><br><span class="line">router.get(<span class="string">"/index"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  USER.find(&#123;&#125;, (err, datas) =&gt; &#123;</span><br><span class="line">    <span class="comment">// docs.forEach</span></span><br><span class="line">    <span class="comment">// å¦‚æœæŸ¥è¯¢æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span> (err === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">// console.log(datas);</span></span><br><span class="line">      res.render(<span class="string">"index"</span>, &#123;</span><br><span class="line">        <span class="comment">// es6è¯­æ³•ï¼šå¯¹è±¡è§£æ„èµ‹å€¼ï¼Œ</span></span><br><span class="line">        <span class="comment">// ç›¸å½“äºdatas:datas</span></span><br><span class="line">        datas,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure></li><li><p>æ¸²æŸ“åˆ°HTMLé¡µé¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css/index.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/register"</span>&gt;</span>æ³¨å†Œ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"img/title.png"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"myToMacth"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/match"</span>&gt;</span>æˆ‘è¦å‚èµ›<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"search"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"searchInput"</span> <span class="attr">placeholder</span>=<span class="string">"è¾“å…¥ç”¨æˆ·åæŸ¥æ‰¾"</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"searchButton"</span> <span class="attr">value</span>=<span class="string">"æœç´¢"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">%</span> <span class="attr">datas.forEach</span>(<span class="attr">data</span> =&gt;</span> &#123; %&gt;</span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"&lt;%= data.id %&gt;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&lt;%= data.picture %&gt; "</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span>&gt;</span>å¼ ä¸‰ | ç¼–å·# <span class="tag">&lt;<span class="name">%=</span> <span class="attr">data.matchId</span> %&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">data.slogan</span> %&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"voteNum"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">data.voteNum</span> %&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>æŠ•ä»–ä¸€ç¥¨<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">%</span> &#125;) %&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdVote%E5%9B%BE%E7%89%87/indexEjs01.png" alt="" /></p></li></ul></li></ul><h2 id="ä¸‰-æ³¨å†Œé¡µå‰ç«¯"><a class="markdownIt-Anchor" href="#ä¸‰-æ³¨å†Œé¡µå‰ç«¯"></a> ä¸‰ã€æ³¨å†Œé¡µå‰ç«¯</h2><h3 id="é¦–å…ˆæŠŠæ³¨å†Œé¡µé¢å†™å‡ºæ¥"><a class="markdownIt-Anchor" href="#é¦–å…ˆæŠŠæ³¨å†Œé¡µé¢å†™å‡ºæ¥"></a> é¦–å…ˆæŠŠæ³¨å†Œé¡µé¢å†™å‡ºæ¥</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ³¨å†Œé¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/register.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/register"</span>&gt;</span>æ³¨å†Œ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/logout"</span>&gt;</span>é€€å‡º<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"img/title.png"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"#"</span>&gt;</span></span><br><span class="line">        ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">name</span>=<span class="string">"username"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">"username"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥æ‚¨çš„çœŸå®å§“å"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">required</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        æ‰‹æœºå·ç ï¼š<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">name</span>=<span class="string">"phone"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">"phone"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">"è¯·å¡«å†™æ‚¨å¸¸ç”¨çš„æ‰‹æœºå·"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">required</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">name</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">"ç”±6~12ä½æ•°å­—å’Œå­—æ¯ç»„æˆ"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">required</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        ç¡®è®¤å¯†ç ï¼š</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"passwordtrue"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">required</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"introduce"</span>&gt;</span>è‡ªæˆ‘æè¿°ï¼š<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">textarea</span></span></span><br><span class="line"><span class="tag">          <span class="attr">cols</span>=<span class="string">"54"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">rows</span>=<span class="string">"6"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">"é™åˆ¶åœ¨10~100å­—ä¹‹é—´"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">minlength</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">maxlength</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">"descript"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">name</span>=<span class="string">"descript"</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">        ä¸Šä¼ å¤´åƒï¼š</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"avatar"</span> <span class="attr">name</span>=<span class="string">"avatar"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sex"</span>&gt;</span>æ€§åˆ«ï¼š<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">id</span>=<span class="string">"man"</span> <span class="attr">required</span> /&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">id</span>=<span class="string">"woman"</span> <span class="attr">required</span> /&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"æäº¤æ³¨å†Œä¿¡æ¯"</span> <span class="attr">class</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/register.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æŠ•èµ·æ¥ */</span></span><br><span class="line"><span class="selector-class">.header</span> &gt; <span class="selector-class">.img</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">form</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#656e73</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">form</span> &gt; <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">396px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">form</span> &gt; <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">resize</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">form</span> &gt; <span class="selector-id">#man</span>,</span><br><span class="line"><span class="selector-tag">form</span> &gt; <span class="selector-id">#woman</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">135px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sex</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">form</span> &gt; <span class="selector-id">#man</span> ~ <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">form</span> &gt; <span class="selector-id">#man</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">17px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">form</span> &gt; <span class="selector-id">#woman</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">89px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">form</span> &gt; <span class="selector-class">.submit</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#54abe8</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰ç«¯éœ€è¦æŠŠæ³¨å†Œä¿¡æ¯å‘é€ç»™åç«¯ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°AJAX</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½“æäº¤è¡¨å•æ—¶è§¦å‘</span></span><br><span class="line">$(<span class="string">"form"</span>).on(<span class="string">"submit"</span>, (event) =&gt; &#123;</span><br><span class="line">  <span class="comment">// é˜»æ­¢é»˜è®¤è¡Œä¸º</span></span><br><span class="line">  event.preventDefault();</span><br><span class="line">  <span class="comment">//   console.log($("form")[0]);</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    serialize()  FormData  serializeArray()éƒ½æ˜¯åºåˆ—åŒ–è¡¨å•ï¼Œå®ç°è¡¨å•çš„å¼‚æ­¥æäº¤</span></span><br><span class="line"><span class="comment">    ä½†æ˜¯serialize()å’ŒserializeArray()éƒ½æ˜¯åªèƒ½åºåˆ—åŒ–è¡¨å•ä¸­çš„æ•°æ®ï¼Œæ¯”å¦‚input  selectç­‰çš„æ•°æ®ï¼Œ</span></span><br><span class="line"><span class="comment">    ä½†æ˜¯å¯¹äºæ–‡ä»¶ä¸Šä¼ å°±åªèƒ½ç”¨ FormDataã€‚</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">var</span> data = <span class="keyword">new</span> FormData($(<span class="string">"form"</span>)[<span class="number">0</span>]);</span><br><span class="line">  $.ajax(<span class="string">"/register"</span>, &#123;</span><br><span class="line">    type: <span class="string">"post"</span>,</span><br><span class="line">    data,</span><br><span class="line">    dataType: <span class="string">"json"</span>,</span><br><span class="line">    <span class="comment">// (é»˜è®¤: "application/x-www-form-urlencoded") å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨æ—¶å†…å®¹ç¼–ç ç±»å‹ã€‚é»˜è®¤å€¼é€‚åˆå¤§å¤šæ•°æƒ…å†µã€‚å¦‚æœä½ æ˜ç¡®åœ°ä¼ é€’äº†ä¸€ä¸ªcontent-typeç»™ $.ajax() é‚£ä¹ˆä»–å¿…å®šä¼šå‘é€ç»™æœåŠ¡å™¨ï¼ˆå³ä½¿æ²¡æœ‰æ•°æ®è¦å‘é€ï¼‰</span></span><br><span class="line">    contentType: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// processData é»˜è®¤ä¸ºtrueï¼Œå½“è®¾ç½®ä¸ºtrueçš„æ—¶å€™,jquery ajax æäº¤çš„æ—¶å€™ä¸ä¼šåºåˆ—åŒ– dataï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨data</span></span><br><span class="line">    processData: <span class="literal">false</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (response.code == <span class="string">"200"</span>) &#123;</span><br><span class="line">        <span class="built_in">window</span>.location = <span class="string">"/"</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="å››-æ³¨å†Œé¡µåç«¯"><a class="markdownIt-Anchor" href="#å››-æ³¨å†Œé¡µåç«¯"></a> å››ã€æ³¨å†Œé¡µåç«¯</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨å†Œ</span></span><br><span class="line">router.get(<span class="string">"/register"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  res.render(<span class="string">"register"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// å¿…é¡»å†™ä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">router.post(<span class="string">"/register"</span>, upload.single(<span class="string">"picture"</span>), (req, res) =&gt; &#123;</span><br><span class="line">  <span class="comment">// è·å–å‰ç«¯å‘é€è¿‡æ¥çš„æ³¨å†Œä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">var</span> &#123; username, phone, password, passwordtrue, slogan, sex &#125; = req.body;</span><br><span class="line">  <span class="comment">// console.log(username);</span></span><br><span class="line">  <span class="keyword">var</span> picture;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    picture = req.file.filename;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    picture = <span class="literal">undefined</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log(picture);</span></span><br><span class="line">  <span class="keyword">if</span> (password !== passwordtrue) &#123;</span><br><span class="line">    res.send(&#123;</span><br><span class="line">      code: <span class="string">"304"</span>,</span><br><span class="line">      message: <span class="string">"ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´"</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  USER.findOne(&#123; username &#125;)</span><br><span class="line">    .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœæŸ¥è¯¢åˆ°usernameå­˜åœ¨ï¼Œåˆ™è¯´æ˜è¯¥ç”¨æˆ·å·²æ³¨å†Œè¿‡</span></span><br><span class="line">      <span class="keyword">if</span> (result) &#123;</span><br><span class="line">        <span class="comment">// console.log(result); // æŸ¥è¯¢ç»“æœ</span></span><br><span class="line">        res.send(&#123;</span><br><span class="line">          code: <span class="number">304</span>,</span><br><span class="line">          message: <span class="string">"è¯¥ç”¨æˆ·å·²å­˜åœ¨"</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// å¦åˆ™è¯¥ç”¨æˆ·ä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ åˆ°è¡¨(é›†åˆ)ä¸­å»</span></span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"ç”¨æˆ·æ³¨å†Œ~~~"</span>);</span><br><span class="line">        <span class="comment">// å¦‚æœç”¨æˆ·ä¸Šä¼ äº†å›¾ç‰‡</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªæ•°æ®é›†åˆ(å¯¹è±¡)</span></span><br><span class="line">        <span class="keyword">var</span> myUser = <span class="keyword">new</span> USER(&#123;</span><br><span class="line">          username,</span><br><span class="line">          phone,</span><br><span class="line">          password,</span><br><span class="line">          picture,</span><br><span class="line">          slogan,</span><br><span class="line">          <span class="comment">// sex,</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// console.log(myUser);</span></span><br><span class="line">        <span class="comment">// æŠŠè¿™ä¸ªæ•°æ®é›†åˆæ’å…¥åˆ°è¡¨(é›†åˆ)ä¸­</span></span><br><span class="line">        USER.insertMany(myUser)</span><br><span class="line">          .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// console.log(result);</span></span><br><span class="line">            <span class="comment">// æ’å…¥æˆåŠŸ</span></span><br><span class="line">            res.send(&#123;</span><br><span class="line">              code: <span class="number">200</span>,</span><br><span class="line">              message: <span class="string">"æ³¨å†ŒæˆåŠŸ"</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;)</span><br><span class="line">          .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// console.log(err);</span></span><br><span class="line">            res.send(&#123;</span><br><span class="line">              code: <span class="number">304</span>,</span><br><span class="line">              message: <span class="string">"æ³¨å†Œå¤±è´¥"</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">      res.send(&#123;</span><br><span class="line">        code: <span class="number">500</span>,</span><br><span class="line">        message: <span class="string">"æ•°æ®åº“å†…éƒ¨é”™è¯¯"</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>é¡µé¢æ•ˆæœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdVote%E5%9B%BE%E7%89%87/register01.png" alt="" /></p><p>æ³¨å†Œå³å¯ï¼Œå…¶ä¸­ç”¨æˆ·åä¸ºå¿…å¡«é¡¹ï¼Œæ‰‹æœºå·ç ä¸ºå¿…å¡«é¡¹ï¼Œå¯†ç ä¸ºå¿…å¡«é¡¹ï¼Œç¡®è®¤å¯†ç ä¸ºå¿…å¡«é¡¹ï¼Œæ€§åˆ«ä¸ºå¿…å¡«é¡¹</p><p>ç‚¹å‡»â€œæäº¤æ³¨å†Œä¿¡æ¯â€å³å¯æ³¨å†ŒæˆåŠŸï¼Œæˆ‘ä»¬ä¼šå‘ç°åœ¨æ•°æ®åº“é‡Œå°±å¤šäº†ä¸€æ¡æ•°æ®ï¼Œç›¸å¯¹è€Œè¨€ï¼Œé¦–é¡µä¹Ÿå°±ä¼šå¤šå‡ºè¿™æ¡æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdVote%E5%9B%BE%E7%89%87/index02.png" alt="" /></p><h2 id="äº”-ç™»å½•é¡µå‰ç«¯"><a class="markdownIt-Anchor" href="#äº”-ç™»å½•é¡µå‰ç«¯"></a> äº”ã€ç™»å½•é¡µå‰ç«¯</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/register.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/index"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/register"</span>&gt;</span>æ³¨å†Œ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"img/title.png"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"#"</span>&gt;</span></span><br><span class="line">        æ‰‹æœºå·ç ï¼š<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">name</span>=<span class="string">"phone"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">"phone"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">"è¯·å¡«å†™æ‚¨å¸¸ç”¨çš„æ‰‹æœºå·"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">required</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">name</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">"ç”±6~12ä½æ•°å­—å’Œå­—æ¯ç»„æˆ"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">required</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"æäº¤ç™»å½•ä¿¡æ¯"</span> <span class="attr">class</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/login.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å…­-ç™»å½•é¡µåç«¯"><a class="markdownIt-Anchor" href="#å…­-ç™»å½•é¡µåç«¯"></a> å…­ã€ç™»å½•é¡µåç«¯</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç™»å½•</span></span><br><span class="line">router.get(<span class="string">"/login"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  res.render(<span class="string">"login"</span>);</span><br><span class="line">&#125;);</span><br><span class="line">router.post(<span class="string">"/login"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  <span class="keyword">var</span> &#123; username, phone, password &#125; = req.body;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å»æ•°æ®åº“æŸ¥æ‰¾phoneå’Œpassword</span></span><br><span class="line">  USER.findOne(&#123; phone, password &#125;)</span><br><span class="line">    .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (phone === result.phone &amp;&amp; password === result.password) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæ‰‹æœºå·å’Œå¯†ç éƒ½æ­£ç¡®ï¼Œåˆ™ç™»å½•æˆåŠŸ</span></span><br><span class="line">        <span class="keyword">var</span> id = result._id;</span><br><span class="line">        <span class="comment">// console.log(id);</span></span><br><span class="line"></span><br><span class="line">        res.cookie(<span class="string">"phone"</span>, phone);</span><br><span class="line">        res.cookie(<span class="string">"id"</span>, id);</span><br><span class="line"></span><br><span class="line">        res.send(&#123;</span><br><span class="line">          code: <span class="number">200</span>,</span><br><span class="line">          message: <span class="string">"ç™»å½•æˆåŠŸ"</span>,</span><br><span class="line">          data: &#123;</span><br><span class="line">            phone,</span><br><span class="line">            id,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res.send(&#123;</span><br><span class="line">          code: <span class="number">304</span>,</span><br><span class="line">          message: <span class="string">"æ‰‹æœºå·æˆ–å¯†ç é”™è¯¯"</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">      res.send(&#123;</span><br><span class="line">        code: <span class="number">500</span>,</span><br><span class="line">        message: <span class="string">"æ•°æ®åº“å†…éƒ¨é”™è¯¯"</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç™»å½•ç”¨åˆ°äº†cookie,å¯ä»¥é€šè¿‡ç”¨åç«¯å‘é€cookieç»™å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯å­˜å‚¨ï¼Œç„¶åå‰ç«¯å¯ä»¥é€šè¿‡åˆ¤æ–­cookieä¸­çš„phoneæ˜¯å¦å­˜åœ¨ï¼Œæ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•</p><ul><li><p>ç™»å½•é¡µajaxè¯·æ±‚éƒ¨åˆ†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–åå°ä¼ é€çš„cookie</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.cookie.indexOf(<span class="string">"phone"</span>) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœcookieé‡Œçš„phoneå­˜åœ¨,åˆ™æŠŠindexé¡µé¢ä¸­çš„ç™»å½•æ¢æˆç”¨æˆ·å</span></span><br><span class="line">  <span class="comment">// æƒ³è¦è·å–å½“å‰æ‰‹æœºå·,å¯ä»¥ä½¿ç”¨cookieä¸­çš„phone</span></span><br><span class="line">  <span class="comment">// console.log(document.cookie); // phone=17692414892; id=j%3A%225f5c9c1f203b5c3b2ca5c27c%22</span></span><br><span class="line">  <span class="comment">// é€šè¿‡ ; åˆ‡å‰²å­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="comment">// console.log(document.cookie.split(";")); // ["phone=17692414892", " id=j%3A%225f5c9c1f203b5c3b2ca5c27c%22"]</span></span><br><span class="line">  <span class="comment">// å–ç¬¬é›¶ä¸ª -- æ‰‹æœºå·</span></span><br><span class="line">  <span class="comment">// console.log(document.cookie.split(";")[0]); // phone=17692414892</span></span><br><span class="line">  <span class="comment">// åˆ©ç”¨ = åˆ‡å‰²å­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="comment">// console.log(document.cookie.split(";")[0].split("=")); // ["phone", "17692414892"]</span></span><br><span class="line">  <span class="comment">// ç„¶åå†å–ç¬¬ä¸€ä¸ªå°±å¯ä»¥äº†</span></span><br><span class="line">  <span class="keyword">var</span> phone = <span class="built_in">document</span>.cookie.split(<span class="string">";"</span>)[<span class="number">0</span>].split(<span class="string">"="</span>)[<span class="number">1</span>];</span><br><span class="line">  <span class="comment">// console.log(phone);</span></span><br><span class="line">  <span class="comment">// å¯¹ç™»å½•aæ ‡ç­¾è¿›è¡Œæ–‡æœ¬æ›¿æ¢,herfåœ°å€ä¹Ÿæ¢ä¸€ä¸‹ï¼Œå¯ä»¥æ¢æˆä¸ªäººä¸»é¡µ</span></span><br><span class="line">  $(<span class="string">".login"</span>).text(phone);</span><br><span class="line">  $(<span class="string">".login"</span>).attr(<span class="string">"href"</span>, <span class="string">"/about"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// abouté¡µé€»è¾‘</span></span><br><span class="line">  $(<span class="string">".about"</span>).text(phone + <span class="string">"~ æ¬¢è¿ä½ "</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>é¡ºä¾¿å°±æŠŠä¸ªäººä¸»é¡µå†™å‡ºæ¥äº†</p><h2 id="ä¸ƒ-ä¸ªäººä¸»é¡µå‰ç«¯"><a class="markdownIt-Anchor" href="#ä¸ƒ-ä¸ªäººä¸»é¡µå‰ç«¯"></a> ä¸ƒã€ä¸ªäººä¸»é¡µå‰ç«¯</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/index.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/about.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/index"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span> <span class="attr">class</span>=<span class="string">"login"</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/logout"</span>&gt;</span>é€€å‡º<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"about"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"seekfocus"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/%E6%B1%82%E5%85%B3%E6%B3%A8.jpg"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>CSSæ ·å¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#31a5de</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.app</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#edf1f8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.about</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#edf1f8</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">8px</span> <span class="number">6px</span> <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">17</span>, <span class="number">27</span>, <span class="number">0.06</span>);</span><br><span class="line"></span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…«-ä¸ªäººä¸»é¡µåç«¯"><a class="markdownIt-Anchor" href="#å…«-ä¸ªäººä¸»é¡µåç«¯"></a> å…«ã€ä¸ªäººä¸»é¡µåç«¯</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ªäººä¸»é¡µ</span></span><br><span class="line">router.get(<span class="string">"/about"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  <span class="comment">// åœ¨æ•°æ®åº“ä¸­æŸ¥æ‰¾åˆ°æ‰€æœ‰çš„æ•°æ®è¿›è¡Œè¿”å›</span></span><br><span class="line">  USER.find(&#123;&#125;, (err, datas) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err === <span class="literal">null</span>) &#123;</span><br><span class="line">      res.render(<span class="string">"about"</span>, &#123;</span><br><span class="line">        datas,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.send(&#123;</span><br><span class="line">        code: <span class="number">500</span>,</span><br><span class="line">        message: <span class="string">"æ•°æ®åº“å†…éƒ¨é”™è¯¯"</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç‚¹å‡» æ‰‹æœºå·</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdVote%E5%9B%BE%E7%89%87/index03.png" alt="" /></p><p>å³å¯å‡ºç°ä»¥ä¸‹é¡µé¢</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdVote%E5%9B%BE%E7%89%87/about01.png" alt="" /></p><h2 id="ä¹-é€€å‡ºåç«¯æ²¡æœ‰å‰ç«¯é¡µé¢"><a class="markdownIt-Anchor" href="#ä¹-é€€å‡ºåç«¯æ²¡æœ‰å‰ç«¯é¡µé¢"></a> ä¹ã€é€€å‡ºåç«¯ï¼ˆæ²¡æœ‰å‰ç«¯é¡µé¢ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€€å‡º</span></span><br><span class="line">router.get(<span class="string">"/logout"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  <span class="comment">// æ¸…é™¤cookie</span></span><br><span class="line">  res.clearCookie(<span class="string">"phone"</span>);</span><br><span class="line">  res.clearCookie(<span class="string">"id"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é‡å®šå‘</span></span><br><span class="line">  res.writeHead(<span class="number">302</span>, &#123;</span><br><span class="line">    Location: <span class="string">"/index"</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// ç»“æŸå“åº”è¿‡ç¨‹</span></span><br><span class="line">  <span class="comment">// ç”¨äºå¿«é€Ÿç»“æŸæ²¡æœ‰ä»»ä½•æ•°æ®çš„å“åº”</span></span><br><span class="line">  res.end(<span class="string">""</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="å-æœç´¢åç«¯"><a class="markdownIt-Anchor" href="#å-æœç´¢åç«¯"></a> åã€æœç´¢åç«¯</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœç´¢</span></span><br><span class="line">router.get(<span class="string">"/search"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  <span class="comment">// æ ¹æ®idæœç´¢ä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">var</span> &#123; username &#125; = req.query;</span><br><span class="line">  <span class="comment">// æŠŠå‰ç«¯ä¼ é€’è¿‡æ¥çš„usernameåœ¨æ•°æ®åº“è¿›è¡ŒæŸ¥æ‰¾ï¼Œç„¶åè¿”å›ç»“æœç»™å‰ç«¯</span></span><br><span class="line">  <span class="keyword">if</span> (username !== <span class="string">""</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœç”¨æˆ·åä¸ä¸ºç©ºï¼Œåˆ™æŸ¥è¯¢å¯¹åº”çš„ç”¨æˆ·</span></span><br><span class="line">    USER.find(&#123; username &#125;, (err, datas) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (err === <span class="literal">null</span>) &#123;</span><br><span class="line">        res.send(&#123;</span><br><span class="line">          datas,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res.send(&#123;</span><br><span class="line">          code: <span class="number">500</span>,</span><br><span class="line">          message: <span class="string">"æ•°æ®åº“å†…éƒ¨é”™è¯¯"</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¦‚æœç”¨æˆ·åä¸ä¸ºç©ºï¼Œåˆ™æŸ¥è¯¢æ‰€æœ‰çš„ç”¨æˆ·</span></span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    USER.find(&#123;&#125;, (err, datas) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (err === <span class="literal">null</span>) &#123;</span><br><span class="line">        res.send(&#123;</span><br><span class="line">          datas,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res.send(&#123;</span><br><span class="line">          code: <span class="number">500</span>,</span><br><span class="line">          message: <span class="string">"æ•°æ®åº“å†…éƒ¨é”™è¯¯"</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><p>ç„¶åå‰ç«¯å‘é€æ•°æ®ç»™åç«¯ï¼Œè®©åç«¯åœ¨æ•°æ®åº“é‡ŒæŸ¥è¯¢æƒ³è¦çš„ç»“æœï¼Œç„¶ååç«¯åœ¨æŠŠç»“æœè¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯åªéœ€æ¸²æŸ“åˆ°é¡µé¢ä¸Šå³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœç´¢é€»è¾‘</span></span><br><span class="line"><span class="comment">// æŒ‰ç”¨æˆ·å -- æœç´¢</span></span><br><span class="line">$(<span class="string">".searchButton"</span>).on(<span class="string">"click"</span>, (event) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">document</span>.cookie.indexOf(<span class="string">"phone"</span>) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœè¿›å…¥åˆ°è¿™é‡Œè¯´æ˜ç”¨æˆ·å·²ç™»å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–åˆ°ç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥çš„ç”¨æˆ·å</span></span><br><span class="line">    <span class="keyword">var</span> username = &#123;</span><br><span class="line">      username: $(<span class="string">".searchInput"</span>).val(),</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// å‘é€ajaxè¯·æ±‚ï¼Œåç«¯ä¼šä¼ ç»™å‰ç«¯æ•°æ®ï¼Œè®©å‰ç«¯è¿›è¡Œé¡µé¢å¤„ç†</span></span><br><span class="line">    $.ajax(<span class="string">"/search"</span>, &#123;</span><br><span class="line">      type: <span class="string">"get"</span>,</span><br><span class="line">      data: username,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// console.log(response.datas);</span></span><br><span class="line">        <span class="keyword">var</span> result = response.datas;</span><br><span class="line">        <span class="comment">// console.log(result[0].username);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (result[<span class="number">0</span>]) &#123;</span><br><span class="line">          <span class="comment">// å¦‚æœæŸ¥è¯¢åˆ°çš„ç»“æœä¸ä¸ºç©º</span></span><br><span class="line">          <span class="comment">// å…ˆæŠŠulåˆ—è¡¨æ¸…ç©º</span></span><br><span class="line">          $(<span class="string">".userul"</span>).empty();</span><br><span class="line"></span><br><span class="line">          <span class="comment">// å¾ªç¯éå†result</span></span><br><span class="line">          $.each(result, (index, data) =&gt; &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(data);</span><br><span class="line">            <span class="keyword">var</span> html = <span class="string">`&lt;li class="<span class="subst">$&#123;data.username&#125;</span>"&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="left"&gt;</span></span><br><span class="line"><span class="string">              &lt;img src="<span class="subst">$&#123;data.picture&#125;</span>" alt="" /&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="center"&gt;</span></span><br><span class="line"><span class="string">              &lt;div&gt;<span class="subst">$&#123;data.username&#125;</span> | ç¼–å·# <span class="subst">$&#123;data.matchId&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">              &lt;div&gt;<span class="subst">$&#123;data.slogan&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="right"&gt;</span></span><br><span class="line"><span class="string">              &lt;div class="voteNum"&gt;<span class="subst">$&#123;data.voteNum&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">              &lt;div&gt;&lt;button&gt;æŠ•ä»–ä¸€ç¥¨&lt;/button&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/li&gt;`</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç„¶åå†æŠŠæŸ¥è¯¢åˆ°çš„æ‰€æœ‰æ•°æ®éƒ½æ·»åŠ åˆ°ulåˆ—è¡¨ä¸­</span></span><br><span class="line">            $(<span class="string">".userul"</span>).append(html);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// å¦‚æœæŸ¥è¯¢åˆ°çš„ç»“æœä¸ºç©º</span></span><br><span class="line">          alert(<span class="string">"å½“å‰æ²¡æœ‰è¯¥ç”¨æˆ·"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="comment">//   var username = datas</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœè¿›å…¥åˆ°è¿™é‡Œè¯´æ˜ç”¨æˆ·æœªç™»å½•</span></span><br><span class="line">    alert(<span class="string">"è¯·å…ˆç™»å½•ï¼ï¼ï¼"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¯¥æ“ä½œå¿…é¡»ç™»å½•</p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdVote%E5%9B%BE%E7%89%87/%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD.gif" alt="" /></p></li></ul><h2 id="åä¸€-æŠ•ç¥¨åç«¯"><a class="markdownIt-Anchor" href="#åä¸€-æŠ•ç¥¨åç«¯"></a> åä¸€ã€æŠ•ç¥¨åç«¯</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ•ç¥¨</span></span><br><span class="line">router.get(<span class="string">"/vote"</span>, (req, res) =&gt; &#123;</span><br><span class="line">  <span class="comment">// å½“å‰ç«¯ç‚¹å‡»æŠ•ç¥¨æŒ‰é’®æ—¶è·å–åˆ°å‰ç«¯å‘é€è¿‡æ¥çš„æŠ•ç¥¨æ•°ï¼Œç„¶åè‡ªåŠ </span></span><br><span class="line">  <span class="keyword">var</span> &#123; username &#125; = req.query;</span><br><span class="line">  USER.findOne(&#123; username &#125;, (err, datas) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">// ä¿®æ”¹æ•°æ®åº“ä¸­vaotNumçš„å€¼ -- update</span></span><br><span class="line">      <span class="comment">// console.log(datas); // ä»æ•°æ®åº“æŸ¥åˆ°çš„æ•°æ®é›†åˆ(å¯¹è±¡)</span></span><br><span class="line">      <span class="comment">// ä»æ•°æ®åº“ä¸­ä¿®æ”¹ç”¨æˆ·ç‚¹å‡»çš„ç”¨æˆ·çš„æŠ•ç¥¨æ•°</span></span><br><span class="line">      USER.updateOne(</span><br><span class="line">        &#123; username &#125;,</span><br><span class="line">        &#123; <span class="attr">voteNum</span>: ++datas.voteNum &#125;,</span><br><span class="line">        (err, voteNum) =&gt; &#123;</span><br><span class="line">          <span class="keyword">if</span> (err === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// console.log("ç‚¹èµæˆåŠŸ");</span></span><br><span class="line">            res.send(&#123;</span><br><span class="line">              code: <span class="number">200</span>,</span><br><span class="line">              message: <span class="string">"ç‚¹èµæˆåŠŸ"</span>,</span><br><span class="line">              datas,</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"ç‚¹èµå¤±è´¥"</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><p>é¦–å…ˆæ˜¯å‰ç«¯ç‚¹å‡»æŠ•ç¥¨aæ ‡ç­¾ï¼Œç„¶åé€šè¿‡Ajaxå‘é€ç»™åç«¯ï¼Œåç«¯æ¥æ”¶åˆ°æ•°æ®åï¼Œä»æ•°æ®åº“è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ¯ç‚¹å‡»ä¸€æ¬¡æŠ•ç¥¨æ•°ï¼ˆvoteNumï¼‰åŠ ä¸€ï¼Œç„¶å åç«¯ä¼šæŠŠè¿™ä¸ªç»“æœè¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ•°æ®ï¼Œæ¥é‡æ–°ç»˜åˆ¶HTMLé¡µé¢</p></li><li><p>å‰ç«¯ajaxè¯·æ±‚å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ•ç¥¨</span></span><br><span class="line"><span class="comment">// å› ä¸ºliæ ‡ç­¾æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡äº‹ä»¶å§”æ‰˜æ¥è·å–æŠ•ç¥¨æŒ‰é’®</span></span><br><span class="line">$(<span class="string">".userul"</span>).delegate(<span class="string">".vote"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">document</span>.cookie.indexOf(<span class="string">"phone"</span>) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">var</span> username = $<span class="keyword">this</span>.parents(<span class="string">"li"</span>).attr(<span class="string">"class"</span>);</span><br><span class="line">    <span class="keyword">var</span> data = &#123;</span><br><span class="line">      username,</span><br><span class="line">    &#125;;</span><br><span class="line">    $.ajax(<span class="string">"/vote"</span>, &#123;</span><br><span class="line">      type: <span class="string">"get"</span>,</span><br><span class="line">      data,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// console.log(response.datas);</span></span><br><span class="line">        <span class="keyword">if</span> (response.code === <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="comment">// å…ˆè·å–åˆ°æ•°æ®åº“ä¸­è¯¥ç”¨æˆ·çš„ç¥¨æ•°</span></span><br><span class="line">          <span class="keyword">var</span> voteNum = response.datas.voteNum;</span><br><span class="line">          <span class="built_in">console</span>.log(voteNum);</span><br><span class="line">          <span class="comment">// é€šè¿‡ å…¨å±€$this æ‰¾åˆ°voteNumå…ƒç´ </span></span><br><span class="line">          <span class="keyword">var</span> $voteNum = $<span class="keyword">this</span>.parents(<span class="string">".right"</span>).children(<span class="string">".voteNum"</span>);</span><br><span class="line">          <span class="comment">// ç„¶åæŠŠvoteNumé‡æ–°ç»˜åˆ¶åˆ°HTMLé¡µé¢å³å¯</span></span><br><span class="line">          $voteNum.text(voteNum);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    alert(<span class="string">"è¯·å…ˆç™»å½•ï¼ï¼ï¼"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œï¼ŒåŸºæœ¬çš„æŠ•ç¥¨åŠŸèƒ½ä¹Ÿå·²ç»èƒ½å®ç°äº†ï¼Œå¦‚ä¸‹æ•ˆæœ</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/jdVote%E5%9B%BE%E7%89%87/%E6%8A%95%E7%A5%A8%E5%8A%9F%E8%83%BD.gif" alt="" /></p></li></ul>]]></content>
    
    <summary type="html">
    
      äº¬ä¸œæŠ•ç¥¨é¡¹ç›®å¼€å‘ç¬”è®°
    
    </summary>
    
    
      <category term="MongoDB" scheme="https://extheor.github.io/categories/MongoDB/"/>
    
    
      <category term="mongodb" scheme="https://extheor.github.io/tags/mongodb/"/>
    
  </entry>
  
  <entry>
    <title>äº¬ä¸œæŠ½å¥–æ¡ˆä¾‹</title>
    <link href="https://extheor.github.io/posts/37c547df/index.html"/>
    <id>https://extheor.github.io/posts/37c547df/index.html</id>
    <published>2020-09-06T03:35:41.000Z</published>
    <updated>2020-09-13T06:34:48.478Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="äº¬ä¸œæŠ½å¥–æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#äº¬ä¸œæŠ½å¥–æ¡ˆä¾‹"></a> äº¬ä¸œæŠ½å¥–æ¡ˆä¾‹</h1><h2 id="0è®¾è®¡æ€è·¯"><a class="markdownIt-Anchor" href="#0è®¾è®¡æ€è·¯"></a> 0.è®¾è®¡æ€è·¯</h2><p>é¡¹ç›®å‘¢æ˜¯æ¨¡ä»¿çš„ç‹è€…è£è€€æŠ½å¥–ç•Œé¢çš„ä¸€éƒ¨åˆ†ã€‚ã€‚ã€‚</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E6%8A%BD%E5%A5%96%E7%95%8C%E9%9D%A2.jpg" alt="" /></p><h2 id="1ç›®å½•ç»“æ„"><a class="markdownIt-Anchor" href="#1ç›®å½•ç»“æ„"></a> 1.ç›®å½•ç»“æ„</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">|-- app.js</span><br><span class="line">|-- router.js          è·¯ç”±æ¥å£æ–‡ä»¶</span><br><span class="line">|-- controllers        æ§åˆ¶å™¨</span><br><span class="line">|-- models</span><br><span class="line">|-- node_modules       ç¬¬ä¸‰æ–¹åŒ…</span><br><span class="line">|-- package.json       åŒ…æè¿°æ–‡ä»¶</span><br><span class="line">|-- package-lock.json  ç¬¬ä¸‰æ–¹åŒ…ç‰ˆæœ¬é”å®šæ–‡ä»¶ï¼ˆnpm 5 ä»¥åæ‰æœ‰ï¼‰</span><br><span class="line">|-- public             å…¬å…±çš„é™æ€èµ„æº</span><br><span class="line">|-- README.md          é¡¹ç›®è¯´æ˜æ–‡æ¡£</span><br><span class="line">|-- routes</span><br><span class="line">|-- views              å­˜å‚¨è§†å›¾ç›®å½•</span><br></pre></td></tr></table></figure><h2 id="2é¡¹ç›®éœ€æ±‚"><a class="markdownIt-Anchor" href="#2é¡¹ç›®éœ€æ±‚"></a> 2.é¡¹ç›®éœ€æ±‚</h2><p>æœ¬é¡¹ç›®åŒ…å«ç”¨æˆ·æ³¨å†Œã€ç™»å½•ä»¥åŠæŠ½å¥–ç­‰åŠŸèƒ½ï¼š</p><ol><li><p>ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½</p><p>a. æä¾›æ‰‹æœºå·éªŒè¯ç æ³¨å†ŒåŠŸèƒ½: ç”¨æˆ·è¾“å…¥æ‰‹æœºå·ï¼Œå¯¹åº”æ‰‹æœºå·æ¥æ”¶éªŒè¯ç </p><p>b.è¾“å…¥å®Œæˆæ‰‹æœºå·å’ŒéªŒè¯ç ä¹‹åè¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå…è®¸ç”¨æˆ·è¾“å…¥å¯†ç ä»¥åŠç¡®è®¤å¯†ç :å¯†ç è¦æ±‚12~16ä½çš„æ•°å­—ã€å¤§å°å†™å­—æ¯ä»¥åŠç¬¦å·</p><p>c. æ³¨å†ŒæˆåŠŸåæ˜¾ç¤ºç”¨æˆ·æŠ½å¥–ç•Œé¢ï¼ˆ<font color="red"><b>æ³¨</b></font>: é¡µé¢ä¸åˆ·æ–°)</p></li><li><p>ç”¨æˆ·ç™»å½•åŠŸèƒ½</p><p>a. æä¾›æ‰‹æœºå·å’Œå¯†ç ã€æ‰‹æœºå·å’ŒéªŒè¯ç ä¸¤ç§æ–¹å¼ç™»å½•</p><p>b. åˆ¤æ–­å¦‚æœç”¨æˆ·æ²¡æœ‰æ³¨å†Œçš„è¯ï¼Œç›´æ¥è·³è½¬ç”¨æˆ·æ³¨å†Œç•Œé¢ï¼ˆ<font color="red"><b>æ³¨</b></font>: é¡µé¢ä¸åˆ·æ–°)</p><p>c. ç™»å½•æˆåŠŸåæ˜¾ç¤ºç”¨æˆ·æŠ½å¥–ç•Œé¢ï¼ˆ<font color="red"><b>æ³¨</b></font>: é¡µé¢ä¸åˆ·æ–°)</p></li><li><p>ç”¨æˆ·æŠ½å¥–åŠŸèƒ½</p><p>a. æ¯ä¸ªç”¨æˆ·â€”æ¬¡æ‹¥æœ‰ä¸‰æ¬¡æŠ½å¥–æœºä¼š</p><p>b. æŠ½å¥–æ–¹å¼é‡‡ç”¨è½¬ç›˜æ–¹å¼æŠ½å¥–:ä¸åŒå¥–é¡¹çš„å¾—å¥–ç‡ä¸åŒï¼ˆè½¬ç›˜æŠ½å¥–å¯å‚è€ƒç™¾åº¦)</p><p>c. ä¸‰æ¬¡æŠ½å¥–å®Œæˆååœ¨ç•Œé¢æ˜¾ç¤ºä¸‰æ¬¡æŠ½å¥–æ±‡æ€»ç»“æœ</p></li></ol><h2 id="3è·¯ç”±è®¾è®¡"><a class="markdownIt-Anchor" href="#3è·¯ç”±è®¾è®¡"></a> 3.è·¯ç”±è®¾è®¡</h2><p>ç”±äºè¦æ±‚æ˜¯é¡µé¢ä¸è·³è½¬ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯åªå†™ä¸€ä¸ªè·¯ç”±å³å¯</p><table><thead><tr><th>è·¯å¾„</th><th>æ–¹æ³•</th><th>getå‚æ•°</th><th>postå‚æ•°</th><th>æ˜¯å¦éœ€è¦ç™»å½•</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>/</td><td>GET</td><td></td><td></td><td></td><td>æ¸²æŸ“é¦–é¡µ</td></tr></tbody></table><h2 id="4é¡¹ç›®æ„å»º"><a class="markdownIt-Anchor" href="#4é¡¹ç›®æ„å»º"></a> 4.é¡¹ç›®æ„å»º</h2><ul><li><p>ä¸€ã€å…ˆæŠŠé™æ€é¡µé¢å†™å¥½</p><ul><li><p>HTMLå®Œæ•´ä»£ç ï¼ˆviews/index.htmlï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>äº¬ä¸œæŠ½å¥–<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"../public/css/style.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"../public/css/login.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"../public/css/main.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å†Œ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;form action="#" class="register"&gt;</span></span><br><span class="line"><span class="comment">      &lt;input type="text" name="username" id="username" /&gt;</span></span><br><span class="line"><span class="comment">      &lt;input type="text" name="password" id="password" /&gt;</span></span><br><span class="line"><span class="comment">      &lt;input type="submit" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;/form&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç™»å½• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loginBox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"#"</span> <span class="attr">method</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"login"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"phone"</span> <span class="attr">id</span>=<span class="string">"phone"</span> <span class="attr">required</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>Phone<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">required</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>PassWord<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn"</span>&gt;</span></span><br><span class="line">          submit</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        å…±æœ‰ä¸€åœˆå¥–å“ï¼Œæ˜¯8ä¸ª</span></span><br><span class="line"><span class="comment">        ä¸­é—´æ˜¯ä¸€ä¸ªæŠ½å¥–é”®</span></span><br><span class="line"><span class="comment">        ç‚¹å‡»æŠ½å¥–ä¹‹åæŠ½å¥–æŒ‰é”®æ¶ˆå¤±ï¼Œéšåå¼¹å‡º3é¡¹å¥–å“å†…å®¹ï¼Œè¿™æ˜¯ä¸€ä¸ªè’™å±‚</span></span><br><span class="line"><span class="comment">        æœ‰å†æ¬¡æŠ½å¥–æŒ‰é’®ï¼Œå’Œç¡®å®šæŒ‰é’®</span></span><br><span class="line"><span class="comment">            ç‚¹å‡»å†æ¬¡æŠ½å¥–æŒ‰é’®å¯ä»¥å†æ¬¡æŠ½å¥–ï¼Œç‚¹å‡»ç¡®å®šæŒ‰é’®å®ŒæˆæŠ½å¥–</span></span><br><span class="line"><span class="comment">      --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"prize prize_0"</span> <span class="attr">name</span>=<span class="string">"é˜¿å¤æœµ"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"jpg_ jpg_0"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/jpg_1.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"prize prize_1"</span> <span class="attr">name</span>=<span class="string">"èŒèŠ½"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"jpg_ jpg_1"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/jpg_2.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"prize prize_2"</span> <span class="attr">name</span>=<span class="string">"è’™æ¬"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"jpg_ jpg_2"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/jpg_3.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"prize prize_7"</span> <span class="attr">name</span>=<span class="string">"åç¡•ç¬”è®°æœ¬ç”µè„‘"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"jpg_ jpg_7"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/jpg_4.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"button"</span>&gt;</span>æŠ½å¥–<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"prize prize_3"</span> <span class="attr">name</span>=<span class="string">"è¿åŠ¨é‹ä¸€åŒ"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"jpg_ jpg_3"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/jpg_5.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"prize prize_6"</span> <span class="attr">name</span>=<span class="string">"æ‘„åƒæœº"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"jpg_ jpg_6"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/jpg_6.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"prize prize_5"</span> <span class="attr">name</span>=<span class="string">"è”æƒ³ç¬”è®°æœ¬ç”µè„‘"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"jpg_ jpg_5"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/jpg_7.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"prize prize_4"</span> <span class="attr">name</span>=<span class="string">"è°¢è°¢æƒ é¡¾"</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- è°¢è°¢æƒ é¡¾ --&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"jpg_ jpg_4"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/jpg_8.jpg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é®æŒ¡æŠ½å¥–åŠŸèƒ½çš„div --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"coverLottery"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æŠ½å¥–ç»“æœé¡µé¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"lotteryResult"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- æŠ½å¥–ç»“æœæ˜¾ç¤ºæ¡† --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"msgbox"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æŠ½å¥–ç»“æœèƒŒæ™¯ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"text/javascript"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/1.9.1/jquery.min.js"</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../node_modules/axios/dist/axios.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../public/js/axios_default.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../public/js/main.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../public/js/login.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../public/js/index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é¦–é¡µCSSä»£ç ï¼ˆstyle.cssï¼‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span>,</span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(#<span class="number">141</span>e30, #<span class="number">243</span>b55);</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#03e9f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŠ½å¥–æ ·å¼ */</span></span><br><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="comment">/* margin: 50px auto; */</span></span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">40%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">30%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">td</span> &#123;</span><br><span class="line">  <span class="comment">/* border: 1px solid #900; */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.prize</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.button</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jpg_</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.coverLottery</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="comment">/* background: red; */</span></span><br><span class="line">  <span class="comment">/* margin: -307px auto; */</span></span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">45%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">35%</span>;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.lotteryResult</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#325c8e</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">25px</span> auto;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.lotteryResult</span> &gt; <span class="selector-class">.jpg_</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.lotteryResult</span> &gt; <span class="selector-tag">img</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.lotteryResult</span> &gt; <span class="selector-tag">img</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">350px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.lotteryResult</span> &gt; <span class="selector-tag">img</span><span class="selector-pseudo">:nth-child(4)</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">600px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.lotteryResult</span> &gt; <span class="selector-class">.msgbox</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">170</span>, <span class="number">170</span>, <span class="number">73</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">140px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">260px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="comment">/* display: none; */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ³¨å†Œæ ·å¼ */</span></span><br></pre></td></tr></table></figure></li><li><p>ç™»å½•é¡µCSSæ ·å¼ï¼ˆlogin.cssï¼‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç™»å½•æ ·å¼ */</span></span><br><span class="line"><span class="selector-class">.loginBox</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">450px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">15px</span> <span class="number">25px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.6</span>);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">input</span><span class="selector-pseudo">:focus</span> + <span class="selector-tag">label</span>,</span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">input</span><span class="selector-pseudo">:valid</span> + <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#03e9f4</span>;</span><br><span class="line">  <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#03e9f4</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="number">#03e9f4</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">25px</span> <span class="number">0</span> <span class="number">#03e9f4</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">50px</span> <span class="number">0</span> <span class="number">#03e9f4</span>,</span><br><span class="line">    <span class="number">0</span> <span class="number">0</span> <span class="number">100px</span> <span class="number">0</span> <span class="number">#03e9f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(left, transparent, #<span class="number">03</span>e9f4);</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: line1 <span class="number">1s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#submit</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">108px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">38px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> line1 &#123;</span><br><span class="line">  50%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(top, transparent, #<span class="number">03</span>e9f4);</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0%</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: line2 <span class="number">1s</span> <span class="number">0.25s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> line2 &#123;</span><br><span class="line">  50%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(right, transparent, #<span class="number">03</span>e9f4);</span><br><span class="line">  <span class="attribute">right</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: line3 <span class="number">1s</span> <span class="number">0.5s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> line3 &#123;</span><br><span class="line">  50%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span> &gt; <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(4)</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(bottom, transparent, #<span class="number">03</span>e9f4);</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: line4 <span class="number">1s</span> <span class="number">0.75s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> line4 &#123;</span><br><span class="line">  50%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¥–å“ç»“æœèƒŒæ™¯ç‰¹æ•ˆCSSæ ·å¼ï¼ˆmain.cssï¼‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">61%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">perspective</span>: <span class="number">800px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span> white;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">animation</span>: run <span class="number">3s</span> ease-in-out infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> <span class="selector-tag">i</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>) <span class="built_in">translateX</span>(<span class="number">80px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span> <span class="selector-tag">i</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">12deg</span>) <span class="built_in">translateX</span>(<span class="number">80px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span> <span class="selector-tag">i</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">24deg</span>) <span class="built_in">translateX</span>(<span class="number">80px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> run &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  10% &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">560px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„é™æ€é¡µé¢å·²ç»å†™å¥½äº†ï¼Œæ¥ä¸‹æ¥å¯ä»¥å¼€å§‹å†™JSé€»è¾‘ä»£ç äº†</p></li><li><p>é¦–é¡µçš„JSä»£ç ï¼ˆindex.jsï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å…¨å±€è®¡æ—¶å™¨</span></span><br><span class="line">  <span class="keyword">var</span> drawTimer = <span class="literal">null</span>;</span><br><span class="line">  <span class="comment">// å…¨å±€æ­¥æ•°</span></span><br><span class="line">  <span class="keyword">var</span> drawStep = <span class="number">-1</span>;</span><br><span class="line">  <span class="comment">// å…¨å±€ç¼“åŠ¨è®¡æ—¶</span></span><br><span class="line">  <span class="keyword">var</span> easeTime = <span class="number">2</span>;</span><br><span class="line">  <span class="comment">// å…¨å±€éšæœºå¥–å“(æœ€ååœæ­¢çš„ä½ç½®)</span></span><br><span class="line">  <span class="keyword">var</span> stopPosition = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// ç‚¹å‡»æŒ‰é’®çš„æ¬¡æ•°</span></span><br><span class="line">  <span class="keyword">var</span> clickNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//   å½“æˆ‘ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå¼€å§‹æŠ½å¥–</span></span><br><span class="line">  $(<span class="string">".button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç‚¹å‡»æŠ½å¥–ä¹‹åï¼Œç¦ç”¨æŠ½å¥–åŠŸèƒ½</span></span><br><span class="line">    $(<span class="string">".coverLottery"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line">    <span class="comment">// console.log(clickNum);</span></span><br><span class="line">    <span class="comment">// å£°æ˜ä¸€ä¸ª 1~8 çš„æ•°ç»„,å†™é‡å¤çš„æ•°æ¥æé«˜æ­¤æ•°çš„æ¦‚ç‡å€¼</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>];</span><br><span class="line">    <span class="comment">// 0 ~ arr.length-1 çš„éšæœºæ•°</span></span><br><span class="line">    <span class="keyword">var</span> randomNum = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length);</span><br><span class="line">    stopPosition = arr[randomNum];</span><br><span class="line">    <span class="comment">// console.log(stopPosition);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// easeTime * 100 æ¯«ç§’åå¼€å§‹æŠ½å¥–</span></span><br><span class="line">    drawTimer = setTimeout(drawRun, easeTime * <span class="number">100</span>);</span><br><span class="line">    <span class="comment">// æŠ½ä¸‰æ¬¡å¥–ï¼Œåœæ­¢æŠ½å¥–</span></span><br><span class="line">    <span class="keyword">if</span> (clickNum &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">      <span class="comment">// æ¸…é™¤è®¡æ—¶å™¨ï¼Œåœæ­¢æŠ½å¥–</span></span><br><span class="line">      clearTimeout(drawTimer);</span><br><span class="line">      <span class="comment">// æ˜¾ç¤ºé‚£ä¸ªä¸­å¥–é¡µé¢</span></span><br><span class="line">      $(<span class="string">".lotteryResult"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line">      <span class="comment">// è®©å¥–å“ä¸é€æ˜</span></span><br><span class="line">      $(<span class="string">".lotteryResult"</span>).children().css(<span class="string">"opacity"</span>, <span class="string">"1"</span>);</span><br><span class="line">      <span class="comment">// æ˜¾ç¤ºèƒŒæ™¯ç‰¹æ•ˆ</span></span><br><span class="line">      $(<span class="string">".main"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    clickNum++;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æŠ½å¥–æ¸¸æˆæ»šåŠ¨å‡½æ•°</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">drawRun</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æŠ½å¥–æ¸¸æˆæ»šåŠ¨</span></span><br><span class="line">    <span class="keyword">if</span> (drawStep &gt;= <span class="number">40</span> + stopPosition) &#123;</span><br><span class="line">      <span class="comment">// prizeä¸ºå¥–å“åºå·(åºå·ä»0å¼€å§‹)</span></span><br><span class="line">      <span class="keyword">var</span> prize = drawStep % <span class="number">8</span>;</span><br><span class="line">      $(<span class="string">".jpg_"</span> + prize).css(<span class="string">"opacity"</span>, <span class="string">"1"</span>);</span><br><span class="line">      <span class="comment">// é‡ç½®drawStep,ä¸ºä¸‹ä¸€æ¬¡çš„æŠ½å¥–åšå‡†å¤‡</span></span><br><span class="line">      <span class="comment">// è®©ä¸‹ä¸€æ¬¡æŠ½å¥–çš„ä½ç½®ä»ä¸Šä¸€æ¬¡æŠ½å¥–ç»“æŸçš„ä½ç½®å¼€å§‹èµ°</span></span><br><span class="line">      drawStep = stopPosition;</span><br><span class="line">      <span class="comment">// ä»¥é˜²ä¸‡ä¸€ï¼Œå†™ä¸Š easeTime = 2</span></span><br><span class="line">      easeTime = <span class="number">2</span>;</span><br><span class="line">      <span class="comment">// æç¤ºæ¶ˆæ¯</span></span><br><span class="line">      $(<span class="string">".prize_"</span> + prize).each(<span class="function"><span class="keyword">function</span> (<span class="params">index, value</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> prizeName = value.getAttribute(<span class="string">"name"</span>);</span><br><span class="line">        msg(prizeName);</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> img = $(<span class="string">".prize_"</span> + prize)</span><br><span class="line">        .children()</span><br><span class="line">        .clone();</span><br><span class="line"></span><br><span class="line">      $(<span class="string">".lotteryResult"</span>).append(img);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ¸…é™¤è®¡æ—¶å™¨</span></span><br><span class="line">      clearTimeout(drawTimer);</span><br><span class="line">      <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line"></span><br><span class="line">      $(<span class="string">".button"</span>).trigger(<span class="string">"click"</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (drawStep &gt;= <span class="number">36</span> + stopPosition) &#123;</span><br><span class="line">      <span class="comment">// æœ€åå››ä¸ªçš„æ—¶å€™å¼€å§‹ç¼“åŠ¨</span></span><br><span class="line">      easeTime += <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (easeTime &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">        easeTime = <span class="number">2</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      easeTime--;</span><br><span class="line">    &#125;</span><br><span class="line">    drawStep++;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿æ¯ä¸ªæ–¹æ ¼åœ¨å˜æˆä¸é€æ˜ä¹‹åå†å˜æˆåŠé€æ˜</span></span><br><span class="line">    $(<span class="string">".jpg_"</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">index, value</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// console.log(value);</span></span><br><span class="line">      $(<span class="keyword">this</span>).css(<span class="string">"opacity"</span>, <span class="string">"0.5"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// æ¯æ¬¡æŠ½å¥–æ—¶çš„ä¸é€æ˜æ•ˆæœ</span></span><br><span class="line">    $(<span class="string">".jpg_"</span> + (drawStep % <span class="number">8</span>)).css(<span class="string">"opacity"</span>, <span class="string">"1"</span>);</span><br><span class="line">    <span class="comment">// å»¶è¿Ÿé€’å½’</span></span><br><span class="line">    <span class="comment">// æ¯ easeTime * 70 çš„æ—¶é—´èµ°ä¸€æ ¼</span></span><br><span class="line">    drawTimer = setTimeout(drawRun, easeTime * <span class="number">70</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ¶ˆæ¯æç¤ºå‡½æ•°</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">msg</span>(<span class="params">prizeName</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> say = <span class="string">"æ­å–œæ‚¨æŠ½ä¸­äº†å¥–å“"</span> + prizeName;</span><br><span class="line">    <span class="keyword">var</span> $pElement = $(<span class="string">`&lt;p&gt;<span class="subst">$&#123;say&#125;</span>&lt;p&gt;`</span>);</span><br><span class="line">    $(<span class="string">".msgbox"</span>).append($pElement);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>ç™»å½•é¡µçš„JSä»£ç ï¼ˆlogin.jsï¼‰</p><ul><li><p>é¦–å…ˆéœ€è¦å†™ä¸€ä¸ªjsonæ–‡ä»¶æ¥å­˜å‚¨ç”¨æˆ·ä¿¡æ¯</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"username"</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">  <span class="attr">"phone"</span>: <span class="string">"17692414892"</span>,</span><br><span class="line">  <span class="attr">"password"</span>: <span class="string">"123456"</span>,</span><br><span class="line">  <span class="attr">"msg"</span>: <span class="string">"ç™»å½•æˆåŠŸ"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"#login"</span>).bind(<span class="string">"submit"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// é˜»æ­¢é»˜è®¤è¡Œä¸º</span></span><br><span class="line">  event.preventDefault();</span><br><span class="line">  <span class="comment">// è¡¨å•åºåˆ—åŒ– - æ ¹æ®è¡¨å•é»˜è®¤åŒæ­¥æäº¤è·å–æ•°æ®çš„æ–¹å¼</span></span><br><span class="line">  <span class="keyword">var</span> data = $(<span class="string">"#login"</span>).serialize();</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é€šè¿‡å¼‚æ­¥äº¤äº’æäº¤è¡¨å•</span></span><br><span class="line">  <span class="comment">// å› ä¸ºæˆ‘åœ¨ axios_default.js ä¸­å†™äº†baseURLï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å†™/data/login.json</span></span><br><span class="line">  axios.get(<span class="string">"/data/login.json"</span>).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">    <span class="comment">// è·å–åˆ°jsonæ–‡ä»¶ä¸­çš„phoneå’Œpasswordçš„å€¼</span></span><br><span class="line">    <span class="keyword">var</span> phoneJson = response.phone;</span><br><span class="line">    <span class="keyword">var</span> passwordJson = response.password;</span><br><span class="line">    <span class="comment">// console.log(phoneJson, passwordJson);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–åˆ°ç”¨æˆ·è¾“å…¥çš„phoneå’Œpasswordçš„å€¼</span></span><br><span class="line">    <span class="keyword">var</span> phoneInput = $(<span class="string">"#phone"</span>).val();</span><br><span class="line">    <span class="keyword">var</span> passwordInput = $(<span class="string">"#password"</span>).val();</span><br><span class="line">    <span class="comment">// console.log(phoneInput, passwordInput);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœç”¨æˆ·è¾“å…¥çš„ phoneå’Œpasswordéƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆè·³è½¬åˆ°æŠ½å¥–é¡µé¢ï¼ˆé¡µé¢ä¸åˆ·æ–°ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> (phoneInput === phoneJson &amp;&amp; passwordInput === passwordJson) &#123;</span><br><span class="line">      <span class="comment">// ç™»å½•é¡µé¢éšè—</span></span><br><span class="line">      $(<span class="string">".loginBox"</span>).css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span><br><span class="line">      <span class="comment">// æŠ½å¥–é¡µé¢æ˜¾ç¤º</span></span><br><span class="line">      $(<span class="string">"table"</span>).css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// æç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå¯ä»¥æ”¹æˆé¡µé¢</span></span><br><span class="line">      alert(<span class="string">"æ‰‹æœºå·æˆ–å¯†ç é”™è¯¯"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>ä¸­å¥–ç»“æœèƒŒæ™¯ç‰¹æ•ˆJSä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> main = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"main"</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; <span class="number">60</span>; x++) &#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="built_in">document</span>.createElement(<span class="string">"i"</span>);</span><br><span class="line">  main.appendChild(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> is = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"i"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; is.length; i++) &#123;</span><br><span class="line">  is[i].style.transform = <span class="string">`rotate(<span class="subst">$&#123;i * <span class="number">12</span>&#125;</span>deg) translateX(80px)`</span>;</span><br><span class="line">  is[i].style.animationDelay = <span class="string">`<span class="subst">$&#123;i * <span class="number">0.05</span>&#125;</span>s`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>äºŒã€å†™åå°ä»£ç </p><ul><li><p>é¦–å…ˆå…ˆåˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨</p><ul><li>å®‰è£…ç¬¬ä¸‰æ–¹åº“</li><li><code>npm i axios</code></li><li><code>npm i express</code></li><li><code>npm i ejs</code></li></ul><p>router.js - æŠŠæ‰€æœ‰çš„è·¯ç”±éƒ½æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢äº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥expressç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œç”¨æ¥å†™æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</span><br><span class="line"><span class="comment">// routerè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> router = express.Router();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™è·¯ç”±</span></span><br><span class="line">router.get(<span class="string">"/"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.render(<span class="string">"index"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">"/login"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">"666"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure><p>app.jsä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥expressç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œç”¨æ¥å†™æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥pathå†…ç½®æ¨¡å—ï¼Œç”¨æ¥è·å–æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥router.jsæ–‡ä»¶ï¼ˆè‡ªå·±å†™çš„è·¯ç”±æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">"./router"</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨¡æ¿å¼•æ“è®¾ç½®ï¼ˆejsæ¨¡æ¿å¼•æ“ï¼‰</span></span><br><span class="line">app.set(<span class="string">"view engine"</span>, <span class="string">"html"</span>);</span><br><span class="line">app.set(<span class="string">"views"</span>, <span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/views`</span>);</span><br><span class="line">app.engine(<span class="string">"html"</span>, <span class="built_in">require</span>(<span class="string">"ejs"</span>).renderFile); <span class="comment">// ç”¨ejsæ¨¡æ¿æ¸²æŸ“html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log("__dirname: ", __dirname);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠæ–‡ä»¶æš´éœ²å‡ºå»ï¼Œä½¿æ¯ä¸ªæ–‡ä»¶éƒ½èƒ½è®¿é—®åˆ°æš´éœ²å‡ºå»çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨"/public"ä½œä¸ºå‰ç¼€æ¥åŠ è½½publicæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">app.use(<span class="string">"/public"</span>, express.static(path.join(__dirname, <span class="string">"./public/"</span>)));</span><br><span class="line"><span class="comment">// ä½¿ç”¨"/node_modules"ä½œä¸ºå‰ç¼€æ¥åŠ è½½node_modulesæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">app.use(</span><br><span class="line">  <span class="string">"/node_modules"</span>,</span><br><span class="line">  express.static(path.join(__dirname, <span class="string">"./node_modules/"</span>))</span><br><span class="line">);</span><br><span class="line"><span class="comment">// ä½¿ç”¨"/data"ä½œä¸ºå‰ç¼€æ¥åŠ è½½dataæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">app.use(<span class="string">"/data"</span>, express.static(path.join(__dirname, <span class="string">"./data/"</span>)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠè·¯ç”±æŒ‚è½½åˆ° app ä¸­</span></span><br><span class="line"><span class="comment">//routerè·¯ç”±å¯¹è±¡ä¸­çš„è·¯ç”±éƒ½ä¼šåŒ¹é…åˆ°</span></span><br><span class="line">app.use(router);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬3000ç«¯å£</span></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"æœåŠ¡å™¨å¼€å¯æˆåŠŸäº† -- 3000"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>æˆ‘å†™äº†ä¸€ä¸ªé…ç½®é»˜è®¤çš„è®¾ç½®çš„æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ <code>axios.defaults.xxx</code> ä¸­è¿›è¡Œé…ç½®</p></li></ul><p>axios_default.jsæ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤é…ç½®</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> axios !== <span class="string">"undefined"</span>) &#123;</span><br><span class="line">  axios.defaults.baseURL = <span class="string">"http://127.0.0.1:3000"</span>;</span><br><span class="line">  axios.defaults.withCredentials = <span class="literal">true</span>; <span class="comment">//=&gt; å…è®¸è·¨åŸŸè¯·æ±‚</span></span><br><span class="line">  axios.defaults.transformRequest = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">``</span>;</span><br><span class="line">    <span class="keyword">if</span> (data &amp;&amp; <span class="keyword">typeof</span> data === <span class="string">"object"</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> attr <span class="keyword">in</span> data) &#123;</span><br><span class="line">        <span class="keyword">if</span> (data.hasOwnProperty(attr)) &#123;</span><br><span class="line">          str += <span class="string">`<span class="subst">$&#123;attr&#125;</span>=<span class="subst">$&#123;data[attr]&#125;</span>&amp;`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str.substring(<span class="number">0</span>, str.length - <span class="number">1</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  axios.defaults.headers[<span class="string">"Contet-Type"</span>] = <span class="string">"x-www-form-urlencoded"</span>;</span><br><span class="line">  axios.interceptors.response.use(<span class="function">(<span class="params">result</span>) =&gt;</span> result.data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨è¾“å…¥ <code>127.0.0.1:3000</code> ï¼Œå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥æˆåŠŸå¯åŠ¨æœåŠ¡äº†ï¼Œå¹¶ä¸”èƒ½å¤Ÿè®¿é—®åˆ°æˆ‘å†™çš„ç½‘é¡µäº†</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E4%BA%AC%E4%B8%9C%E6%8A%BD%E5%A5%96%E4%BA%8C.gif" alt="" /></p></li></ul>]]></content>
    
    <summary type="html">
    
      äº¬ä¸œæŠ½å¥–æ¡ˆä¾‹
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>axiosä¸­æ–‡æ–‡æ¡£</title>
    <link href="https://extheor.github.io/posts/dc94f8a1/index.html"/>
    <id>https://extheor.github.io/posts/dc94f8a1/index.html</id>
    <published>2020-09-06T02:31:41.000Z</published>
    <updated>2020-09-13T06:33:48.285Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="axiosä¸­æ–‡æ–‡æ¡£"><a class="markdownIt-Anchor" href="#axiosä¸­æ–‡æ–‡æ¡£"></a> axiosä¸­æ–‡æ–‡æ¡£</h1><h2 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h2><p>ä½¿ç”¨ npm:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ bower:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower install axios</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ cdn:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;unpkg.com&#x2F;axios&#x2F;dist&#x2F;axios.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h2 id="æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#æ¡ˆä¾‹"></a> æ¡ˆä¾‹</h2><p>æ‰§è¡Œ <code>GET</code> è¯·æ±‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ä¸ºç»™å®š ID çš„ user åˆ›å»ºè¯·æ±‚</span><br><span class="line">axios.get(&#39;&#x2F;user?ID&#x3D;12345&#39;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä¸Šé¢çš„è¯·æ±‚ä¹Ÿå¯ä»¥è¿™æ ·åš</span><br><span class="line">axios.get(&#39;&#x2F;user&#39;, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: 12345</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>POST</code> è¯·æ±‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(&#39;&#x2F;user&#39;, &#123;</span><br><span class="line">    firstName: &#39;Fred&#39;,</span><br><span class="line">    lastName: &#39;Flintstone&#39;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getUserAccount() &#123;</span><br><span class="line">  return axios.get(&#39;&#x2F;user&#x2F;12345&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getUserPermissions() &#123;</span><br><span class="line">  return axios.get(&#39;&#x2F;user&#x2F;12345&#x2F;permissions&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">  .then(axios.spread(function (acct, perms) &#123;</span><br><span class="line">    &#x2F;&#x2F; ä¸¤ä¸ªè¯·æ±‚ç°åœ¨éƒ½æ‰§è¡Œå®Œæˆ</span><br><span class="line">  &#125;));</span><br></pre></td></tr></table></figure><h2 id="axios-api"><a class="markdownIt-Anchor" href="#axios-api"></a> axios API</h2><p>å¯ä»¥é€šè¿‡å‘ <code>axios</code> ä¼ é€’ç›¸å…³é…ç½®æ¥åˆ›å»ºè¯·æ±‚</p><h5 id="axiosconfig"><a class="markdownIt-Anchor" href="#axiosconfig"></a> axios(config)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å‘é€ POST è¯·æ±‚</span><br><span class="line">axios(&#123;</span><br><span class="line">  method: &#39;post&#39;,</span><br><span class="line">  url: &#39;&#x2F;user&#x2F;12345&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: &#39;Fred&#39;,</span><br><span class="line">    lastName: &#39;Flintstone&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#x2F;&#x2F; è·å–è¿œç«¯å›¾ç‰‡</span><br><span class="line">axios(&#123;</span><br><span class="line">  method:&#39;get&#39;,</span><br><span class="line">  url:&#39;http:&#x2F;&#x2F;bit.ly&#x2F;2mTM3nY&#39;,</span><br><span class="line">  responseType:&#39;stream&#39;</span><br><span class="line">&#125;)</span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line">  response.data.pipe(fs.createWriteStream(&#39;ada_lovelace.jpg&#39;))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="axiosurl-config"><a class="markdownIt-Anchor" href="#axiosurl-config"></a> axios(url[, config])</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å‘é€ GET è¯·æ±‚ï¼ˆé»˜è®¤çš„æ–¹æ³•ï¼‰</span><br><span class="line">axios(&#39;&#x2F;user&#x2F;12345&#39;);</span><br></pre></td></tr></table></figure><h3 id="è¯·æ±‚æ–¹æ³•çš„åˆ«å"><a class="markdownIt-Anchor" href="#è¯·æ±‚æ–¹æ³•çš„åˆ«å"></a> è¯·æ±‚æ–¹æ³•çš„åˆ«å</h3><p>ä¸ºæ–¹ä¾¿èµ·è§ï¼Œä¸ºæ‰€æœ‰æ”¯æŒçš„è¯·æ±‚æ–¹æ³•æä¾›äº†åˆ«å</p><h5 id="axiosrequestconfig"><a class="markdownIt-Anchor" href="#axiosrequestconfig"></a> axios.request(config)</h5><h5 id="axiosgeturl-config"><a class="markdownIt-Anchor" href="#axiosgeturl-config"></a> axios.get(url[, config])</h5><h5 id="axiosdeleteurl-config"><a class="markdownIt-Anchor" href="#axiosdeleteurl-config"></a> axios.delete(url[, config])</h5><h5 id="axiosheadurl-config"><a class="markdownIt-Anchor" href="#axiosheadurl-config"></a> axios.head(url[, config])</h5><h5 id="axiosoptionsurl-config"><a class="markdownIt-Anchor" href="#axiosoptionsurl-config"></a> axios.options(url[, config])</h5><h5 id="axiosposturl-data-config"><a class="markdownIt-Anchor" href="#axiosposturl-data-config"></a> axios.post(url[, data[, config]])</h5><h5 id="axiosputurl-data-config"><a class="markdownIt-Anchor" href="#axiosputurl-data-config"></a> axios.put(url[, data[, config]])</h5><h5 id="axiospatchurl-data-config"><a class="markdownIt-Anchor" href="#axiospatchurl-data-config"></a> axios.patch(url[, data[, config]])</h5><h6 id="æ³¨æ„"><a class="markdownIt-Anchor" href="#æ³¨æ„"></a> æ³¨æ„</h6><p>åœ¨ä½¿ç”¨åˆ«åæ–¹æ³•æ—¶ï¼Œ <code>url</code>ã€<code>method</code>ã€<code>data</code> è¿™äº›å±æ€§éƒ½ä¸å¿…åœ¨é…ç½®ä¸­æŒ‡å®šã€‚</p><h3 id="å¹¶å‘"><a class="markdownIt-Anchor" href="#å¹¶å‘"></a> å¹¶å‘</h3><p>å¤„ç†å¹¶å‘è¯·æ±‚çš„åŠ©æ‰‹å‡½æ•°</p><h5 id="axiosalliterable"><a class="markdownIt-Anchor" href="#axiosalliterable"></a> axios.all(iterable)</h5><h5 id="axiosspreadcallback"><a class="markdownIt-Anchor" href="#axiosspreadcallback"></a> axios.spread(callback)</h5><h3 id="åˆ›å»ºå®ä¾‹"><a class="markdownIt-Anchor" href="#åˆ›å»ºå®ä¾‹"></a> åˆ›å»ºå®ä¾‹</h3><p>å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–°å»ºä¸€ä¸ª axios å®ä¾‹</p><h5 id="axioscreateconfig"><a class="markdownIt-Anchor" href="#axioscreateconfig"></a> axios.create([config])</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const instance &#x3D; axios.create(&#123;</span><br><span class="line">  baseURL: &#39;https:&#x2F;&#x2F;some-domain.com&#x2F;api&#x2F;&#39;,</span><br><span class="line">  timeout: 1000,</span><br><span class="line">  headers: &#123;&#39;X-Custom-Header&#39;: &#39;foobar&#39;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å®ä¾‹æ–¹æ³•"><a class="markdownIt-Anchor" href="#å®ä¾‹æ–¹æ³•"></a> å®ä¾‹æ–¹æ³•</h3><p>ä»¥ä¸‹æ˜¯å¯ç”¨çš„å®ä¾‹æ–¹æ³•ã€‚æŒ‡å®šçš„é…ç½®å°†ä¸å®ä¾‹çš„é…ç½®åˆå¹¶ã€‚</p><h5 id="axiosrequestconfig-2"><a class="markdownIt-Anchor" href="#axiosrequestconfig-2"></a> axios#request(config)</h5><h5 id="axiosgeturl-config-2"><a class="markdownIt-Anchor" href="#axiosgeturl-config-2"></a> axios#get(url[, config])</h5><h5 id="axiosdeleteurl-config-2"><a class="markdownIt-Anchor" href="#axiosdeleteurl-config-2"></a> axios#delete(url[, config])</h5><h5 id="axiosheadurl-config-2"><a class="markdownIt-Anchor" href="#axiosheadurl-config-2"></a> axios#head(url[, config])</h5><h5 id="axiosoptionsurl-config-2"><a class="markdownIt-Anchor" href="#axiosoptionsurl-config-2"></a> axios#options(url[, config])</h5><h5 id="axiosposturl-data-config-2"><a class="markdownIt-Anchor" href="#axiosposturl-data-config-2"></a> axios#post(url[, data[, config]])</h5><h5 id="axiosputurl-data-config-2"><a class="markdownIt-Anchor" href="#axiosputurl-data-config-2"></a> axios#put(url[, data[, config]])</h5><h5 id="axiospatchurl-data-config-2"><a class="markdownIt-Anchor" href="#axiospatchurl-data-config-2"></a> axios#patch(url[, data[, config]])</h5><h2 id="è¯·æ±‚é…ç½®"><a class="markdownIt-Anchor" href="#è¯·æ±‚é…ç½®"></a> è¯·æ±‚é…ç½®</h2><p>è¿™äº›æ˜¯åˆ›å»ºè¯·æ±‚æ—¶å¯ä»¥ç”¨çš„é…ç½®é€‰é¡¹ã€‚åªæœ‰ <code>url</code> æ˜¯å¿…éœ€çš„ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š <code>method</code>ï¼Œè¯·æ±‚å°†é»˜è®¤ä½¿ç”¨ <code>get</code> æ–¹æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   &#x2F;&#x2F; &#96;url&#96; æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL</span><br><span class="line">  url: &#39;&#x2F;user&#39;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;method&#96; æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³•</span><br><span class="line">  method: &#39;get&#39;, &#x2F;&#x2F; default</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;baseURL&#96; å°†è‡ªåŠ¨åŠ åœ¨ &#96;url&#96; å‰é¢ï¼Œé™¤é &#96;url&#96; æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚</span><br><span class="line">  &#x2F;&#x2F; å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª &#96;baseURL&#96; ä¾¿äºä¸º axios å®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL</span><br><span class="line">  baseURL: &#39;https:&#x2F;&#x2F;some-domain.com&#x2F;api&#x2F;&#39;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;transformRequest&#96; å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ®</span><br><span class="line">  &#x2F;&#x2F; åªèƒ½ç”¨åœ¨ &#39;PUT&#39;, &#39;POST&#39; å’Œ &#39;PATCH&#39; è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³•</span><br><span class="line">  &#x2F;&#x2F; åé¢æ•°ç»„ä¸­çš„å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ– ArrayBufferï¼Œæˆ– Stream</span><br><span class="line">  transformRequest: [function (data, headers) &#123;</span><br><span class="line">    &#x2F;&#x2F; å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†</span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;transformResponse&#96; åœ¨ä¼ é€’ç»™ then&#x2F;catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ®</span><br><span class="line">  transformResponse: [function (data) &#123;</span><br><span class="line">    &#x2F;&#x2F; å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†</span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;headers&#96; æ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´</span><br><span class="line">  headers: &#123;&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;&#125;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;params&#96; æ˜¯å³å°†ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•°</span><br><span class="line">  &#x2F;&#x2F; å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ– URLSearchParams å¯¹è±¡</span><br><span class="line">  params: &#123;</span><br><span class="line">    ID: 12345</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; &#96;paramsSerializer&#96; æ˜¯ä¸€ä¸ªè´Ÿè´£ &#96;params&#96; åºåˆ—åŒ–çš„å‡½æ•°</span><br><span class="line">  &#x2F;&#x2F; (e.g. https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;qs, http:&#x2F;&#x2F;api.jquery.com&#x2F;jquery.param&#x2F;)</span><br><span class="line">  paramsSerializer: function(params) &#123;</span><br><span class="line">    return Qs.stringify(params, &#123;arrayFormat: &#39;brackets&#39;&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;data&#96; æ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ®</span><br><span class="line">  &#x2F;&#x2F; åªé€‚ç”¨äºè¿™äº›è¯·æ±‚æ–¹æ³• &#39;PUT&#39;, &#39;POST&#39;, å’Œ &#39;PATCH&#39;</span><br><span class="line">  &#x2F;&#x2F; åœ¨æ²¡æœ‰è®¾ç½® &#96;transformRequest&#96; æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š</span><br><span class="line">  &#x2F;&#x2F; - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span><br><span class="line">  &#x2F;&#x2F; - æµè§ˆå™¨ä¸“å±ï¼šFormData, File, Blob</span><br><span class="line">  &#x2F;&#x2F; - Node ä¸“å±ï¼š Stream</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: &#39;Fred&#39;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;timeout&#96; æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0 è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´)</span><br><span class="line">  &#x2F;&#x2F; å¦‚æœè¯·æ±‚è¯è´¹äº†è¶…è¿‡ &#96;timeout&#96; çš„æ—¶é—´ï¼Œè¯·æ±‚å°†è¢«ä¸­æ–­</span><br><span class="line">  timeout: 1000,</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; &#96;withCredentials&#96; è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯</span><br><span class="line">  withCredentials: false, &#x2F;&#x2F; default</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;adapter&#96; å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œä»¥ä½¿æµ‹è¯•æ›´è½»æ¾</span><br><span class="line">  &#x2F;&#x2F; è¿”å›ä¸€ä¸ª promise å¹¶åº”ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” (æŸ¥é˜… [response docs](#response-api)).</span><br><span class="line">  adapter: function (config) &#123;</span><br><span class="line">    &#x2F;* ... *&#x2F;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F; &#96;auth&#96; è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºç¡€éªŒè¯ï¼Œå¹¶æä¾›å‡­æ®</span><br><span class="line">  &#x2F;&#x2F; è¿™å°†è®¾ç½®ä¸€ä¸ª &#96;Authorization&#96; å¤´ï¼Œè¦†å†™æ‰ç°æœ‰çš„ä»»æ„ä½¿ç”¨ &#96;headers&#96; è®¾ç½®çš„è‡ªå®šä¹‰ &#96;Authorization&#96;å¤´</span><br><span class="line">  auth: &#123;</span><br><span class="line">    username: &#39;janedoe&#39;,</span><br><span class="line">    password: &#39;s00pers3cret&#39;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; &#96;responseType&#96; è¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ &#39;arraybuffer&#39;, &#39;blob&#39;, &#39;document&#39;, &#39;json&#39;, &#39;text&#39;, &#39;stream&#39;</span><br><span class="line">  responseType: &#39;json&#39;, &#x2F;&#x2F; default</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;responseEncoding&#96; indicates encoding to use for decoding responses</span><br><span class="line">  &#x2F;&#x2F; Note: Ignored for &#96;responseType&#96; of &#39;stream&#39; or client-side requests</span><br><span class="line">  responseEncoding: &#39;utf8&#39;, &#x2F;&#x2F; default</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; &#96;xsrfCookieName&#96; æ˜¯ç”¨ä½œ xsrf token çš„å€¼çš„cookieçš„åç§°</span><br><span class="line">  xsrfCookieName: &#39;XSRF-TOKEN&#39;, &#x2F;&#x2F; default</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;xsrfHeaderName&#96; is the name of the http header that carries the xsrf token value</span><br><span class="line">  xsrfHeaderName: &#39;X-XSRF-TOKEN&#39;, &#x2F;&#x2F; default</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; &#96;onUploadProgress&#96; å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶</span><br><span class="line">  onUploadProgress: function (progressEvent) &#123;</span><br><span class="line">    &#x2F;&#x2F; Do whatever you want with the native progress event</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;onDownloadProgress&#96; å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶</span><br><span class="line">  onDownloadProgress: function (progressEvent) &#123;</span><br><span class="line">    &#x2F;&#x2F; å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç†</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; &#96;maxContentLength&#96; å®šä¹‰å…è®¸çš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸</span><br><span class="line">  maxContentLength: 2000,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;validateStatus&#96; å®šä¹‰å¯¹äºç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ resolve æˆ– reject  promise ã€‚å¦‚æœ &#96;validateStatus&#96; è¿”å› &#96;true&#96; (æˆ–è€…è®¾ç½®ä¸º &#96;null&#96; æˆ– &#96;undefined&#96;)ï¼Œpromise å°†è¢« resolve; å¦åˆ™ï¼Œpromise å°†è¢« rejecte</span><br><span class="line">  validateStatus: function (status) &#123;</span><br><span class="line">    return status &gt;&#x3D; 200 &amp;&amp; status &lt; 300; &#x2F;&#x2F; default</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;maxRedirects&#96; å®šä¹‰åœ¨ node.js ä¸­ follow çš„æœ€å¤§é‡å®šå‘æ•°ç›®</span><br><span class="line">  &#x2F;&#x2F; å¦‚æœè®¾ç½®ä¸º0ï¼Œå°†ä¸ä¼š follow ä»»ä½•é‡å®šå‘</span><br><span class="line">  maxRedirects: 5, &#x2F;&#x2F; default</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;socketPath&#96; defines a UNIX Socket to be used in node.js.</span><br><span class="line">  &#x2F;&#x2F; e.g. &#39;&#x2F;var&#x2F;run&#x2F;docker.sock&#39; to send requests to the docker daemon.</span><br><span class="line">  &#x2F;&#x2F; Only either &#96;socketPath&#96; or &#96;proxy&#96; can be specified.</span><br><span class="line">  &#x2F;&#x2F; If both are specified, &#96;socketPath&#96; is used.</span><br><span class="line">  socketPath: null, &#x2F;&#x2F; default</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;httpAgent&#96; å’Œ &#96;httpsAgent&#96; åˆ†åˆ«åœ¨ node.js ä¸­ç”¨äºå®šä¹‰åœ¨æ‰§è¡Œ http å’Œ https æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚å…è®¸åƒè¿™æ ·é…ç½®é€‰é¡¹ï¼š</span><br><span class="line">  &#x2F;&#x2F; &#96;keepAlive&#96; é»˜è®¤æ²¡æœ‰å¯ç”¨</span><br><span class="line">  httpAgent: new http.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line">  httpsAgent: new https.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#39;proxy&#39; å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåç§°å’Œç«¯å£</span><br><span class="line">  &#x2F;&#x2F; &#96;auth&#96; è¡¨ç¤º HTTP åŸºç¡€éªŒè¯åº”å½“ç”¨äºè¿æ¥ä»£ç†ï¼Œå¹¶æä¾›å‡­æ®</span><br><span class="line">  &#x2F;&#x2F; è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª &#96;Proxy-Authorization&#96; å¤´ï¼Œè¦†å†™æ‰å·²æœ‰çš„é€šè¿‡ä½¿ç”¨ &#96;header&#96; è®¾ç½®çš„è‡ªå®šä¹‰ &#96;Proxy-Authorization&#96; å¤´ã€‚</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    host: &#39;127.0.0.1&#39;,</span><br><span class="line">    port: 9000,</span><br><span class="line">    auth: &#123;</span><br><span class="line">      username: &#39;mikeymike&#39;,</span><br><span class="line">      password: &#39;rapunz3l&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;cancelToken&#96; æŒ‡å®šç”¨äºå–æ¶ˆè¯·æ±‚çš„ cancel token</span><br><span class="line">  &#x2F;&#x2F; ï¼ˆæŸ¥çœ‹åé¢çš„ Cancellation è¿™èŠ‚äº†è§£æ›´å¤šï¼‰</span><br><span class="line">  cancelToken: new CancelToken(function (cancel) &#123;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å“åº”ç»“æ„"><a class="markdownIt-Anchor" href="#å“åº”ç»“æ„"></a> å“åº”ç»“æ„</h2><p>æŸä¸ªè¯·æ±‚çš„å“åº”åŒ…å«ä»¥ä¸‹ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &#x2F;&#x2F; &#96;data&#96; ç”±æœåŠ¡å™¨æä¾›çš„å“åº”</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;status&#96; æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç </span><br><span class="line">  status: 200,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;statusText&#96; æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯</span><br><span class="line">  statusText: &#39;OK&#39;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;headers&#96; æœåŠ¡å™¨å“åº”çš„å¤´</span><br><span class="line">  headers: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; &#96;config&#96; æ˜¯ä¸ºè¯·æ±‚æä¾›çš„é…ç½®ä¿¡æ¯</span><br><span class="line">  config: &#123;&#125;,</span><br><span class="line"> &#x2F;&#x2F; &#39;request&#39;</span><br><span class="line">  &#x2F;&#x2F; &#96;request&#96; is the request that generated this response</span><br><span class="line">  &#x2F;&#x2F; It is the last ClientRequest instance in node.js (in redirects)</span><br><span class="line">  &#x2F;&#x2F; and an XMLHttpRequest instance the browser</span><br><span class="line">  request: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>then</code> æ—¶ï¼Œä½ å°†æ¥æ”¶ä¸‹é¢è¿™æ ·çš„å“åº” :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#39;&#x2F;user&#x2F;12345&#39;)</span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line">    console.log(response.data);</span><br><span class="line">    console.log(response.status);</span><br><span class="line">    console.log(response.statusText);</span><br><span class="line">    console.log(response.headers);</span><br><span class="line">    console.log(response.config);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨ <code>catch</code> æ—¶ï¼Œæˆ–ä¼ é€’ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then" target="_blank" rel="noopener">rejection callback</a> ä½œä¸º <code>then</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼Œå“åº”å¯ä»¥é€šè¿‡ <code>error</code> å¯¹è±¡å¯è¢«ä½¿ç”¨ï¼Œæ­£å¦‚åœ¨<a href="https://www.kancloud.cn/yunye/axios/234845#handling-errors" target="_blank" rel="noopener">é”™è¯¯å¤„ç†</a>è¿™ä¸€èŠ‚æ‰€è®²ã€‚</p><h2 id="é…ç½®é»˜è®¤å€¼"><a class="markdownIt-Anchor" href="#é…ç½®é»˜è®¤å€¼"></a> é…ç½®é»˜è®¤å€¼</h2><p>ä½ å¯ä»¥æŒ‡å®šå°†è¢«ç”¨åœ¨å„ä¸ªè¯·æ±‚çš„é…ç½®é»˜è®¤å€¼</p><h3 id="å…¨å±€çš„-axios-é»˜è®¤å€¼"><a class="markdownIt-Anchor" href="#å…¨å±€çš„-axios-é»˜è®¤å€¼"></a> å…¨å±€çš„ axios é»˜è®¤å€¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL &#x3D; &#39;https:&#x2F;&#x2F;api.example.com&#39;;</span><br><span class="line">axios.defaults.headers.common[&#39;Authorization&#39;] &#x3D; AUTH_TOKEN;</span><br><span class="line">axios.defaults.headers.post[&#39;Content-Type&#39;] &#x3D; &#39;application&#x2F;x-www-form-urlencoded&#39;;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼"></a> è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Set config defaults when creating the instance</span><br><span class="line">const instance &#x3D; axios.create(&#123;</span><br><span class="line">  baseURL: &#39;https:&#x2F;&#x2F;api.example.com&#39;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Alter defaults after instance has been created</span><br><span class="line">instance.defaults.headers.common[&#39;Authorization&#39;] &#x3D; AUTH_TOKEN;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®çš„ä¼˜å…ˆé¡ºåº"><a class="markdownIt-Anchor" href="#é…ç½®çš„ä¼˜å…ˆé¡ºåº"></a> é…ç½®çš„ä¼˜å…ˆé¡ºåº</h3><p>é…ç½®ä¼šä»¥ä¸€ä¸ªä¼˜å…ˆé¡ºåºè¿›è¡Œåˆå¹¶ã€‚è¿™ä¸ªé¡ºåºæ˜¯ï¼šåœ¨ <code>lib/defaults.js</code> æ‰¾åˆ°çš„åº“çš„é»˜è®¤å€¼ï¼Œç„¶åæ˜¯å®ä¾‹çš„ <code>defaults</code> å±æ€§ï¼Œæœ€åæ˜¯è¯·æ±‚çš„ <code>config</code> å‚æ•°ã€‚åè€…å°†ä¼˜å…ˆäºå‰è€…ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ä½¿ç”¨ç”±åº“æä¾›çš„é…ç½®çš„é»˜è®¤å€¼æ¥åˆ›å»ºå®ä¾‹</span><br><span class="line">&#x2F;&#x2F; æ­¤æ—¶è¶…æ—¶é…ç½®çš„é»˜è®¤å€¼æ˜¯ &#96;0&#96;</span><br><span class="line">var instance &#x3D; axios.create();</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¦†å†™åº“çš„è¶…æ—¶é»˜è®¤å€¼</span><br><span class="line">&#x2F;&#x2F; ç°åœ¨ï¼Œåœ¨è¶…æ—¶å‰ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šç­‰å¾… 2.5 ç§’</span><br><span class="line">instance.defaults.timeout &#x3D; 2500;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä¸ºå·²çŸ¥éœ€è¦èŠ±è´¹å¾ˆé•¿æ—¶é—´çš„è¯·æ±‚è¦†å†™è¶…æ—¶è®¾ç½®</span><br><span class="line">instance.get(&#39;&#x2F;longRequest&#39;, &#123;</span><br><span class="line">  timeout: 5000</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="æ‹¦æˆªå™¨"><a class="markdownIt-Anchor" href="#æ‹¦æˆªå™¨"></a> æ‹¦æˆªå™¨</h2><p>åœ¨è¯·æ±‚æˆ–å“åº”è¢« <code>then</code> æˆ– <code>catch</code> å¤„ç†å‰æ‹¦æˆªå®ƒä»¬ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.request.use(function (config) &#123;</span><br><span class="line">    &#x2F;&#x2F; åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ</span><br><span class="line">    return config;</span><br><span class="line">  &#125;, function (error) &#123;</span><br><span class="line">    &#x2F;&#x2F; å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ</span><br><span class="line">    return Promise.reject(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ·»åŠ å“åº”æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.response.use(function (response) &#123;</span><br><span class="line">    &#x2F;&#x2F; å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ</span><br><span class="line">    return response;</span><br><span class="line">  &#125;, function (error) &#123;</span><br><span class="line">    &#x2F;&#x2F; å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ</span><br><span class="line">    return Promise.reject(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³åœ¨ç¨åç§»é™¤æ‹¦æˆªå™¨ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const myInterceptor &#x3D; axios.interceptors.request.use(function () &#123;&#x2F;*...*&#x2F;&#125;);</span><br><span class="line">axios.interceptors.request.eject(myInterceptor);</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä¸ºè‡ªå®šä¹‰ axios å®ä¾‹æ·»åŠ æ‹¦æˆªå™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const instance &#x3D; axios.create();</span><br><span class="line">instance.interceptors.request.use(function () &#123;&#x2F;*...*&#x2F;&#125;);</span><br></pre></td></tr></table></figure><h2 id="é”™è¯¯å¤„ç†"><a class="markdownIt-Anchor" href="#é”™è¯¯å¤„ç†"></a> é”™è¯¯å¤„ç†</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#39;&#x2F;user&#x2F;12345&#39;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    if (error.response) &#123;</span><br><span class="line">      &#x2F;&#x2F; The request was made and the server responded with a status code</span><br><span class="line">      &#x2F;&#x2F; that falls out of the range of 2xx</span><br><span class="line">      console.log(error.response.data);</span><br><span class="line">      console.log(error.response.status);</span><br><span class="line">      console.log(error.response.headers);</span><br><span class="line">    &#125; else if (error.request) &#123;</span><br><span class="line">      &#x2F;&#x2F; The request was made but no response was received</span><br><span class="line">      &#x2F;&#x2F; &#96;error.request&#96; is an instance of XMLHttpRequest in the browser and an instance of</span><br><span class="line">      &#x2F;&#x2F; http.ClientRequest in node.js</span><br><span class="line">      console.log(error.request);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      &#x2F;&#x2F; Something happened in setting up the request that triggered an Error</span><br><span class="line">      console.log(&#39;Error&#39;, error.message);</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(error.config);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>Yå¯ä»¥ä½¿ç”¨ <code>validateStatus</code> é…ç½®é€‰é¡¹å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ HTTP çŠ¶æ€ç çš„é”™è¯¯èŒƒå›´ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#39;&#x2F;user&#x2F;12345&#39;, &#123;</span><br><span class="line">  validateStatus: function (status) &#123;</span><br><span class="line">    return status &lt; 500; &#x2F;&#x2F; Reject only if the status code is greater than or equal to 500</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="å–æ¶ˆ"><a class="markdownIt-Anchor" href="#å–æ¶ˆ"></a> å–æ¶ˆ</h2><p>ä½¿ç”¨ <em>cancel token</em> å–æ¶ˆè¯·æ±‚</p><blockquote><p>Axios çš„ cancel token API åŸºäº<a href="https://github.com/tc39/proposal-cancelable-promises" target="_blank" rel="noopener">cancelable promises proposal</a>ï¼Œå®ƒè¿˜å¤„äºç¬¬ä¸€é˜¶æ®µã€‚</p></blockquote><p>å¯ä»¥ä½¿ç”¨ <code>CancelToken.source</code> å·¥å‚æ–¹æ³•åˆ›å»º cancel tokenï¼Œåƒè¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const CancelToken &#x3D; axios.CancelToken;</span><br><span class="line">const source &#x3D; CancelToken.source();</span><br><span class="line"></span><br><span class="line">axios.get(&#39;&#x2F;user&#x2F;12345&#39;, &#123;</span><br><span class="line">  cancelToken: source.token</span><br><span class="line">&#125;).catch(function(thrown) &#123;</span><br><span class="line">  if (axios.isCancel(thrown)) &#123;</span><br><span class="line">    console.log(&#39;Request canceled&#39;, thrown.message);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">     &#x2F;&#x2F; å¤„ç†é”™è¯¯</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">axios.post(&#39;&#x2F;user&#x2F;12345&#39;, &#123;</span><br><span class="line">  name: &#39;new name&#39;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  cancelToken: source.token</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å–æ¶ˆè¯·æ±‚ï¼ˆmessage å‚æ•°æ˜¯å¯é€‰çš„ï¼‰</span><br><span class="line">source.cancel(&#39;Operation canceled by the user.&#39;);</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª executor å‡½æ•°åˆ° <code>CancelToken</code> çš„æ„é€ å‡½æ•°æ¥åˆ›å»º cancel tokenï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const CancelToken &#x3D; axios.CancelToken;</span><br><span class="line">let cancel;</span><br><span class="line"></span><br><span class="line">axios.get(&#39;&#x2F;user&#x2F;12345&#39;, &#123;</span><br><span class="line">  cancelToken: new CancelToken(function executor(c) &#123;</span><br><span class="line">    &#x2F;&#x2F; executor å‡½æ•°æ¥æ”¶ä¸€ä¸ª cancel å‡½æ•°ä½œä¸ºå‚æ•°</span><br><span class="line">    cancel &#x3D; c;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; cancel the request</span><br><span class="line">cancel();</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„: å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª cancel token å–æ¶ˆå¤šä¸ªè¯·æ±‚</p></blockquote><h2 id="ä½¿ç”¨-applicationx-www-form-urlencoded-format"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-applicationx-www-form-urlencoded-format"></a> ä½¿ç”¨ application/x-www-form-urlencoded format</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œaxioså°†JavaScriptå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONã€‚ è¦ä»¥application / x-www-form-urlencodedæ ¼å¼å‘é€æ•°æ®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€ã€‚</p><h3 id="æµè§ˆå™¨"><a class="markdownIt-Anchor" href="#æµè§ˆå™¨"></a> æµè§ˆå™¨</h3><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨URLSearchParams APIï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const params &#x3D; new URLSearchParams();</span><br><span class="line">params.append(&#39;param1&#39;, &#39;value1&#39;);</span><br><span class="line">params.append(&#39;param2&#39;, &#39;value2&#39;);</span><br><span class="line">axios.post(&#39;&#x2F;foo&#39;, params);</span><br></pre></td></tr></table></figure><blockquote><p>è¯·æ³¨æ„ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½ä¸æ”¯æŒURLSearchParamsï¼ˆ<a href="http://xn--caniuse-1g3ln192bq9ua.com" target="_blank" rel="noopener">è¯·å‚é˜…caniuse.com</a>ï¼‰ï¼Œä½†å¯ä»¥ä½¿ç”¨polyfillï¼ˆç¡®ä¿å¡«å……å…¨å±€ç¯å¢ƒï¼‰ã€‚</p></blockquote><p>æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨qsåº“ç¼–ç æ•°æ®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const qs &#x3D; require(&#39;qs&#39;);</span><br><span class="line">axios.post(&#39;&#x2F;foo&#39;, qs.stringify(&#123; &#39;bar&#39;: 123 &#125;));</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä»¥å¦ä¸€ç§æ–¹å¼ï¼ˆES6ï¼‰ï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import qs from &#39;qs&#39;;</span><br><span class="line">const data &#x3D; &#123; &#39;bar&#39;: 123 &#125;;</span><br><span class="line">const options &#x3D; &#123;</span><br><span class="line">  method: &#39;POST&#39;,</span><br><span class="line">  headers: &#123; &#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39; &#125;,</span><br><span class="line">  data: qs.stringify(data),</span><br><span class="line">  url,</span><br><span class="line">&#125;;</span><br><span class="line">axios(options);</span><br></pre></td></tr></table></figure><h3 id="nodejs"><a class="markdownIt-Anchor" href="#nodejs"></a> Node.js</h3><p>åœ¨node.jsä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨querystringæ¨¡å—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const querystring &#x3D; require(&#39;querystring&#39;);</span><br><span class="line">axios.post(&#39;http:&#x2F;&#x2F;something.com&#x2F;&#39;, querystring.stringify(&#123; foo: &#39;bar&#39; &#125;));</span><br></pre></td></tr></table></figure><p>æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨qsåº“ã€‚</p><h2 id="semver"><a class="markdownIt-Anchor" href="#semver"></a> Semver</h2><p>åœ¨axiosè¾¾åˆ°1.0ç‰ˆæœ¬ä¹‹å‰ï¼Œç ´åæ€§æ›´æ”¹å°†ä»¥æ–°çš„æ¬¡è¦ç‰ˆæœ¬å‘å¸ƒã€‚ ä¾‹å¦‚0.5.1å’Œ0.5.4å°†å…·æœ‰ç›¸åŒçš„APIï¼Œä½†0.6.0å°†å…·æœ‰é‡å¤§å˜åŒ–ã€‚</p><h2 id="promises"><a class="markdownIt-Anchor" href="#promises"></a> Promises</h2><p>axios ä¾èµ–åŸç”Ÿçš„ ES6 Promise å®ç°è€Œ<a href="http://caniuse.com/promises" target="_blank" rel="noopener">è¢«æ”¯æŒ</a>. å¦‚æœä½ çš„ç¯å¢ƒä¸æ”¯æŒ ES6 Promiseï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://github.com/jakearchibald/es6-promise" target="_blank" rel="noopener">polyfill</a>.</p><h2 id="typescript"><a class="markdownIt-Anchor" href="#typescript"></a> TypeScript</h2><p>axiosåŒ…æ‹¬TypeScriptå®šä¹‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#39;axios&#39;;</span><br><span class="line">axios.get(&#39;&#x2F;user?ID&#x3D;12345&#39;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      axiosä¸­æ–‡æ–‡æ¡£
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>axiosçš„è¯·æ±‚åˆå¹¶ä»¥åŠå‚æ•°é…ç½®</title>
    <link href="https://extheor.github.io/posts/12d95a5e/index.html"/>
    <id>https://extheor.github.io/posts/12d95a5e/index.html</id>
    <published>2020-09-05T12:50:41.000Z</published>
    <updated>2020-09-13T06:33:15.149Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="axiosçš„è¯·æ±‚åˆå¹¶ä»¥åŠå‚æ•°é…ç½®"><a class="markdownIt-Anchor" href="#axiosçš„è¯·æ±‚åˆå¹¶ä»¥åŠå‚æ•°é…ç½®"></a> axiosçš„è¯·æ±‚åˆå¹¶ä»¥åŠå‚æ•°é…ç½®</h1><p>ç°åœ¨æˆ‘ä»¬å‡è®¾æƒ³è¦ä¸¤ä¸ªè¯·æ±‚éƒ½å®Œæˆåæ‰åšä¸€äº›äº‹æƒ…ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä¼šæƒ³åˆ°ï¼Œå¯ä»¥åœ¨ç¬¬äºŒä¸ªè¯·æ±‚å®Œæˆåï¼Œä¸€èµ·è¿”å›ç¬¬ä¸€ä¸ªè¯·æ±‚ç»“æœå’Œç¬¬äºŒä¸ªè¯·æ±‚ç»“æœï¼Œå¹¶ä¸”ä»–ä»¬æ˜¯æŒ‰ç…§ä»£ç é¡ºåºè¾“å‡ºç»“æœçš„ã€‚</p><p>ä»£ç æ¼”ç¤ºä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="literal">null</span>;</span><br><span class="line">axios</span><br><span class="line">    .get(</span><br><span class="line">    <span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/info"</span></span><br><span class="line">)</span><br><span class="line">    .then(<span class="function">(<span class="params">resuleA</span>) =&gt;</span> &#123;</span><br><span class="line">    result = resuleA;</span><br><span class="line">    <span class="comment">// console.log(resuleA);</span></span><br><span class="line">    <span class="keyword">return</span> axios.get(</span><br><span class="line">        <span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/list"</span></span><br><span class="line">    );</span><br><span class="line">&#125;)</span><br><span class="line">    .then(<span class="function">(<span class="params">resultB</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(resultB);</span><br><span class="line">    <span class="built_in">console</span>.log(result);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘åœ¨ç¬¬äºŒä¸ªthené‡Œé¢åˆ©ç”¨å…¨å±€å˜é‡ result è¿”å›äº†ç¬¬ä¸€ä¸ªthençš„ç»“æœ</p></blockquote><p>è¿™æ ·å†™çš„è¯æœªå…æœ‰ç‚¹éº»çƒ¦ï¼Œé‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥ç›´æ¥å®ç°æ‰€æœ‰è¯·æ±‚éƒ½å®Œæˆåç„¶åæ‰åšä¸€äº›äº‹æƒ…çš„æ–¹æ³•å‘¢ï¼Ÿ</p><ul><li><p>axios.all([])</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sendArr = [</span><br><span class="line">    axios.get(</span><br><span class="line">        <span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/list"</span></span><br><span class="line">    ),</span><br><span class="line">    axios.get(</span><br><span class="line">        <span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/info"</span></span><br><span class="line">    ),</span><br><span class="line">    axios.post(</span><br><span class="line">        <span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/add"</span></span><br><span class="line">    ),</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt; ä¸‰ä¸ªè¯·æ±‚éƒ½å®Œæˆæ‰åšä¸€äº›äº‹æƒ…ï¼ˆå¯ä»¥åŸºäºALLå®ç°ï¼‰</span></span><br><span class="line">axios.all(sendArr).then((result) =&gt; &#123;</span><br><span class="line">    console.log(result);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/axios.all()%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C.png" alt="" /></p><p>è¿”å›ç»“æœæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«å­˜å‚¨æ¯ä¸€ä¸ªè¯·æ±‚çš„ç»“æœ</p></li><li><p>axios.spreadè¿”å›æ¯æ¬¡è¯·æ±‚çš„ç»“æœ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">axios.all(sendArr).then(</span><br><span class="line">    axios.spread(<span class="function">(<span class="params">resA, resB, resC</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//=&gt; RES-A/-B/-Cåˆ†åˆ«ä»£è¡¨ä¸‰æ¬¡è¯·æ±‚çš„ç»“æœ</span></span><br><span class="line">        <span class="comment">//=&gt; åŸç†æœç´¢JSä¸­çš„æŸ¯é‡ŒåŒ–å‡½æ•°</span></span><br><span class="line">        <span class="built_in">console</span>.log(resA);</span><br><span class="line">        <span class="built_in">console</span>.log(resB);</span><br><span class="line">        <span class="built_in">console</span>.log(resC);</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      axiosçš„è¯·æ±‚åˆå¹¶ä»¥åŠå‚æ•°é…ç½®
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>axiosçš„åŸºç¡€è¯­æ³•</title>
    <link href="https://extheor.github.io/posts/4e6d4eb4/index.html"/>
    <id>https://extheor.github.io/posts/4e6d4eb4/index.html</id>
    <published>2020-09-05T01:45:25.000Z</published>
    <updated>2020-09-13T06:32:41.973Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="axiosçš„åŸºç¡€è¯­æ³•"><a class="markdownIt-Anchor" href="#axiosçš„åŸºç¡€è¯­æ³•"></a> axiosçš„åŸºç¡€è¯­æ³•</h1><p>åœ¨é¡µé¢å¼•å…¥ axios.js æ–‡ä»¶ï¼Œä½¿ç”¨ <code>dir(axios)</code> å¯ä»¥æŸ¥çœ‹ axios çš„æ‰€æœ‰æ–¹æ³•</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajaxå›¾ç‰‡/æŸ¥çœ‹axiosæ‰€æœ‰æ–¹æ³•.png"></img></p><p>axios: å®ƒæ˜¯ä¸€ä¸ªç±»åº“ï¼ŒåŸºäºPromiseç®¡ç†çš„AJAXåº“</p><ol><li><p>æä¾›äº†å¯¹åº”è¯·æ±‚æ–¹å¼çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼šget/post/head/delete/put/optionsâ€¦ï¼‰</p><p>axios.get() å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ŒåŸºäºçš„æ˜¯GETæ–¹å¼</p></li><li><p>æ”¯æŒçš„å‚æ•°é…ç½®</p><p>axios.get([URL],[OPTIONS])</p></li><li><p>åŸºäºGETæˆ–è€…POSTæ–¹æ³•å‘è¯·æ±‚ï¼Œè¿”å›çš„ç»“æœéƒ½æ˜¯Promiseå®ä¾‹</p></li></ol><ul><li><p>GETè¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/"</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">        <span class="comment">//=&gt; GETè¯·æ±‚ä¸­ï¼Œä¼šæŠŠparamsä¸­çš„é”®å€¼å¯¹æ‹¼æ¥æˆurlencodeæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œç„¶åä»¥é—®å·ä¼ é€’å‚æ•°çš„æ–¹å¼ï¼Œä¼ é€’ç»™æœåŠ¡å™¨ï¼Œç±»ä¼¼äºJQ-AJAXä¸­çš„DATAï¼ˆæˆ–è€…è‡ªå·±åŸºäºURLåé¢æ‹¼æ¥ä¹Ÿå¯ä»¥ï¼Œä¸ç”¨paramsï¼‰</span></span><br><span class="line">        name: <span class="string">"zhufeng"</span>,</span><br><span class="line">        age: <span class="number">9</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>POSTè¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios.post(<span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/add"</span>, &#123;</span><br><span class="line">    <span class="comment">//=&gt; é…ç½®é¡¹ä¸­ä¼ é€’çš„å†…å®¹éƒ½ç›¸å½“äºåŸºäºè¯·æ±‚ä¸»ä½“ä¼ é€’ç»™æœåŠ¡å™¨ï¼Œä½†æ˜¯ä¼ é€’ç»™æœåŠ¡å™¨çš„å†…å®¹æ ¼å¼æ˜¯RAW(JSONæ ¼å¼çš„å­å­—ç¬¦ä¸²)ï¼Œä¸æ˜¯X-WWW-FORM-URLENCODED</span></span><br><span class="line">    name: <span class="string">"zhufeng"</span>,</span><br><span class="line">    age: <span class="number">9</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>axiosè§£å†³å›è°ƒåœ°ç‹±</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">axios</span><br><span class="line">    .get(</span><br><span class="line">    <span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/info"</span>,</span><br><span class="line">    &#123;</span><br><span class="line">        params: &#123;</span><br><span class="line">            lx: <span class="number">12</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">    .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; data &#125; = result;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> axios.post(</span><br><span class="line">        <span class="string">"https://www.easy-mock.com/mock/5b0412beda8a195fb0978627/temp/add"</span></span><br><span class="line">    );</span><br><span class="line">&#125;)</span><br><span class="line">    .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; data &#125; = result;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœ</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajaxå›¾ç‰‡/axiosè§£å†³å›è°ƒåœ°ç‹±ç»“æœ.png"></img></p><p>ç”±è¿”å›ç»“æœå¯çŸ¥ï¼Œä»£ç æ˜¯ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œçš„ï¼ŒæˆåŠŸè§£å†³å›è°ƒåœ°ç‹±ã€‚</p><ul><li><p>resultçš„è¿”å›ç»“æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«å¾ˆå¤šå±æ€§ï¼Œåˆ—ä¸¾å‡ ä¸ªå¦‚ä¸‹ï¼š</p><p>data: ä»æœåŠ¡å™¨è·å–çš„å“åº”ä¸»ä½“å†…å®¹</p><p>headers: ä»æœåŠ¡å™¨è·å–çš„å“åº”çš„å¤´ä¿¡æ¯</p><p>request: åˆ›å»ºçš„AJAXå®ä¾‹</p><p>status: çŠ¶æ€ç </p><p>statusText: çŠ¶æ€ç çš„æè¿°</p><p>config: åŸºäºAxioså‘é€è¯·æ±‚çš„æ—¶å€™åšçš„é…ç½®é¡¹</p></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      axiosçš„åŸºç¡€è¯­æ³•
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>JSONP</title>
    <link href="https://extheor.github.io/posts/738eee3b/index.html"/>
    <id>https://extheor.github.io/posts/738eee3b/index.html</id>
    <published>2020-09-05T01:40:25.000Z</published>
    <updated>2020-09-13T06:32:07.287Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="jsonp"><a class="markdownIt-Anchor" href="#jsonp"></a> JSONP</h1><h2 id="jsonpæ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#jsonpæ˜¯ä»€ä¹ˆ"></a> JSONPæ˜¯ä»€ä¹ˆ</h2><p>JSONP(JSON with Paddingï¼‰æ˜¯JSONçš„ä¸€ç§â€œä½¿ç”¨æ¨¡å¼â€ï¼Œå¯ç”¨äºè§£å†³ä¸»æµæµè§ˆå™¨çš„è·¨åŸŸæ•°æ®è®¿é—®çš„é—®é¢˜ã€‚</p><p>åˆ©ç”¨ <code>&lt;script&gt;</code> å…ƒç´ çš„è¿™ä¸ªå¼€æ”¾ç­–ç•¥ï¼Œç½‘é¡µå¯ä»¥å¾—åˆ°ä»å…¶ä»–æ¥æºåŠ¨æ€äº§ç”Ÿçš„JSONèµ„æ–™ï¼Œè€Œè¿™ç§ä½¿ç”¨æ¨¡å¼å°±æ˜¯æ‰€è°“çš„JSONPã€‚</p><h2 id="scriptå…ƒç´ å®ç°"><a class="markdownIt-Anchor" href="#scriptå…ƒç´ å®ç°"></a> <code>&lt;script&gt;</code>å…ƒç´ å®ç°</h2><p>ç½‘é¡µé€šè¿‡æ·»åŠ ä¸€ä¸ª <code>&lt;script&gt;</code> å…ƒç´ ï¼Œå‘æœåŠ¡å™¨è¯·æ±‚JSONæ•°æ®ï¼Œè¿™ç§åšæ³•ä¸å—åŒæºæ”¿ç­–é™åˆ¶;æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œå°†æ•°æ®æ”¾åœ¨ä¸€ä¸ªæŒ‡å®šåå­—çš„å›è°ƒå‡½æ•°é‡Œä¼ å›æ¥ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addScriptTag</span>(<span class="params">src</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">    script.setAttribute(<span class="string">"typ.e"</span><span class="string">"text/jaxascript"</span>);</span><br><span class="line">    script.src = src;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">addScriptTag(<span class="string">'http://127.0.0.1:3000?callback=foo'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Your public IP address is: '</span> + data.ip);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç æ¼”ç¤º</p><ul><li><p>é¦–å…ˆå†™ä¸€ä¸ªæœåŠ¡å™¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥Node.jsä¸­çš„httpæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"><span class="comment">// å®šä¹‰å½“å‰æœåŠ¡çš„IPåœ°å€å’Œç«¯å£å·</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">"127.0.0.1"</span>; <span class="comment">// è¡¨ç¤ºæœ¬æœº</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * createServer(callback)æ–¹æ³• - è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæœåŠ¡</span></span><br><span class="line"><span class="comment"> * * callback - è¡¨ç¤ºå›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment"> *   function(request, response)&#123;&#125;</span></span><br><span class="line"><span class="comment"> *   * request - è¡¨ç¤ºè¯·æ±‚(ç”¨äºæ¥æ”¶å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯çš„è¯·æ±‚)</span></span><br><span class="line"><span class="comment"> *   * response - è¡¨ç¤ºå“åº”(ç”¨äºæ¥æ”¶æœåŠ¡å™¨ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„å¤„ç†ç»“æœ)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.statusCode = <span class="number">200</span>;</span><br><span class="line">  res.setHeader(<span class="string">"Content-Type"</span>, <span class="string">"text/plain"</span>);</span><br><span class="line">  <span class="comment">// res.setHeader("Access-Control-Allow-Origin", "*");</span></span><br><span class="line">  res.end(<span class="string">'fn(&#123;"msg": "Hello World!"&#125;)'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>ç„¶åå†å†™ä¸€ä¸ªè·¨åŸŸè¯·æ±‚çš„ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>scriptå…ƒç´ å®ç°JSONPè·¨åŸŸ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        é€šè¿‡&lt;script&gt;å…ƒç´ å®ç°JSONPè·¨åŸŸè®¿é—®</span></span><br><span class="line"><span class="comment">        * åˆ©ç”¨&lt;script&gt;å…ƒç´ çš„srcå±æ€§æŒ‡å®šæœåŠ¡å™¨ç«¯åœ°å€</span></span><br><span class="line"><span class="comment">        * åŒæ—¶å°†æŒ‡å®šçš„å›è°ƒå‡½æ•°åç§°å‘é€æŒ‡å®šæœåŠ¡å™¨</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// å®šä¹‰å‘é€æœåŠ¡å™¨ç«¯çš„å›è°ƒå‡½æ•° - åˆ©ç”¨å‚æ•°æ–¹å¼è¿›è¡Œæ¥æ”¶</span></span></span><br><span class="line"><span class="actionscript">      <span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(data)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(data);</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://127.0.0.1:3000?callback=fn"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é¡µé¢è¿”å›ç»“æœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/script%E8%B7%A8%E5%9F%9F%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C.png" alt="" /></p></li><li><p>åˆ†æå›¾</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/script%E5%85%83%E7%B4%A0%E5%AE%9E%E7%8E%B0JSONP%E8%B7%A8%E5%9F%9F%E8%AE%BF%E9%97%AE.png" alt="" /></p></li></ul><h2 id="getjsonæ–¹æ³•"><a class="markdownIt-Anchor" href="#getjsonæ–¹æ³•"></a> getJSON()æ–¹æ³•</h2><ul><li><p>é¦–å…ˆå†™ä¸€ä¸ªæœåŠ¡å™¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥Node.jsä¸­çš„httpæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"><span class="comment">// å®šä¹‰å½“å‰æœåŠ¡çš„IPåœ°å€å’Œç«¯å£å·</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">"127.0.0.1"</span>; <span class="comment">// è¡¨ç¤ºæœ¬æœº</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * createServer(callback)æ–¹æ³• - è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæœåŠ¡</span></span><br><span class="line"><span class="comment"> * * callback - è¡¨ç¤ºå›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment"> *   function(request, response)&#123;&#125;</span></span><br><span class="line"><span class="comment"> *   * request - è¡¨ç¤ºè¯·æ±‚(ç”¨äºæ¥æ”¶å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯çš„è¯·æ±‚)</span></span><br><span class="line"><span class="comment"> *   * response - è¡¨ç¤ºå“åº”(ç”¨äºæ¥æ”¶æœåŠ¡å™¨ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„å¤„ç†ç»“æœ)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> url = req.url;</span><br><span class="line">  <span class="built_in">console</span>.log(url);</span><br><span class="line">  <span class="comment">// var urlObj = require("url").parse(url);</span></span><br><span class="line">  <span class="comment">// console.log(urlObj);</span></span><br><span class="line">  <span class="keyword">var</span> functionName = url.split(<span class="string">"&amp;"</span>)[<span class="number">0</span>].split(<span class="string">"="</span>)[<span class="number">1</span>];</span><br><span class="line">  <span class="built_in">console</span>.log(functionName);</span><br><span class="line"></span><br><span class="line">  res.statusCode = <span class="number">200</span>;</span><br><span class="line">  res.setHeader(<span class="string">"Content-Type"</span>, <span class="string">"text/plain"</span>);</span><br><span class="line">  <span class="comment">// res.setHeader("Access-Control-Allow-Origin", "*");</span></span><br><span class="line">  res.end(functionName + <span class="string">'(&#123;"msg": "Hello World!"&#125;)'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å†™çš„æ—¶å€™éœ€è¦è·å–åˆ°jQueryæä¾›çš„éšæœºå‡½æ•°å</p></li><li><p>ç„¶åå†å†™ä¸€ä¸ªè·¨åŸŸè¯·æ±‚çš„ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>getHJSONå®ç°è·¨åŸŸè®¿é—®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $.getJSON(<span class="string">"http://127.0.0.1:3000?callback=?"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(data);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é¡µé¢è¿”å›ç»“æœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/script%E8%B7%A8%E5%9F%9F%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C.png" alt="" /></p></li></ul>]]></content>
    
    <summary type="html">
    
      JSONP
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>å¸¸è§è·¨åŸŸ</title>
    <link href="https://extheor.github.io/posts/35e2bcf6/index.html"/>
    <id>https://extheor.github.io/posts/35e2bcf6/index.html</id>
    <published>2020-09-05T01:40:25.000Z</published>
    <updated>2020-09-13T06:31:25.946Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="å¸¸è§è·¨åŸŸ"><a class="markdownIt-Anchor" href="#å¸¸è§è·¨åŸŸ"></a> å¸¸è§è·¨åŸŸ</h1><p>HTMLé¡µé¢ä¸­ä¸€äº›å…è®¸æŒ‡å®šè·¯å¾„çš„å…ƒç´ å…·æœ‰è·¨åŸŸç‰¹æ€§:</p><ul><li><code>&lt;link&gt;</code> å…ƒç´ </li><li><code>&lt;script&gt;</code> å…ƒç´ </li><li><code>&lt;img&gt;</code> å…ƒç´ </li><li><code>&lt;ifrane&gt;</code> å…ƒç´ </li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/iquery/3.3.1/jquery.is"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://c.hiphotas.baidu.cam/image/pic/item/b58f8c5494eef01f40ef23e9edfe9925bc317d26.jpg"</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      å¸¸è§è·¨åŸŸ
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>è·¨åŸŸè®¿é—®æ˜¯ä»€ä¹ˆ</title>
    <link href="https://extheor.github.io/posts/2d020832/index.html"/>
    <id>https://extheor.github.io/posts/2d020832/index.html</id>
    <published>2020-09-05T01:35:21.000Z</published>
    <updated>2020-09-13T06:30:42.604Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="è·¨åŸŸè®¿é—®æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#è·¨åŸŸè®¿é—®æ˜¯ä»€ä¹ˆ"></a> è·¨åŸŸè®¿é—®æ˜¯ä»€ä¹ˆ</h1><h2 id="åŒæºç­–ç•¥"><a class="markdownIt-Anchor" href="#åŒæºç­–ç•¥"></a> åŒæºç­–ç•¥</h2><p>1995å¹´ï¼ŒåŒæºæ”¿ç­–ç”±Netscapeå…¬å¸å¼•äººæµè§ˆå™¨ã€‚ç›®å‰ï¼Œæ‰€æœ‰æµ‹è§ˆå™¨éƒ½å®è¡Œè¿™ä¸ªæ”¿ç­–ã€‚åŒæºæ”¿ç­–çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®ã€‚éšç€äº’è”ç½‘çš„å‘å±•ï¼Œâ€œåŒæºæ”¿ç­–â€è¶Šæ¥è¶Šä¸¥æ ¼ã€‚ç›®å‰ï¼Œå¦‚æœéåŒæºï¼Œå…±æœ‰ä¸‰ç§è¡Œä¸ºå—åˆ°é™åˆ¶:ã€‘</p><ol><li>Cookieã€LocalStorageå’ŒIndexDBæ— æ³•è¯»å–</li><li>DOMæ— æ³•è·å¾—</li><li>AJAXè¯·æ±‚ä¸èƒ½å‘é€</li></ol><p>è™½ç„¶è¿™äº›é™åˆ¶æ˜¯å¿…è¦çš„ï¼Œä½†æ˜¯æœ‰æ—¶å¾ˆä¸æ–¹ä¾¿ï¼Œåˆç†çš„ç”¨é€”ä¹Ÿå—åˆ°å½±å“ã€‚</p><p>æ‰€è°“â€œåŒæºâ€æŒ‡çš„æ˜¯â€œä¸‰ä¸ªç›¸åŒâ€: åè®®ç›¸åŒã€åŸŸåç›¸åŒä»¥åŠç«¯ç›¸åŒã€‚</p><h2 id="åŸŸåæ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#åŸŸåæ˜¯ä»€ä¹ˆ"></a> åŸŸåæ˜¯ä»€ä¹ˆ</h2><p>åŸŸå(Domain Nameï¼‰åˆç§°ä¸ºç½‘åŸŸï¼Œæ˜¯ç”±ä¸€ä¸²ç”¨ç‚¹åˆ†éš”çš„åå­—ç»„æˆçš„Internetä¸ŠæŸä¸€å°è®¡ç®—æœºæˆ–è®¡ç®—æœºç»„çš„åç§°ï¼Œç”¨äºåœ¨æ•°æ®ä¼ è¾“æ—¶æ ‡è¯†è®¡ç®—æœºçš„ç”µå­æ–¹ä½ï¼ˆæœ‰æ—¶ä¹ŸæŒ‡åœ°ç†ä½ç½®ï¼‰ã€‚</p><table><thead><tr><th>URL</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><a href="http://www.a.com/a.js%E5%92%8C" target="_blank" rel="noopener">http://www.a.com/a.jså’Œ</a> <a href="http://www.acom/b.js" target="_blank" rel="noopener">http://www.acom/b.js</a></td><td>åŒä¸€åŸŸåä¸‹</td></tr><tr><td><a href="http://www.a.corm/lab/a.js%E5%92%8C" target="_blank" rel="noopener">http://www.a.corm/lab/a.jså’Œ</a> <a href="http://www.acorm/script/b.js" target="_blank" rel="noopener">http://www.acorm/script/b.js</a></td><td>åŒä¸€åŸŸåä¸‹ä¸åŒæ–‡ä»¶å¤¹</td></tr><tr><td><a href="http://www.a.com:8000/a.js%E5%92%8C" target="_blank" rel="noopener">http://www.a.com:8000/a.jså’Œ</a> <a href="http://www.a.com/b.js" target="_blank" rel="noopener">http://www.a.com/b.js</a></td><td>åŒä¸€åŸŸåï¼Œä¸åŒç«¯å£</td></tr><tr><td><a href="http://www.a.com/a.js%E5%92%8C" target="_blank" rel="noopener">http://www.a.com/a.jså’Œ</a> <a href="https://www.a.com/b.js" target="_blank" rel="noopener">https://www.a.com/b.js</a></td><td>åŒä¸€åŸŸåï¼Œä¸åŒåè®®</td></tr><tr><td><a href="http://www.a.com/a.js%E5%92%8Chttp://127.0.0.100/b.js" target="_blank" rel="noopener">http://www.a.com/a.jså’Œhttp://127.0.0.100/b.js</a></td><td>åŸŸåå’ŒåŸŸåå¯¹åº”ip</td></tr><tr><td><a href="http://www.a.com/a.js%E5%92%8C" target="_blank" rel="noopener">http://www.a.com/a.jså’Œ</a> <a href="http://script.a.com/b.js" target="_blank" rel="noopener">http://script.a.com/b.js</a></td><td>ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒ</td></tr><tr><td><a href="http://www.a.com/a.js%E5%92%8C" target="_blank" rel="noopener">http://www.a.com/a.jså’Œ</a> <a href="http://a.com/b.js" target="_blank" rel="noopener">http://a.com/b.js</a></td><td>åŒä¸€åŸŸåï¼Œä¸åŒäºŒçº§åŸŸåï¼ˆåŒä¸Š)</td></tr><tr><td><a href="http://www.a.com/a.js%E5%92%8C" target="_blank" rel="noopener">http://www.a.com/a.jså’Œ</a> <a href="http://www.b.com/b.js" target="_blank" rel="noopener">http://www.b.com/b.js</a></td><td>ä¸åŒåŸŸå</td></tr></tbody></table><p>è®¿é—®çš„URLåœ°å€:ç½‘ç»œåè®®ï¼‹åŸŸå(IPåœ°å€ï¼‰ï¼‹ç«¯å£å·ï¼‹èµ„æºè·¯å¾„</p><ul><li><p>åŒæº:ç½‘ç»œåè®®ç›¸åŒã€åŸŸåç›¸åŒä»¥åŠç«¯å£å·ç›¸åŒ</p></li><li><p>ä¸åŒæº:</p><ol><li>åŸŸåä¸ç›¸åŒ: å®Œå…¨è·¨åŸŸ</li><li>åŸŸåç›¸åŒï¼Œç«¯å£å·ä¸åŒ: è·¨å­åŸŸ</li></ol></li></ul><p>äº’è”ç½‘é»˜è®¤åŸåˆ™: åŒæºç­–ç•¥(ä¸å…è®¸è·¨åŸŸè®¿é—®ï¼‰</p><h2 id="è·¨åŸŸæ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#è·¨åŸŸæ˜¯ä»€ä¹ˆ"></a> è·¨åŸŸæ˜¯ä»€ä¹ˆ</h2><p>å½“ä¸€ä¸ªèµ„æºä»ä¸è¯¥èµ„æºæœ¬èº«æ‰€åœ¨çš„æœåŠ¡å™¨ä¸åŒçš„åŸŸæˆ–ç«¯è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œèµ„æºä¼šå‘èµ·ä¸€ä¸ªè·¨åŸŸHTTPè¯·æ±‚ã€‚</p><p>å‡ºäºå®‰å…¨åŸå› ï¼Œæµè§ˆå™¨é™åˆ¶ä»è„šæœ¬å†…å‘èµ·çš„è·¨æºHTTPè¯·æ±‚ã€‚ä¾‹å¦‚ï¼ŒXMLHttpRequestå’ŒFetchAPIéµå¾ªåŒæºç­–ç•¥ã€‚è¿™æ„å‘³ç€ä½¿ç”¨è¿™äº›APIçš„Webåº”ç”¨ç¨‹åºåªèƒ½ä»åŠ è½½åº”ç”¨ç¨‹åºçš„åŒä¸€ä¸ªåŸŸè¯·æ±‚HTTPèµ„æºã€‚</p><p>å¸¸è§è·¨åŸŸåˆ†ä¸ºä»¥ä¸‹ä¸¤ç§:</p><ul><li>å®Œå…¨è·¨åŸŸ: å°±æ˜¯æŒ‡ä¸€ä¸ªé¡¶çº§åŸŸåæ–¹å‘å¦ä¸€ä¸ªé¡¶çº§åŸŸåã€‚</li><li>è·¨å­åŸŸ: ç›¸åŒé¡¶çº§åŸŸåä¸‹çš„ä¸¤ä¸ªå­çº§åŸŸåç›¸äº’é€šä¿¡ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      è·¨åŸŸè®¿é—®æ˜¯ä»€ä¹ˆ
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>å¼‚æ­¥æäº¤è¡¨å•</title>
    <link href="https://extheor.github.io/posts/51139400/index.html"/>
    <id>https://extheor.github.io/posts/51139400/index.html</id>
    <published>2020-09-04T09:14:37.000Z</published>
    <updated>2020-09-04T09:15:41.470Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="å¼‚æ­¥æäº¤è¡¨å•"><a class="markdownIt-Anchor" href="#å¼‚æ­¥æäº¤è¡¨å•"></a> å¼‚æ­¥æäº¤è¡¨å•</h1><h2 id="å¼‚æ­¥æäº¤è¡¨å•çš„æ­¥éª¤"><a class="markdownIt-Anchor" href="#å¼‚æ­¥æäº¤è¡¨å•çš„æ­¥éª¤"></a> å¼‚æ­¥æäº¤è¡¨å•çš„æ­¥éª¤</h2><p>æ‰€è°“å¼‚æ­¥æäº¤è¡¨å•ï¼Œå°±æ˜¯ä¸å†ä½¿ç”¨è¡¨å•çš„æäº¤æŒ‰é’®å®ç°è¡¨å•çš„æäº¤åŠŸèƒ½ï¼Œè€Œæ˜¯é€šè¿‡Ajaxå¼‚æ­¥äº¤äº’æ–¹å¼å®ç°è¡¨å•æäº¤ã€‚å…·ä½“å®ç°æ­¥éª¤å¦‚ä¸‹:</p><ol><li>è·å–è¡¨å•åŠæ‰€æœ‰è¡¨å•ç»„ä»¶å¯¹åº”çš„æ•°æ®å€¼ã€‚</li><li>å°†æ‰€æœ‰è¡¨å•ç»„ä»¶å¯¹åº”çš„æ•°æ®å€¼æ‹¼æˆç‰¹å®šæ ¼å¼çš„å­—ç¬¦ä¸²æˆ–æ˜¯JSONæ ¼å¼æ•°æ®ã€‚</li><li>é€šè¿‡Ajaxå¼‚æ­¥äº¤äº’æ–¹å¼æäº¤è¡¨å•ã€‚</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> info = <span class="string">'username='</span>+$(<span class="string">'#username'</span>).val()+<span class="string">'&amp;password='</span>+$(<span class="string">'#password'</span>).val();</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    url: <span class="string">"server.js',</span></span><br><span class="line"><span class="string">    type: 'post',</span></span><br><span class="line"><span class="string">    data: info,</span></span><br><span class="line"><span class="string">    success: function(data)&#123;</span></span><br><span class="line"><span class="string">    console.log(data);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;);</span></span><br></pre></td></tr></table></figure><p>å¼‚æ­¥æäº¤è¡¨å•çš„æ¡ˆä¾‹</p><ul><li><p>JSONæ–‡ä»¶</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"username"</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">  <span class="attr">"password"</span>: <span class="string">"123456"</span>,</span><br><span class="line">  <span class="attr">"msg"</span>: <span class="string">"ç™»å½•æˆåŠŸï¼"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>HTMLæ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>å¼‚æ­¥æäº¤è¡¨å•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      input &#123;</span><br><span class="line">        display: block;</span><br><span class="line">        margin-bottom: 10px;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> /&gt;</span> å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $form = $(<span class="string">"form"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $username = $(<span class="string">"#username"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $password = $(<span class="string">"#password"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      $form.bind(<span class="string">"submit"</span>, <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// é˜»æ­¢è¡¨å•é»˜è®¤çš„åŒæ­¥æäº¤</span></span></span><br><span class="line">        event.preventDefault();</span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. è·å–è¡¨å•ç»„ä»¶çš„æ•°æ®å†…å®¹</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> username = $username.val();</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> password = $password.val();</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(username);</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(password);</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// postè¯·æ±‚æ–¹å¼</span></span></span><br><span class="line"><span class="javascript">        $.<span class="keyword">get</span>("data/server5.json", &#123; username &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//   console.log(response);</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> usernameJson = response.username;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> passwordJson = response.password;</span></span><br><span class="line">          if (username === usernameJson &amp;&amp; password === passwordJson) &#123;</span><br><span class="line"><span class="actionscript">            alert(<span class="string">"ç™»å½•æˆåŠŸ!"</span>);</span></span><br><span class="line"><span class="actionscript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">            alert(<span class="string">"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯"</span>);</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E5%BC%82%E6%AD%A5%E6%8F%90%E4%BA%A4%E8%A1%A8%E5%8D%95.gif" alt="" /></p></li></ul><h2 id="è¡¨å•åºåˆ—åŒ–"><a class="markdownIt-Anchor" href="#è¡¨å•åºåˆ—åŒ–"></a> è¡¨å•åºåˆ—åŒ–</h2><ol><li>serialize()æ–¹æ³•: å°†è¡¨å•ç»„ä»¶å¯¹åº”çš„æ•°æ®å€¼åºåˆ—åŒ–ä¸ºæŒ‡å®šæ ¼å¼çš„å­—ç¬¦ä¸²å†…å®¹ã€‚</li></ol>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'form'</span>).serialize()</span><br></pre></td></tr></table></figure><ol start="2"><li><p>serializeArray()æ–¹æ³•: å°†è¡¨å•ç»„ä»¶å¯¹åº”çš„æ•°æ®å€¼åºåˆ—åŒ–ä¸ºJSONæ ¼å¼çš„æ•°æ®å†…å®¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'select, :radio'</span>).serializeArray()</span><br></pre></td></tr></table></figure></li></ol><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è¡¨å•åºåˆ—åŒ–<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      input &#123;</span><br><span class="line">        display: block;</span><br><span class="line">        margin-bottom: 10px;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">id</span>=<span class="string">"username"</span> /&gt;</span> å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"password"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $form = $(<span class="string">"form"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $username = $(<span class="string">"#username"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $password = $(<span class="string">"#password"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      $form.bind(<span class="string">"submit"</span>, <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// é˜»æ­¢è¡¨å•é»˜è®¤çš„åŒæ­¥æäº¤</span></span></span><br><span class="line">        event.preventDefault();</span><br><span class="line"><span class="actionscript">        <span class="comment">// è¡¨å•åºåˆ—åŒ– - æ ¹æ®è¡¨å•é»˜è®¤åŒæ­¥æäº¤è·å–æ•°æ®çš„æ–¹å¼</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// var data = $("form").serialize();</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(data);</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> data = $(<span class="string">"form"</span>).serializeArray();</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(data);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// postè¯·æ±‚æ–¹å¼</span></span></span><br><span class="line"><span class="actionscript">        $.get(<span class="string">"data/server5.json"</span>, data, <span class="function"><span class="keyword">function</span> <span class="params">(response)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(response);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E8%A1%A8%E5%8D%95%E5%BA%8F%E5%88%97%E5%8C%96.png" alt="" /></p>]]></content>
    
    <summary type="html">
    
      å¼‚æ­¥æäº¤è¡¨å•
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>æœç´¢æç¤ºæ¡†æ•ˆæœ</title>
    <link href="https://extheor.github.io/posts/152fa65b/index.html"/>
    <id>https://extheor.github.io/posts/152fa65b/index.html</id>
    <published>2020-09-04T09:13:32.000Z</published>
    <updated>2020-09-04T09:15:41.472Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="æœç´¢æç¤ºæ¡†æ•ˆæœ"><a class="markdownIt-Anchor" href="#æœç´¢æç¤ºæ¡†æ•ˆæœ"></a> æœç´¢æç¤ºæ¡†æ•ˆæœ</h1><ul><li><p>é¦–å…ˆå†™é™æ€é¡µé¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æœç´¢æ¡† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"search"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åŠ¨æ€æç¤ºçš„æ•°æ®æ¡†liebia --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"alert"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>CSSæ ·å¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: darkgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#search</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#alert</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">312px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">display</span>: none; <span class="comment">/* å°†ulåˆ—è¡¨éšè— */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#alert</span> &gt; <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#alert</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">0.5px</span> solid <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#alert</span> &gt; <span class="selector-tag">ul</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>JSä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $search = $(<span class="string">"#search"</span>);</span><br><span class="line"><span class="keyword">var</span> $alert = $(<span class="string">"#alert"</span>);</span><br><span class="line"><span class="keyword">var</span> $alertUl = $(<span class="string">"#alert&gt;ul"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºåˆ—è¡¨çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clearUl</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $alertUl.empty();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$search</span><br><span class="line">    .bind(<span class="string">"input"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ¸…ç©ºåˆ—è¡¨</span></span><br><span class="line">    clearUl();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–åˆ°ç”¨æˆ·æ‰€è¾“å…¥çš„å†…å®¹</span></span><br><span class="line">    <span class="keyword">var</span> value = $(<span class="keyword">this</span>).val();</span><br><span class="line">    <span class="comment">// console.log(value);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨getJSONæ–¹æ³•è·å–jsonæ•°æ®</span></span><br><span class="line">    $.getJSON(<span class="string">"data/server4.json"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// console.log(data);</span></span><br><span class="line">        <span class="comment">// è·å–åˆ°jsonæ•°æ®ä¸­çš„nameå€¼</span></span><br><span class="line">        $.each(data, <span class="function"><span class="keyword">function</span> (<span class="params">input, obj</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// console.log(obj);</span></span><br><span class="line">            <span class="keyword">var</span> name = obj.name;</span><br><span class="line">            <span class="comment">// console.log(name);</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (name.indexOf(value) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// è¡¨ç¤ºè¾“å…¥çš„å†…å®¹åœ¨nameä¸­å­˜åœ¨</span></span><br><span class="line">                <span class="keyword">var</span> valueArr = obj.value;</span><br><span class="line">                <span class="comment">// console.log(valueArr);</span></span><br><span class="line">                $.each(valueArr, <span class="function"><span class="keyword">function</span> (<span class="params">input, text</span>) </span>&#123;</span><br><span class="line">                    <span class="comment">// console.log(text);</span></span><br><span class="line">                    <span class="comment">// å°†æ•°æ®æ·»åŠ åˆ°HTMLé¡µé¢</span></span><br><span class="line">                    $alertUl.append(<span class="string">`&lt;li&gt;<span class="subst">$&#123;text&#125;</span>&lt;/li&gt;`</span>);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†ulåˆ—è¡¨æ˜¾ç¤ºå‡ºæ¥</span></span><br><span class="line">    $alert.css(<span class="string">"display"</span>, <span class="string">"block"</span>);</span><br><span class="line">&#125;)</span><br><span class="line">    .bind(<span class="string">"blur"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $alert.css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>å®ç°æ•ˆæœ</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E6%90%9C%E7%B4%A2%E6%A1%86%E6%8F%90%E7%A4%BA%E6%95%88%E6%9E%9C.gif" alt="" /></p></li></ul>]]></content>
    
    <summary type="html">
    
      æœç´¢æç¤ºæ¡†æ•ˆæœ
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>jQueryç‰ˆä¸‰çº§è”åŠ¨æ¡ˆä¾‹</title>
    <link href="https://extheor.github.io/posts/61477045/index.html"/>
    <id>https://extheor.github.io/posts/61477045/index.html</id>
    <published>2020-09-03T14:51:47.000Z</published>
    <updated>2020-09-03T14:53:40.760Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="jqueryç‰ˆä¸‰çº§è”åŠ¨æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#jqueryç‰ˆä¸‰çº§è”åŠ¨æ¡ˆä¾‹"></a> jQueryç‰ˆä¸‰çº§è”åŠ¨æ¡ˆä¾‹</h1><ul><li><p>é¦–å…ˆå†™ä¸€ä¸ªJSONæ•°æ®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"province"</span>: <span class="string">"å‰æ—çœ"</span>,</span><br><span class="line">    <span class="attr">"cities"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"é•¿æ˜¥å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"æœé˜³åŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"å‰æ—å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"ä¸œåŸåŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"è€åŸåŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"ç™½å±±å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"äºŒé“åŒº"</span>, <span class="string">"æ²³ä¸œåŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"province"</span>: <span class="string">"è¾½å®çœ"</span>,</span><br><span class="line">    <span class="attr">"cities"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"æ²ˆé˜³å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"æœé˜³åŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"å¤§è¿å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"ä¸œåŸåŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"è€åŸåŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"é“å²­å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"äºŒé“åŒº"</span>, <span class="string">"æ²³ä¸œåŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"province"</span>: <span class="string">"å±±ä¸œçœ"</span>,</span><br><span class="line">    <span class="attr">"cities"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"é’å²›å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"æœé˜³åŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"æµå—å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"ä¸œåŸåŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"è€åŸåŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"å¨æµ·å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"äºŒé“åŒº"</span>, <span class="string">"æ²³ä¸œåŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>ç„¶åç”¨AjaxåŠ¨æ€è·å–JSONæ–‡ä»¶ä¸­çš„æ•°æ®</p></li><li><p>å®Œæ•´ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ä¸‰çº§è”åŠ¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸‰çº§è”åŠ¨ - ä¸¤ä¸ªäºŒçº§è”åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"province"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"city"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"county"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $province = $(<span class="string">"#province"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $city = $(<span class="string">"#city"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $county = $(<span class="string">"#county"</span>);</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> json;</span></span><br><span class="line"><span class="javascript">      $.getJSON(<span class="string">"data/server1.json"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// æŠŠdataä¿å­˜åˆ°jsonå…¨å±€å˜é‡ä¸­</span></span></span><br><span class="line">        json = data;</span><br><span class="line"><span class="actionscript">        <span class="comment">// éå†dataæ•°æ®</span></span></span><br><span class="line"><span class="javascript">        $.each(data, <span class="function"><span class="keyword">function</span> (<span class="params">index, obj</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// è·å–æ‰€æœ‰çš„çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> provinceName = obj.province;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//   console.log(provinceName);</span></span></span><br><span class="line"><span class="actionscript">          <span class="comment">// å°†çœä»½ä¿¡æ¯æ·»åŠ åˆ°å¯¹åº”çš„selectå…ƒç´ ä¸­</span></span></span><br><span class="line">          $province.append(</span><br><span class="line"><span class="javascript">            <span class="string">`&lt;option value="<span class="subst">$&#123;provinceName&#125;</span>"&gt;<span class="subst">$&#123;provinceName&#125;</span>&lt;/option&gt;`</span></span></span><br><span class="line">          );</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        $province.change(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// å°†åŸå¸‚ä¸‹æ‹‰åˆ—è¡¨çš„é€‰é¡¹æ¸…ç©º</span></span></span><br><span class="line">          $city.empty();</span><br><span class="line"><span class="handlebars"><span class="xml">          $city.append(`<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span>`);</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">          <span class="comment">// è·å–åˆ°æ‰€é€‰æ‹©çš„åŸå¸‚çš„æ–‡æœ¬ä¿¡æ¯</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> provinceElementName = $(<span class="keyword">this</span>).children(<span class="string">"option:selected"</span>).text();</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//   console.log(provinceElementName);</span></span></span><br><span class="line"><span class="javascript">          $.each(json, <span class="function"><span class="keyword">function</span> (<span class="params">index, obj</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> provinceName = obj.province;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(provinceName);</span></span></span><br><span class="line">            if (provinceElementName === provinceName) &#123;</span><br><span class="line"><span class="actionscript">              <span class="comment">// è·å–åˆ°åŸå¸‚æ•°ç»„é›†åˆ</span></span></span><br><span class="line"><span class="actionscript">              <span class="keyword">var</span> cities = obj.cities;</span></span><br><span class="line"><span class="actionscript">              <span class="comment">// éå†åŸå¸‚æ•°ç»„é›†åˆ</span></span></span><br><span class="line"><span class="javascript">              $.each(cities, <span class="function"><span class="keyword">function</span> (<span class="params">index, obj</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// console.log(obj.city);</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// è·å–åˆ°åŸå¸‚åç§°</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> cityName = obj.city;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// å°†è¯¥çœå¯¹åº”çš„åŸå¸‚åç§°æ·»åŠ åˆ°å¯¹åº”çš„selectä¸­</span></span></span><br><span class="line">                $city.append(</span><br><span class="line"><span class="javascript">                  <span class="string">`&lt;option value="<span class="subst">$&#123;cityName&#125;</span>"&gt;<span class="subst">$&#123;cityName&#125;</span>&lt;/option&gt;`</span></span></span><br><span class="line">                );</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        $city.change(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// å°†åŒºçº§ä¸‹æ‹‰åˆ—è¡¨çš„é€‰é¡¹æ¸…ç©º</span></span></span><br><span class="line">          $county.empty();</span><br><span class="line"><span class="handlebars"><span class="xml">          $county.append(`<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span>`);</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">          <span class="comment">// è·å–åˆ°æ‰€é€‰æ‹©çš„åŸå¸‚çš„æ–‡æœ¬ä¿¡æ¯</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> cityElementName = $(<span class="keyword">this</span>).children(<span class="string">"option:selected"</span>).text();</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//   console.log(cityElementName);</span></span></span><br><span class="line"><span class="javascript">          $.each(json, <span class="function"><span class="keyword">function</span> (<span class="params">index, obj</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// è·å–è¯¥çœå¯¹åº”çš„æ‰€æœ‰çš„åŸå¸‚ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> cities = obj.cities;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(cities);</span></span></span><br><span class="line"><span class="javascript">            $.each(cities, <span class="function"><span class="keyword">function</span> (<span class="params">index, cityObj</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">              <span class="comment">//   console.log(cityObj.city);</span></span></span><br><span class="line"><span class="actionscript">              <span class="keyword">var</span> cityName = cityObj.city;</span></span><br><span class="line">              if (cityElementName === cityName) &#123;</span><br><span class="line"><span class="actionscript">                <span class="comment">// è·å–åˆ°åŒºçº§æ•°ç»„é›†åˆ</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// console.log(cityObj.counties);</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> counties = cityObj.counties;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// éå†åŒºçº§æ•°ç»„é›†åˆ</span></span></span><br><span class="line"><span class="javascript">                $.each(counties, <span class="function"><span class="keyword">function</span> (<span class="params">index, value</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="comment">// è·å–åˆ°åŒºçº§åç§°</span></span></span><br><span class="line"><span class="actionscript">                  <span class="comment">//   console.log(value);</span></span></span><br><span class="line"><span class="actionscript">                  <span class="comment">// å°†è¯¥åŸå¸‚å¯¹åº”çš„åŒºçº§åç§°æ·»åŠ åˆ°å¯¹åº”çš„selectå…ƒç´ ä¸­</span></span></span><br><span class="line"><span class="javascript">                  $county.append(<span class="string">`&lt;option value="<span class="subst">$&#123;value&#125;</span>"&gt;<span class="subst">$&#123;value&#125;</span>&lt;/option&gt;`</span>);</span></span><br><span class="line">                &#125;);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A802.gif" alt="" /></p></li></ul>]]></content>
    
    <summary type="html">
    
      jQueryç‰ˆä¸‰çº§è”åŠ¨æ¡ˆä¾‹
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>jQueryä¸­çš„Ajax</title>
    <link href="https://extheor.github.io/posts/a094d027/index.html"/>
    <id>https://extheor.github.io/posts/a094d027/index.html</id>
    <published>2020-09-03T14:51:34.000Z</published>
    <updated>2020-09-04T09:12:50.566Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="jqueryä¸­çš„ajax"><a class="markdownIt-Anchor" href="#jqueryä¸­çš„ajax"></a> jQueryä¸­çš„Ajax</h1><h2 id="æ–‡ç« ç›®å½•"><a class="markdownIt-Anchor" href="#æ–‡ç« ç›®å½•"></a> æ–‡ç« ç›®å½•</h2><ul><li><a href="#load()%E6%96%B9%E6%B3%95">load()æ–¹æ³•</a></li><li>[$.get()ä¸ .post()æ–¹æ³•](#.get()ä¸ $.post()æ–¹æ³•)</li><li>[.ajax()æ–¹æ³•](#.ajax()æ–¹æ³•)</li><li>[.getScript()æ–¹æ³•](#.getScript()æ–¹æ³•)</li><li>[.getJSON()æ–¹æ³•](#.getJSON()æ–¹æ³•)</li><li><a href="#Ajax%E7%9A%84%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6">Ajaxçš„å…¨å±€äº‹ä»¶</a></li></ul><p>jQueryä¸ä»…å¯¹JavaScriptè¯­è¨€è¿›è¡Œäº†å°è£…ï¼Œä¹Ÿå¯¹Ajaxå¼‚æ­¥äº¤äº’è¿›è¡Œäº†å°è£…ã€‚jQueryæä¾›äº†å…­ä¸ªAjaxæ“ä½œçš„æ–¹æ³•:</p><ul><li>load()æ–¹æ³•</li><li>$get()æ–¹æ³•å’Œ $.post()æ–¹æ³•</li><li>$ajax()æ–¹æ³•</li><li>$getScript(æ–¹æ³•å’Œ $getJSON()æ–¹æ³•</li></ul><p>jQueryé™¤äº†å°è£…äº†å…­ä¸ªAjaxæ“ä½œçš„æ–¹æ³•ï¼Œè¿˜æä¾›äº†ä»¥ä¸‹å‡ ç§äº‹ä»¶:</p><ul><li><p>ajaxStart()å’ŒajaxStop()äº‹ä»¶</p></li><li><p>ajaxComplete()äº‹ä»¶ã€ajaxSend()äº‹ä»¶ã€ajaxError()äº‹ä»¶å’ŒajaxSuccess()äº‹ä»¶</p></li></ul><h2 id="a-idloadæ–¹æ³•loadæ–¹æ³•a"><a class="markdownIt-Anchor" href="#a-idloadæ–¹æ³•loadæ–¹æ³•a"></a> <a id="load()æ–¹æ³•">load()æ–¹æ³•</a></h2><p>load()æ–¹æ³•æ˜¯jQueryä¸­æœ€ä¸ºç®€å•çš„Ajaxæ–¹æ³•ï¼Œå…¶è¯­æ³•ç»“æ„å¦‚ä¸‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$element.load(url,[data],[callback]);</span><br></pre></td></tr></table></figure><ul><li><p>url: è¯·æ±‚HTMLé¡µé¢çš„urlåœ°å€ã€‚</p></li><li><p>data: å‘é€ç»™æœåŠ¡å™¨ç«¯çš„key/valueå½¢å¼çš„æ•°æ®å†…å®¹ã€‚</p></li><li><p>callback: Ajaxè¯·æ±‚å®Œæˆæ—¶çš„å›è°ƒå‡½æ•°ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">$(<span class="string">'div'</span>).load(<span class="string">'server.js'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p><font color="red"><b>æ³¨æ„ï¼š</b></font> load()æ–¹æ³•çš„è¯·æ±‚æ–¹å¼ç”±æ˜¯å¦ä¼ é€’å‚æ•°å†³å®šã€‚å³ä¸ä¼ é€’ data å‚æ•°ï¼Œä¸ºGETæ–¹å¼;ä¼ é€’ data å‚æ•°ï¼Œä¸ºPOSTæ–¹å¼ã€‚</p></blockquote><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>load()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        /*</span><br><span class="line">            load(url, [data], [callback])æ–¹æ³•</span><br><span class="line">            * å‚æ•°</span><br><span class="line">                * url - å¼‚æ­¥è¯·æ±‚çš„åœ°å€</span><br><span class="line">                * data - å¼‚æ­¥è¯·æ±‚çš„æ•°æ®</span><br><span class="line">                * callback - å¼‚æ­¥è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°</span><br><span class="line">            * è¿”å›å€¼ - æœåŠ¡å™¨ç«¯çš„å“åº”ç»“æœ</span><br><span class="line">            * æ³¨æ„ - è‡ªåŠ¨å°†è¿”å›ç»“æœå†™å…¥åˆ°ç›®æ ‡å…ƒç´ ä¸­</span><br><span class="line">        */</span><br><span class="line"><span class="javascript">        $(<span class="string">"button"</span>).load(<span class="string">"data/server2.json"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"å¼‚æ­¥è¯·æ±‚æˆåŠŸ..."</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸ä¼ å…¥dataå‚æ•°ï¼Œé»˜è®¤ä¸ºGETè¯·æ±‚æ–¹å¼</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200903182518155.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nvb2xfYnJlZXplXw==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>load()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        /*</span><br><span class="line">            load(url, [data], [callback])æ–¹æ³•</span><br><span class="line">            * å‚æ•°</span><br><span class="line">                * url - å¼‚æ­¥è¯·æ±‚çš„åœ°å€</span><br><span class="line">                * data - å¼‚æ­¥è¯·æ±‚çš„æ•°æ®</span><br><span class="line">                * å¦‚æœçœç•¥è¯·æ±‚æ•°æ®çš„è¯ï¼Œå½“å‰çš„è¯·æ±‚æ•°æ®çš„è¯ï¼Œå½“å‰çš„è¯·æ±‚æ–¹å¼ä¸ºGET</span><br><span class="line">                    * å¦‚æœå‘é€è¯·æ±‚æ•°æ®çš„è¯ï¼Œå½“å‰çš„è¯·æ±‚æ–¹å¼ä¸ºPOST</span><br><span class="line">                * callback - å¼‚æ­¥è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°</span><br><span class="line">            * è¿”å›å€¼ - æœåŠ¡å™¨ç«¯çš„å“åº”ç»“æœ</span><br><span class="line">            * æ³¨æ„ - è‡ªåŠ¨å°†è¿”å›ç»“æœå†™å…¥åˆ°ç›®æ ‡å…ƒç´ ä¸­</span><br><span class="line">        */</span><br><span class="line"><span class="javascript">        $(<span class="string">"button"</span>).load(<span class="string">"data/server2.json"</span>, &#123; <span class="attr">name</span>: <span class="string">"å¼ æ— å¿Œ"</span> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"å¼‚æ­¥è¯·æ±‚æˆåŠŸ..."</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¼ å…¥dataå‚æ•°ï¼Œé»˜è®¤ä¸ºPOSTè¯·æ±‚æ–¹å¼</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200903182625498.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nvb2xfYnJlZXplXw==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="a-idgetä¸-postæ–¹æ³•getä¸-postæ–¹æ³•a"><a class="markdownIt-Anchor" href="#a-idgetä¸-postæ–¹æ³•getä¸-postæ–¹æ³•a"></a> <a id="$.get()ä¸ $.post()æ–¹æ³•">$.get()ä¸ $.post()æ–¹æ³•</a></h2><ul><li><p>$get(æ–¹æ³•ä½¿ç”¨GETæ–¹å¼å‘æœåŠ¡å™¨ç«¯å‘é€å¼‚æ­¥è¯·æ±‚ã€‚å…¶è¯­æ³•ç»“æ„å¦‚ä¸‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="keyword">get</span>(url,[data],[callback],[type]);</span><br></pre></td></tr></table></figure></li><li><p>url: è¯·æ±‚HTMLé¡µé¢çš„urlåœ°å€ã€‚</p></li><li><p>data: å‘é€ç»™æœåŠ¡å™¨ç«¯çš„key/valueå½¢å¼çš„æ•°æ®å†…å®¹ã€‚</p></li><li><p>callback: Ajaxè¯·æ±‚å®Œæˆæ—¶çš„å›è°ƒå‡½æ•°ã€‚</p></li><li><p>type: è®¾ç½®è¿”å›æ•°æ®å†…å®¹çš„æ ¼å¼ã€‚å€¼ä¸ºxmlã€htmlã€scriptã€jsonã€textå’Œ_defaultã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">$.<span class="keyword">get</span>('server.js',function(data, textStatus)&#123;</span><br><span class="line"><span class="comment">//data:è¡¨ç¤ºæœåŠ¡å™¨ç«¯å“åº”çš„æ•°æ®å†…å®¹</span></span><br><span class="line">        <span class="comment">//textStatus: successã€errorã€notmodifiedå’Œtimeoutå››ç§è¯·æ±‚çŠ¶æ€ä¹‹ä¸€</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>get()ä¸post()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        /*</span><br><span class="line"><span class="actionscript">                <span class="keyword">get</span>(url, [data], [callback], [type])æ–¹æ³• - è¯·æ±‚æ–¹å¼ä¸ºGET</span></span><br><span class="line">                * å‚æ•°</span><br><span class="line">                    * url - å¼‚æ­¥è¯·æ±‚åœ°å€</span><br><span class="line">                    * data - å¼‚æ­¥è¯·æ±‚çš„æ•°æ®</span><br><span class="line">                    * callback - å¼‚æ­¥è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°</span><br><span class="line">              */</span><br><span class="line"><span class="actionscript">        $.get(<span class="string">"data/server2.json"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"å¼‚æ­¥è¯·æ±‚æˆåŠŸå•¦..."</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2V4dGhlb3IvaW1hZ2VzL0FqYXglRTUlOUIlQkUlRTclODklODcvJC5nZXQwMS5wbmc?x-oss-process=image/format,png" alt="" /></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¸ä¼ é€’ data å‚æ•°çš„è¯ï¼Œé»˜è®¤ä¸ºGETè¯·æ±‚ï¼Œå¹¶ä¸”è¯·æ±‚URLæ˜¯ä¸å¸¦å‚æ•°çš„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>get()ä¸post()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        /*</span><br><span class="line"><span class="actionscript">                <span class="keyword">get</span>(url, [data], [callback], [type])æ–¹æ³• - è¯·æ±‚æ–¹å¼ä¸ºGET</span></span><br><span class="line">                * å‚æ•°</span><br><span class="line">                    * url - å¼‚æ­¥è¯·æ±‚åœ°å€</span><br><span class="line">                    * data - å¼‚æ­¥è¯·æ±‚çš„æ•°æ®</span><br><span class="line">                    * callback - å¼‚æ­¥è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°</span><br><span class="line">              */</span><br><span class="line"><span class="javascript">        $.<span class="keyword">get</span>("data/server2.json", &#123; name: <span class="string">"å¼ æ— å¿Œ"</span> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"å¼‚æ­¥è¯·æ±‚æˆåŠŸå•¦..."</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2V4dGhlb3IvaW1hZ2VzL0FqYXglRTUlOUIlQkUlRTclODklODcvJC5nZXQwMi5wbmc?x-oss-process=image/format,png" alt="" /></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¼ é€’ data å‚æ•°çš„è¯ï¼Œé»˜è®¤ä¹Ÿä¸ºGETè¯·æ±‚ï¼Œå¹¶ä¸”è¯·æ±‚URLæ˜¯å¸¦å‚æ•°çš„</p><p>callbackä¸­å“åº”ç»“æœ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>get()ä¸post()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        /*</span><br><span class="line"><span class="actionscript">                <span class="keyword">get</span>(url, [data], [callback], [type])æ–¹æ³• - è¯·æ±‚æ–¹å¼ä¸ºGET</span></span><br><span class="line">                * å‚æ•°</span><br><span class="line">                    * url - å¼‚æ­¥è¯·æ±‚åœ°å€</span><br><span class="line">                    * data - å¼‚æ­¥è¯·æ±‚çš„æ•°æ®</span><br><span class="line">                    * callback - å¼‚æ­¥è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°</span><br><span class="line"><span class="actionscript">                        <span class="function"><span class="keyword">function</span><span class="params">(response)</span></span>&#123;&#125;</span></span><br><span class="line">                    * type - è®¾ç½®æœåŠ¡å™¨ç«¯å“åº”ç»“æœçš„æ ¼å¼</span><br><span class="line">                        xmlã€htmlã€scriptã€jsonã€textç­‰</span><br><span class="line">              */</span><br><span class="line"><span class="javascript">        $.<span class="keyword">get</span>("data/server2.json", &#123; name: <span class="string">"å¼ æ— å¿Œ"</span> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(response);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200903182830952.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ä¸ä¼ é€’typeç±»å‹é»˜è®¤è¿”å›jsonæ ¼å¼çš„æ•°æ®å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>get()ä¸post()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        /*</span><br><span class="line"><span class="actionscript">                <span class="keyword">get</span>(url, [data], [callback], [type])æ–¹æ³• - è¯·æ±‚æ–¹å¼ä¸ºGET</span></span><br><span class="line">                * å‚æ•°</span><br><span class="line">                    * url - å¼‚æ­¥è¯·æ±‚åœ°å€</span><br><span class="line">                    * data - å¼‚æ­¥è¯·æ±‚çš„æ•°æ®</span><br><span class="line">                    * callback - å¼‚æ­¥è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°</span><br><span class="line"><span class="actionscript">                        <span class="function"><span class="keyword">function</span><span class="params">(response)</span></span>&#123;&#125;</span></span><br><span class="line">                    * type - è®¾ç½®æœåŠ¡å™¨ç«¯å“åº”ç»“æœçš„æ ¼å¼</span><br><span class="line">                        xmlã€htmlã€scriptã€jsonã€textç­‰</span><br><span class="line">              */</span><br><span class="line"><span class="javascript">        $.<span class="keyword">get</span>(</span></span><br><span class="line"><span class="actionscript">          <span class="string">"data/server2.json"</span>,</span></span><br><span class="line"><span class="actionscript">          &#123; name: <span class="string">"å¼ æ— å¿Œ"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">          <span class="function"><span class="keyword">function</span> <span class="params">(response)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(response);</span></span><br><span class="line">          &#125;,</span><br><span class="line"><span class="actionscript">          <span class="string">"text"</span></span></span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200903182842294.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ä¸ä¼ é€’typeç±»å‹ä¼šè¿”å›æŒ‡å®šæ ¼å¼çš„æ•°æ®å†…å®¹</p><blockquote><p>$.postæ–¹æ³•åŒæ ·ç”¨æ³•</p></blockquote><h2 id="a-idajaxæ–¹æ³•ajaxæ–¹æ³•a"><a class="markdownIt-Anchor" href="#a-idajaxæ–¹æ³•ajaxæ–¹æ³•a"></a> <a id="$.ajax()æ–¹æ³•">$.ajax()æ–¹æ³•</a></h2><p>å…·ä½“å¯ä»¥å‚è€ƒ jQueryæ–‡æ¡£ <a href="https://jquery.cuishifeng.cn/jQuery.Ajax.html" target="_blank" rel="noopener">jQuery.ajax(url,[settings])</a></p><p>$ajax()æ–¹æ³•æ˜¯jQueryä¸­æœ€ä¸ºåº•å±‚çš„Ajaxæ–¹æ³•ï¼Œå…¶è¯­æ³•ç»“æ„å¦‚ä¸‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(url,[settings]);</span><br></pre></td></tr></table></figure><ul><li><p>url: è¯·æ±‚HTMLé¡µé¢çš„urlåœ°å€ã€‚</p></li><li><p>settings: key/valueå½¢å¼çš„è¯·æ±‚è®¾ç½®ï¼Œæ‰€æœ‰å‚æ•°éƒ½æ˜¯å¯é€‰çš„ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">url:<span class="string">"server.js"</span>,</span><br><span class="line">type:<span class="string">"post"</span>,</span><br><span class="line">data:<span class="string">"this is ajax"</span>,</span><br><span class="line">success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(data);<span class="comment">//æœåŠ¡å™¨å“åº”å›æ•°æ®ä¹‹åçš„å¤„ç†é€»è¾‘</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;);</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ajax()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        /*</span><br><span class="line"><span class="javascript">                $.ajax(url, [settings])æ–¹æ³•</span></span><br><span class="line">                * å‚æ•°</span><br><span class="line">                    * url - è¯·æ±‚åœ°å€</span><br><span class="line">                    * settings - è®¾ç½®å¼‚æ­¥è¯·æ±‚çš„å‚æ•°</span><br><span class="line">                * settingsé€‰é¡¹ - å¯¹è±¡ç±»å‹</span><br><span class="line">                    * type - è®¾ç½®è¯·æ±‚æ–¹å¼</span><br><span class="line">                    * data - å‘é€ç»™æœåŠ¡å™¨ç«¯çš„è¯·æ±‚æ•°æ®</span><br><span class="line">                    * dataType - æœåŠ¡å™¨ç«¯å“åº”ç»“æœçš„æ ¼å¼</span><br><span class="line">                    * success - å¼‚æ­¥è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°</span><br><span class="line"><span class="actionscript">                        <span class="function"><span class="keyword">function</span><span class="params">(data, textStatus, jqXHR)</span></span>&#123;&#125;</span></span><br><span class="line">                            * data - è¡¨ç¤ºæœåŠ¡å™¨ç«¯å“åº”çš„ç»“æœ</span><br><span class="line">                            * textStatus - è¡¨ç¤ºæœåŠ¡å™¨ç«¯å½“å‰çš„çŠ¶æ€</span><br><span class="line">                            * jqXHR - Ajaxä¸­çš„æ ¸å¿ƒå¯¹è±¡</span><br><span class="line">            */</span><br><span class="line"><span class="javascript">        $.ajax(<span class="string">"data/server2.json"</span>, &#123;</span></span><br><span class="line"><span class="actionscript">          type: <span class="string">"get"</span>,</span></span><br><span class="line"><span class="actionscript">          dataType: <span class="string">"text"</span>,</span></span><br><span class="line"><span class="actionscript">          success: <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(data);</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200903182854118.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="a-idgetscriptæ–¹æ³•getscriptæ–¹æ³•a"><a class="markdownIt-Anchor" href="#a-idgetscriptæ–¹æ³•getscriptæ–¹æ³•a"></a> <a id="$.getScript()æ–¹æ³•">$.getScript()æ–¹æ³•</a></h2><p>$getScript(æ–¹æ³•æ˜¯jQueryä¸­ç”¨äºåŠ¨æ€åŠ è½½æŒ‡å®šJavaScriptæ–‡ä»¶ï¼Œå…¶è¯­æ³•ç»“æ„å¦‚ä¸‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.getScript(url,[callback);</span><br></pre></td></tr></table></figure><ul><li>url: è¯·æ±‚JavaScriptæ–‡ä»¶çš„urlåœ°å€ã€‚</li><li>callback: æŒ‡å®šJavaScriptæ–‡ä»¶æˆåŠŸåŠ è½½åçš„å›è°ƒå‡½æ•°ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">$.getScript(<span class="string">'test.js'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>getScript()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// åŠ¨æ€åŠ è½½æŒ‡å®šJavaScriptæ–‡ä»¶ï¼Œå¹¶ä¸”æ‰§è¡Œ</span></span></span><br><span class="line"><span class="javascript">        $.getScript(<span class="string">"data/server3.js"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">          <span class="built_in">eval</span>(data);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200903182912896.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="a-idgetjsonæ–¹æ³•getjsonæ–¹æ³•a"><a class="markdownIt-Anchor" href="#a-idgetjsonæ–¹æ³•getjsonæ–¹æ³•a"></a> <a id="$.getJSON()æ–¹æ³•">$.getJSON()æ–¹æ³•</a></h2><p>$getuJSON(æ–¹æ³•æ˜¯jQueryä¸­ç”¨äºåŠ¨æ€åŠ è½½æŒ‡å®šJSONæ ¼å¼çš„æ•°æ®å†…å®¹ï¼Œå…¶è¯­æ³•ç»“æ„å¦‚ä¸‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.getJSON(url,[data],[callback]);</span><br></pre></td></tr></table></figure><ul><li><p>url: è¯·æ±‚JavaScriptæ–‡ä»¶çš„urlåœ°å€ã€‚</p></li><li><p>data: å‘é€ç»™æœåŠ¡å™¨ç«¯çš„key/valueå½¢å¼çš„æ•°æ®å†…å®¹ã€‚</p></li><li><p>callback: æŒ‡å®šJavaScriptæ–‡ä»¶æˆåŠŸåŠ è½½åçš„å›è°ƒå‡½æ•°ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">$.getJSON(<span class="string">'test.json'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>gtJSON()æ–¹æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// getJSON()æ–¹æ³•çš„è¯·æ±‚æ–¹å¼ä¸ºGET</span></span></span><br><span class="line"><span class="javascript">        $.getJSON(<span class="string">"data/server2.json"</span>, &#123; <span class="attr">name</span>: <span class="string">"å¼ æ— å¿Œ"</span> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(data);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200903182924376.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="a-idajaxçš„å…¨å±€äº‹ä»¶ajaxçš„å…¨å±€äº‹ä»¶a"><a class="markdownIt-Anchor" href="#a-idajaxçš„å…¨å±€äº‹ä»¶ajaxçš„å…¨å±€äº‹ä»¶a"></a> <a id="Ajaxçš„å…¨å±€äº‹ä»¶">Ajaxçš„å…¨å±€äº‹ä»¶</a></h2><p><strong>åŠ è½½è¯·æ±‚ï¼š .ajaxStart() å’Œ .ajaxstop()</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ajaxStart(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'.loading'</span>).show();</span><br><span class="line">&#125;).ajaxStop(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'.loading'</span>).hide();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>é”™è¯¯å¤„ç†ï¼š .ajaxError()</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//1 $.ajax()ä½¿ç”¨å±æ€§æç¤ºé”™è¯¯</span></span><br><span class="line">    $(<span class="string">'form input[type=button]'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            type:<span class="string">"post"</span>,</span><br><span class="line">            url:<span class="string">"test1.php"</span>,</span><br><span class="line">            <span class="keyword">async</span>:<span class="literal">true</span>,</span><br><span class="line">            data:$(<span class="string">'form'</span>).serialize(),</span><br><span class="line">            success:<span class="function"><span class="keyword">function</span>(<span class="params">response,status,xhr</span>)</span>&#123;</span><br><span class="line">                $(<span class="string">'#box'</span>).html(response);</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="comment">//            timeout:3000</span></span><br><span class="line"><span class="comment">//            global:false</span></span><br><span class="line">            error:<span class="function"><span class="keyword">function</span>(<span class="params">xhr,errorText,errorType</span>)</span>&#123;</span><br><span class="line"><span class="comment">//                alert(errorText + ':' +errorType);</span></span><br><span class="line">                alert(xhr.status + <span class="string">':'</span> +xhr.statusText);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2 $.post()ä½¿ç”¨è¿ç¼€.error()æ–¹æ³•æç¤ºé”™è¯¯ï¼Œå°†è¢«.fail()å–ä»£</span></span><br><span class="line">    $(<span class="string">'form input[type=button]'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $.post(<span class="string">'test1.php'</span>).error(<span class="function"><span class="keyword">function</span>(<span class="params">xhr,errorText,errorType</span>)</span>&#123;</span><br><span class="line">            alert(errorText + <span class="string">':'</span> +errorType);</span><br><span class="line">            alert(xhr.status + <span class="string">':'</span> +xhr.statusText);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//3 ä½¿ç”¨å…¨å±€.ajaxError()æ–¹æ³•</span></span><br><span class="line">    $(<span class="built_in">document</span>).ajaxError(<span class="function"><span class="keyword">function</span>(<span class="params">event,xhr,settings,info</span>)</span>&#123;</span><br><span class="line">        alert(event.type);</span><br><span class="line">        alert(event.target);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> event)&#123; <span class="comment">//æ‰“å°å‡ºeventçš„æ‰€æœ‰å±æ€§</span></span><br><span class="line">            <span class="built_in">document</span>.write(i + <span class="string">'&lt;br /&gt;'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p><strong>.ajaxSuccess()</strong>ï¼Œå¯¹åº”ä¸€ä¸ªå±€éƒ¨æ–¹æ³•ï¼š<strong>.success()</strong>ï¼Œè¯·æ±‚æˆåŠŸå®Œæˆæ—¶æ‰§è¡Œã€‚</p><p><strong>.ajaxComplete()</strong>ï¼Œå¯¹åº”ä¸€ä¸ªå±€éƒ¨æ–¹æ³•ï¼š<strong>.complete()</strong>ï¼Œè¯·æ±‚å®Œæˆåæ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p><p><strong>.ajaxSend()</strong>ï¼Œæ²¡æœ‰å¯¹åº”çš„å±€éƒ¨æ–¹æ³•ï¼Œåªæœ‰å±æ€§ <strong>beforeSend</strong>ï¼Œè¯·æ±‚å‘é€ä¹‹å‰è¦ç»‘å®šçš„å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//$.post()ä½¿ç”¨å…¨å±€</span></span><br><span class="line">$(<span class="string">'form input[type=button]'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $.post(<span class="string">'test.php'</span>,$(<span class="string">'form'</span>).serialize());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(<span class="string">'document'</span>).ajaxSend(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(å‘é€è¯·æ±‚ä¹‹å‰æ‰§è¡Œ);</span><br><span class="line">&#125;).ajaxComplete(<span class="function"><span class="keyword">function</span>(<span class="params">response,status,xhr</span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">'è¯·æ±‚å®Œæˆåï¼Œä¸ç®¡æ˜¯å¦å¤±è´¥æˆåŠŸ'</span>);</span><br><span class="line">&#125;).ajaxSuccess(<span class="function"><span class="keyword">function</span>(<span class="params">event,xhr,settrings</span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">'è¯·æ±‚æˆåŠŸåï¼Œä¸ç®¡æ˜¯å¦æˆåŠŸ'</span>);</span><br><span class="line">&#125;).ajaxError(<span class="function"><span class="keyword">function</span>(<span class="params">event,xhr,settrings</span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">'è¯·æ±‚å¤±è´¥å'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//$.post()ä½¿ç”¨å±€éƒ¨</span></span><br><span class="line">$(<span class="string">'form input[type=button]'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $.post(<span class="string">'test.php'</span>,$(<span class="string">'form'</span>).serialize()).success(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'è¯·æ±‚æˆåŠŸå'</span>);</span><br><span class="line">    &#125;).complete(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'è¯·æ±‚å®Œæˆå'</span>);</span><br><span class="line">    &#125;).error(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'è¯·æ±‚å¤±è´¥å'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//$.ajax()ä½¿ç”¨å±æ€§</span></span><br><span class="line">$(<span class="string">'form input[type=button]'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        type:<span class="string">"post"</span>,</span><br><span class="line">        url:<span class="string">"test1.php"</span>,</span><br><span class="line">        <span class="keyword">async</span>:<span class="literal">true</span>,</span><br><span class="line">        data:$(<span class="string">'form'</span>).serialize(),</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span>(<span class="params">response,status,xhr</span>)</span>&#123;</span><br><span class="line">            alert(<span class="string">'è¯·æ±‚æˆåŠŸå'</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        complete:<span class="function"><span class="keyword">function</span>ï¼ˆ)</span>&#123;</span><br><span class="line">            alert(<span class="string">'è¯·æ±‚å®Œæˆå,ä¸ç®¡å¤±è´¥æˆåŠŸ'</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        beforeSend:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            alert(<span class="string">'å‘é€è¯·æ±‚ä¹‹å‰'</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        error:<span class="function"><span class="keyword">function</span>(<span class="params">xhr,errorText,errorType</span>)</span>&#123;</span><br><span class="line">            alert(<span class="string">'è¯·æ±‚å¤±è´¥å'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šåœ¨ jQuery1.5 ç‰ˆæœ¬ä»¥åï¼Œä½¿ç”¨**.success()<strong>ã€</strong>.error()<strong>å’Œ</strong>.complete()<strong>è¿ç¼€çš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨</strong>.done()<strong>ã€</strong>.fail()<strong>å’Œ</strong>.always()**å–ä»£ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      jQueryä¸­çš„Ajax
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>ä¸‰çº§è”åŠ¨æ¡ˆä¾‹</title>
    <link href="https://extheor.github.io/posts/3f6e5f9e/index.html"/>
    <id>https://extheor.github.io/posts/3f6e5f9e/index.html</id>
    <published>2020-09-03T14:49:24.000Z</published>
    <updated>2020-09-03T14:53:40.762Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="ä¸‰çº§è”åŠ¨æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#ä¸‰çº§è”åŠ¨æ¡ˆä¾‹"></a> ä¸‰çº§è”åŠ¨æ¡ˆä¾‹</h1><ul><li><p>é¦–å…ˆå†™ä¸€ä¸ªJSONæ•°æ®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"province"</span>: <span class="string">"å‰æ—çœ"</span>,</span><br><span class="line">    <span class="attr">"cities"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"é•¿æ˜¥å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"æœé˜³åŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"å‰æ—å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"ä¸œåŸåŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"è€åŸåŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"ç™½å±±å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"äºŒé“åŒº"</span>, <span class="string">"æ²³ä¸œåŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"province"</span>: <span class="string">"è¾½å®çœ"</span>,</span><br><span class="line">    <span class="attr">"cities"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"æ²ˆé˜³å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"æœé˜³åŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"å¤§è¿å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"ä¸œåŸåŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"è€åŸåŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"é“å²­å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"äºŒé“åŒº"</span>, <span class="string">"æ²³ä¸œåŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"province"</span>: <span class="string">"å±±ä¸œçœ"</span>,</span><br><span class="line">    <span class="attr">"cities"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"é’å²›å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"æœé˜³åŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"æµå—å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"ä¸œåŸåŒº"</span>, <span class="string">"ç»æµå¼€å‘åŒº"</span>, <span class="string">"è€åŸåŒº"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"city"</span>: <span class="string">"å¨æµ·å¸‚"</span>,</span><br><span class="line">        <span class="attr">"counties"</span>: [<span class="string">"äºŒé“åŒº"</span>, <span class="string">"æ²³ä¸œåŒº"</span>, <span class="string">"é«˜æ–°åŒº"</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>ç„¶åç”¨AjaxåŠ¨æ€è·å–JSONæ–‡ä»¶ä¸­çš„æ•°æ®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ä¸‰çº§è”åŠ¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸‰çº§è”åŠ¨ - ä¸¤ä¸ªäºŒçº§è”åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"province"</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"city"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"county"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// è·å–çœä»½ä¸‹æ‹‰åˆ—è¡¨</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> provinceElement = <span class="built_in">document</span>.getElementById(<span class="string">"province"</span>);</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 1. å½“é¡µé¢åŠ è½½å®Œæ¯•åï¼ŒåŠ¨æ€è·å–çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">      xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">        if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="actionscript">          <span class="comment">// å¾—åˆ°æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> response = xhr.responseText;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// å°†JSONå­—ç¬¦ä¸²è½¬æ¢æˆJSONå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> datas = <span class="built_in">JSON</span>.parse(response);</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// console.log(data);</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(datas[i]);</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> data = datas[i];</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> province = data.province;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(data.province);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å°†æ•°æ®æ›´æ–°åˆ°HTMLé¡µé¢ä¸­</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> opt = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></span><br><span class="line"><span class="actionscript">            opt.setAttribute(<span class="string">"value"</span>, <span class="string">"province"</span>);</span></span><br><span class="line">            opt.textContent = province;</span><br><span class="line">            provinceElement.appendChild(opt);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="actionscript">      xhr.open(<span class="string">"get"</span>, <span class="string">"./data/server1.json"</span>);</span></span><br><span class="line"><span class="actionscript">      xhr.send(<span class="literal">null</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹</p></li></ul><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200902170135822.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><p>ä¸ºçœä»½ä¸‹æ‹‰åˆ—è¡¨ç»‘å®šchangeäº‹ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">provinceElement.addEventListener(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>HTMLSelectionElement</p><p><strong><code>HTMLSelectElement</code></strong> æ¥å£è¡¨ç¤ºä¸€ä¸ª <code>&lt;select&gt;</code> HTML å…ƒç´ ã€‚è¿™ä¸ªå…ƒç´ ä¹Ÿé€šè¿‡ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement" target="_blank" rel="noopener"><code>HTMLElement</code></a> æ¥å£ä»å…¶ä»– HTML å…ƒç´ å…±äº«æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</p><iframe class="live-sample-frame inheritance-diagram-frame" frameborder="0" height="120" id="frame_inheritance_diagram" src="https://mdn.mozillademos.org/zh-CN/docs/Web/API/HTMLSelectElement$samples/inheritance_diagram?revision=1626258" width="600" style="margin: 0px; padding: 0px; border: 0px; max-width: 100%; color: rgb(51, 51, 51); font-family: Arial, x-locale-body, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: -0.04448px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"></iframe><ul><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLSelectElement/options" target="_blank" rel="noopener"><code>HTMLSelectElement.options</code></a></p><p>åªè¯»å±æ€§ã€‚è¿”å›å½“å‰selectå…ƒç´ åŒ…æ‹¬optionå…ƒç´ å¯¹è±¡çš„é›†åˆã€‚</p></li><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLSelectElement/selectedIndex" target="_blank" rel="noopener"><code>HTMLSelectElement.selectedIndex</code></a></p><p>æ­¤å±æ€§è¿”å›ä¸€ä¸ªé•¿æ•´å‹æ•°å€¼ï¼Œä»£è¡¨ç¬¬ä¸€ä¸ªè¢«é€‰ä¸­çš„optionå…ƒç´ ï¼Œ-1ä»£è¡¨æ²¡æœ‰å…ƒç´ è¢«é€‰ä¸­ã€‚</p></li></ul></li></ul><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ä¸‰çº§è”åŠ¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸‰çº§è”åŠ¨ - ä¸¤ä¸ªäºŒçº§è”åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"province"</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"city"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"county"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// è·å–çœä»½ä¸‹æ‹‰åˆ—è¡¨</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> provinceElement = <span class="built_in">document</span>.getElementById(<span class="string">"province"</span>);</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 1. å½“é¡µé¢åŠ è½½å®Œæ¯•åï¼ŒåŠ¨æ€è·å–çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">      xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">        if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="actionscript">          <span class="comment">// å¾—åˆ°æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> response = xhr.responseText;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// å°†JSONå­—ç¬¦ä¸²è½¬æ¢æˆJSONå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> datas = <span class="built_in">JSON</span>.parse(response);</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// console.log(data);</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(datas[i]);</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> data = datas[i];</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> province = data.province;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(data.province);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å°†æ•°æ®æ›´æ–°åˆ°HTMLé¡µé¢ä¸­</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> opt = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></span><br><span class="line"><span class="actionscript">            opt.setAttribute(<span class="string">"value"</span>, <span class="string">"province"</span>);</span></span><br><span class="line">            opt.textContent = province;</span><br><span class="line">            provinceElement.appendChild(opt);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="actionscript">      xhr.open(<span class="string">"get"</span>, <span class="string">"./data/server1.json"</span>);</span></span><br><span class="line"><span class="actionscript">      xhr.send(<span class="literal">null</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      <span class="comment">// ä¸ºçœä»½ä¸‹æ‹‰åˆ—è¡¨ç»‘å®šchangeäº‹ä»¶</span></span></span><br><span class="line"><span class="actionscript">      provinceElement.addEventListener(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. ç”¨æˆ·é€‰æ‹©çš„çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opts = provinceElement.options;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(opts);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘æ›´æ¢çœä»½æ—¶ï¼Œä¼šè§¦å‘changeäº‹ä»¶ï¼Œè¿™æ—¶è¾“å‡ºä¸€ä¸ªHTMLOptionCollectioné›†åˆ</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/2020090217015273.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è¿™ä¸ªselectedIndexå°±æ˜¯å½“å‰æ‰€é€‰ä¸­çœä»½çš„ç´¢å¼•å€¼</p><p>åªéœ€ä½¿ç”¨item()æ–¹æ³•å³å¯è·å–å½“å‰æ‰€é€‰ä¸­çš„ <code>&lt;select&gt;</code> å…ƒç´ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ä¸‰çº§è”åŠ¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸‰çº§è”åŠ¨ - ä¸¤ä¸ªäºŒçº§è”åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"province"</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"city"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"county"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// è·å–çœä»½ä¸‹æ‹‰åˆ—è¡¨</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> provinceElement = <span class="built_in">document</span>.getElementById(<span class="string">"province"</span>);</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 1. å½“é¡µé¢åŠ è½½å®Œæ¯•åï¼ŒåŠ¨æ€è·å–çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">      xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">        if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="actionscript">          <span class="comment">// å¾—åˆ°æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> response = xhr.responseText;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// å°†JSONå­—ç¬¦ä¸²è½¬æ¢æˆJSONå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> datas = <span class="built_in">JSON</span>.parse(response);</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// console.log(data);</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(datas[i]);</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> data = datas[i];</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> province = data.province;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(data.province);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å°†æ•°æ®æ›´æ–°åˆ°HTMLé¡µé¢ä¸­</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> opt = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></span><br><span class="line"><span class="actionscript">            opt.setAttribute(<span class="string">"value"</span>, <span class="string">"province"</span>);</span></span><br><span class="line">            opt.textContent = province;</span><br><span class="line">            provinceElement.appendChild(opt);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="actionscript">      xhr.open(<span class="string">"get"</span>, <span class="string">"./data/server1.json"</span>);</span></span><br><span class="line"><span class="actionscript">      xhr.send(<span class="literal">null</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      <span class="comment">// ä¸ºçœä»½ä¸‹æ‹‰åˆ—è¡¨ç»‘å®šchangeäº‹ä»¶</span></span></span><br><span class="line"><span class="actionscript">      provinceElement.addEventListener(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. ç”¨æˆ·é€‰æ‹©çš„çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opts = provinceElement.options;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(opts);</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = provinceElement.selectedIndex; <span class="comment">// è¢«é€‰ä¸­&lt;option&gt;çš„ç´¢å¼•å€¼</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opt = opts.item(index);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(opt);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200902170201442.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><p>äºŒçº§è”åŠ¨ï¼ŒæŠŠçœä»½å¯¹åº”çš„åŸå¸‚ä¿¡æ¯åœ¨ç¬¬äºŒä¸ª <code>&lt;select&gt;</code> ä¸­æ˜¾ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ä¸‰çº§è”åŠ¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸‰çº§è”åŠ¨ - ä¸¤ä¸ªäºŒçº§è”åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"province"</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"city"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"county"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// è·å–çœä»½ã€åŸå¸‚ä¸‹æ‹‰åˆ—è¡¨</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> provinceElement = <span class="built_in">document</span>.getElementById(<span class="string">"province"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> cityElement = <span class="built_in">document</span>.getElementById(<span class="string">"city"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> datas;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 1. å½“é¡µé¢åŠ è½½å®Œæ¯•åï¼ŒåŠ¨æ€è·å–çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">      xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">        if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="actionscript">          <span class="comment">// å¾—åˆ°æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> response = xhr.responseText;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// å°†JSONå­—ç¬¦ä¸²è½¬æ¢æˆJSONå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">          datas = <span class="built_in">JSON</span>.parse(response);</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// console.log(data);</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(datas[i]);</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> data = datas[i];</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> province = data.province;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(data.province);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å°†æ•°æ®æ›´æ–°åˆ°HTMLé¡µé¢ä¸­</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> opt = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></span><br><span class="line"><span class="actionscript">            opt.setAttribute(<span class="string">"value"</span>, province);</span></span><br><span class="line">            opt.textContent = province;</span><br><span class="line">            provinceElement.appendChild(opt);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="actionscript">      xhr.open(<span class="string">"get"</span>, <span class="string">"./data/server1.json"</span>);</span></span><br><span class="line"><span class="actionscript">      xhr.send(<span class="literal">null</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      <span class="comment">// ä¸ºçœä»½ä¸‹æ‹‰åˆ—è¡¨ç»‘å®šchangeäº‹ä»¶</span></span></span><br><span class="line"><span class="actionscript">      provinceElement.addEventListener(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. ç”¨æˆ·é€‰æ‹©çš„çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opts = provinceElement.options; <span class="comment">// è·å–æŒ‡å®šä¸‹æ‹‰åˆ—è¡¨æ‰€æœ‰é€‰é¡¹</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(opts);</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = provinceElement.selectedIndex; <span class="comment">// è¢«é€‰ä¸­&lt;option&gt;çš„ç´¢å¼•å€¼</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opt = opts.item(index);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(opt);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> provinceName = opt.getAttribute(<span class="string">"value"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(province);</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 2. æ ¹æ®çœä»½ä¿¡æ¯è·å–å¯¹åº”çš„åŸå¸‚ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> data = datas[i];</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> province = data.province;</span></span><br><span class="line">          if (provinceName === province) &#123;</span><br><span class="line"><span class="actionscript">            <span class="comment">// è·å–å¯¹åº”çš„åŸå¸‚ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> cities = data.cities;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(cities);</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; cities.length; j++) &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">var</span> city = cities[j].city;</span></span><br><span class="line"><span class="actionscript">              <span class="comment">// console.log(city);</span></span></span><br><span class="line"><span class="actionscript">              <span class="comment">// å°†æ•°æ®æ›´æ–°åˆ°HTMLé¡µé¢ä¸­</span></span></span><br><span class="line"><span class="javascript">              <span class="keyword">var</span> opt = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></span><br><span class="line"><span class="actionscript">              opt.setAttribute(<span class="string">"value"</span>, city);</span></span><br><span class="line">              opt.textContent = city;</span><br><span class="line">              cityElement.appendChild(opt);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å½“æˆ‘é€‰æ‹©äº†è¾½å®çœï¼Œå†é€‰å±±ä¸œçœä¹‹åï¼Œå‡ºç°è¾½å®çœçš„åŸå¸‚è¿˜åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰åˆ é™¤</p></li></ul><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200902170212973.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>æˆ‘ä»¬éœ€è¦åˆ é™¤å…¶ä»–çœä»½çš„åŸå¸‚</p><p>å› ä¸ºcityOpts.lengthè¦åˆ é™¤æ•°æ®ï¼Œé‚£åˆ äº†ä¹‹åä¸‹ä¸€æ¬¡çš„cityOpts.lengthçš„é•¿åº¦å°±æ¯”ä¸Šä¸€æ¬¡çš„é•¿åº¦å°‘ä¸€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒcityOpts.lengthçš„é•¿åº¦çš„åŠ¨æ€å˜åŒ–çš„ï¼Œæ‰€ä»¥æœ€åè¦å†™ä¸€ä¸ªkâ€“ï¼Œè·Ÿç€cityOpts.lengthçš„é•¿åº¦å¯¹åº”çš„å‡å°å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†åŸå¸‚ä¸‹æ‹‰åˆ—è¡¨çš„é€‰é¡¹æ¸…ç©º</span></span><br><span class="line"><span class="keyword">var</span> cityOpts = cityElement.options;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">1</span>; k &lt; cityOpts.length; k++) &#123;</span><br><span class="line">    cityElement.removeChild(cityOpts[k]);</span><br><span class="line">    k--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°æ•ˆæœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2V4dGhlb3IvaW1hZ2VzL0FqYXglRTUlOUIlQkUlRTclODklODcvJUU0JUI4JTg5JUU3JUJBJUE3JUU4JTgxJTk0JUU1JThBJUE4LmdpZg" alt="" /></p><ul><li><p>ä¸‰çº§è”åŠ¨å®Œæ•´æ¡ˆä¾‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ä¸‰çº§è”åŠ¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸‰çº§è”åŠ¨ - ä¸¤ä¸ªäºŒçº§è”åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"province"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"city"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"county"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>---<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// è·å–çœä»½ã€åŸå¸‚ä¸‹æ‹‰åˆ—è¡¨</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> provinceElement = <span class="built_in">document</span>.getElementById(<span class="string">"province"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> cityElement = <span class="built_in">document</span>.getElementById(<span class="string">"city"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> countyElement = <span class="built_in">document</span>.getElementById(<span class="string">"county"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> datas;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 1. å½“é¡µé¢åŠ è½½å®Œæ¯•åï¼ŒåŠ¨æ€è·å–çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">      xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">        if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="actionscript">          <span class="comment">// å¾—åˆ°æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> response = xhr.responseText;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// å°†JSONå­—ç¬¦ä¸²è½¬æ¢æˆJSONå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">          datas = <span class="built_in">JSON</span>.parse(response);</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// console.log(data);</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(datas[i]);</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> data = datas[i];</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> province = data.province;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(data.province);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å°†æ•°æ®æ›´æ–°åˆ°HTMLé¡µé¢ä¸­</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> opt = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></span><br><span class="line"><span class="actionscript">            opt.setAttribute(<span class="string">"value"</span>, province);</span></span><br><span class="line">            opt.textContent = province;</span><br><span class="line">            provinceElement.appendChild(opt);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="actionscript">      xhr.open(<span class="string">"get"</span>, <span class="string">"./data/server1.json"</span>);</span></span><br><span class="line"><span class="actionscript">      xhr.send(<span class="literal">null</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">      <span class="comment">// ä¸ºçœä»½ä¸‹æ‹‰åˆ—è¡¨ç»‘å®šchangeäº‹ä»¶</span></span></span><br><span class="line"><span class="actionscript">      provinceElement.addEventListener(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// å°†åŸå¸‚ä¸‹æ‹‰åˆ—è¡¨çš„é€‰é¡¹æ¸…ç©º</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> cityOpts = cityElement.options;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">1</span>; k &lt; cityOpts.length; k++) &#123;</span></span><br><span class="line">          cityElement.removeChild(cityOpts[k]);</span><br><span class="line">          k--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. ç”¨æˆ·é€‰æ‹©çš„çœä»½ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opts = provinceElement.options; <span class="comment">// è·å–æŒ‡å®šä¸‹æ‹‰åˆ—è¡¨æ‰€æœ‰é€‰é¡¹</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(opts);</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = provinceElement.selectedIndex; <span class="comment">// è¢«é€‰ä¸­&lt;option&gt;çš„ç´¢å¼•å€¼</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opt = opts.item(index);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(opt);</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> provinceName = opt.getAttribute(<span class="string">"value"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(provinceName);</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 2. æ ¹æ®çœä»½ä¿¡æ¯è·å–å¯¹åº”çš„åŸå¸‚ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> data = datas[i];</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> province = data.province;</span></span><br><span class="line">          if (provinceName === province) &#123;</span><br><span class="line"><span class="actionscript">            <span class="comment">// è·å–å¯¹åº”çš„åŸå¸‚ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> cities = data.cities;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(cities);</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; cities.length; j++) &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">var</span> city = cities[j].city;</span></span><br><span class="line"><span class="actionscript">              <span class="comment">// console.log(city);</span></span></span><br><span class="line"><span class="actionscript">              <span class="comment">// å°†æ•°æ®æ›´æ–°åˆ°HTMLé¡µé¢ä¸­</span></span></span><br><span class="line"><span class="javascript">              <span class="keyword">var</span> opt = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></span><br><span class="line"><span class="actionscript">              opt.setAttribute(<span class="string">"value"</span>, city);</span></span><br><span class="line">              opt.textContent = city;</span><br><span class="line">              cityElement.appendChild(opt);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"><span class="actionscript">      <span class="comment">// ä¸ºåŸå¸‚ä¸‹æ‹‰åˆ—è¡¨ç»‘å®šchangeäº‹ä»¶</span></span></span><br><span class="line"><span class="actionscript">      cityElement.addEventListener(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// å°†åŒºçº§ä¸‹æ‹‰åˆ—è¡¨çš„é€‰é¡¹æ¸…ç©º</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> countyOpts = countyElement.options;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">1</span>; k &lt; countyOpts.length; k++) &#123;</span></span><br><span class="line">          countyElement.removeChild(countyOpts[k]);</span><br><span class="line">          k--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. ç”¨æˆ·é€‰æ‹©çš„åŸå¸‚ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opts = cityElement.options; <span class="comment">// è·å–æŒ‡å®šä¸‹æ‹‰åˆ—è¡¨æ‰€æœ‰é€‰é¡¹</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(opts);</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> index = cityElement.selectedIndex; <span class="comment">// è¢«é€‰ä¸­&lt;option&gt;çš„ç´¢å¼•å€¼</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> opt = opts.item(index);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(opt);</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> cityName = opt.getAttribute(<span class="string">"value"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(cityName);</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 2. æ ¹æ®åŸå¸‚ä¿¡æ¯è·å–å¯¹åº”çš„åŒºçº§ä¿¡æ¯</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; datas.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> cities = datas[i].cities;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// console.log(cities);</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; cities.length; x++) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> city = cities[x].city;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log(city);</span></span></span><br><span class="line"></span><br><span class="line">            if (cityName === city) &#123;</span><br><span class="line"><span class="actionscript">              <span class="keyword">var</span> counties = cities[x].counties;</span></span><br><span class="line"><span class="actionscript">              <span class="comment">// console.log(counties);</span></span></span><br><span class="line"><span class="actionscript">              <span class="keyword">for</span> (<span class="keyword">var</span> y = <span class="number">0</span>; y &lt; counties.length; y++) &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> county = counties[y];</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// console.log(county);</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// å°†æ•°æ®æ›´æ–°åˆ°HTMLé¡µé¢ä¸­</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> opt = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></span><br><span class="line"><span class="actionscript">                opt.setAttribute(<span class="string">"value"</span>, county);</span></span><br><span class="line">                opt.textContent = county;</span><br><span class="line">                countyElement.appendChild(opt);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2V4dGhlb3IvaW1hZ2VzL0FqYXglRTUlOUIlQkUlRTclODklODcvJUU0JUI4JTg5JUU3JUJBJUE3JUU4JTgxJTk0JUU1JThBJUE4MDIuZ2lm" alt="" /></p></li></ul>]]></content>
    
    <summary type="html">
    
      ä¸‰çº§è”åŠ¨æ¡ˆä¾‹
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>JSONæ˜¯ä»€ä¹ˆ</title>
    <link href="https://extheor.github.io/posts/7d3ea75e/index.html"/>
    <id>https://extheor.github.io/posts/7d3ea75e/index.html</id>
    <published>2020-09-03T14:46:46.000Z</published>
    <updated>2020-09-03T14:53:40.756Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="jsonæ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#jsonæ˜¯ä»€ä¹ˆ"></a> JSONæ˜¯ä»€ä¹ˆ</h1><p>JSONæ˜¯JavaScript Object Notationçš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚JSONæ˜¯åŸºäºJavaScript Programming Language, Standard ECMA-262 3rd Edition-December 1999çš„ä¸€ä¸ªå­é›†ã€‚</p><p>JSONæ˜¯ç‹¬ç«‹äºä»»ä½•è¯­è¨€çš„æ–‡æœ¬æ ¼å¼ã€‚æ˜“äºç¨‹åºå‘˜é˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºè®¡ç®—æœºè§£æå’Œç”Ÿæˆã€‚</p><p>JSONçš„ä¸­æ–‡å®˜ç½‘åœ°å€: <a href="http://www.json.org/json-zh.html" target="_blank" rel="noopener">http://www.json.org/json-zh.html</a></p><h2 id="jsonè¯­æ³•è§„åˆ™"><a class="markdownIt-Anchor" href="#jsonè¯­æ³•è§„åˆ™"></a> JSONè¯­æ³•è§„åˆ™</h2><p>JSONæ ¼å¼çš„æ„å»ºæ¯”è¾ƒç®€å•ï¼Œä¸»è¦ä¸ºä¸¤ç§ç»“æ„:</p><ul><li><p>â€œåç§°/å€¼â€å¯¹çš„é›†åˆ(A collection of narne/value pairsï¼‰ã€‚ä¸åŒçš„è¯­è¨€ä¸­ï¼Œå®ƒè¢«ç†è§£ä¸ºå¯¹è±¡<br />( object ï¼‰ï¼Œçºªå½•(record)ï¼Œç»“æ„(struct)ï¼Œå­—å…¸( dictionary)ï¼Œå“ˆå¸Œè¡¨( hash table ) ,æœ‰é”®åˆ—è¡¨(keyed list ï¼‰ï¼Œæˆ–è€…å…³è”æ•°ç»„( associative array )ã€‚</p></li><li><p>å€¼çš„æœ‰åºåˆ—è¡¨(An ordered list of values ï¼‰ã€‚åœ¨å¤§éƒ¨åˆ†è¯­è¨€ä¸­ï¼Œå®ƒè¢«ç†è§£ä¸ºæ•°ç»„( array )ã€‚<br />JSONæ ¼å¼ä¸­ä½œä¸ºå€¼çš„ç±»å‹å…è®¸æ˜¯å­—ç¬¦ä¸²( string)ã€æ•°å€¼(number)ã€trueã€falseã€nullã€å¯¹è±¡( objectï¼‰æˆ–è€…æ•°ç»„( array ï¼‰ã€‚</p></li></ul><h2 id="jsonä¸­çš„é”®å€¼å¯¹é›†åˆ"><a class="markdownIt-Anchor" href="#jsonä¸­çš„é”®å€¼å¯¹é›†åˆ"></a> JSONä¸­çš„é”®å€¼å¯¹é›†åˆ</h2><p>JSONæ ¼å¼ä¸­çš„â€œåç§°/å€¼â€å¯¹çš„é›†åˆæ˜¯ä¸€ä¸ªæ— åºçš„â€œâ€˜åç§°/å€¼â€™å¯¹â€é›†åˆã€‚ä¸€ä¸ªå¯¹è±¡ä»¥â€œ{â€ï¼ˆå·¦æ‹¬å·ï¼‰å¼€å§‹ï¼Œâ€œ}â€ï¼ˆå³æ‹¬å·ï¼‰ç»“æŸã€‚æ¯ä¸ªâ€œåç§°â€åè·Ÿä¸€ä¸ªâ€œâ€ï¼ˆå†’å·ï¼‰;â€œ â€˜åç§°/å€¼â€™ å¯¹ â€ä¹‹é—´ä½¿ç”¨â€œ,â€ï¼ˆé€—å·ï¼‰åˆ†éš”ã€‚</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/JSON%E4%B8%AD%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%E9%9B%86%E5%90%88.png" alt="" /></p><h2 id="jsonä¸­çš„å€¼çš„æœ‰åºåˆ—è¡¨"><a class="markdownIt-Anchor" href="#jsonä¸­çš„å€¼çš„æœ‰åºåˆ—è¡¨"></a> JSONä¸­çš„å€¼çš„æœ‰åºåˆ—è¡¨</h2><p>JSONæ ¼å¼ä¸­çš„å€¼çš„æœ‰åºåˆ—è¡¨æ˜¯å€¼(value ï¼‰çš„æœ‰åºé›†åˆã€‚ä¸€ä¸ªæ•°ç»„ä»¥â€œ[â€ï¼ˆå·¦ä¸­æ‹¬å·ï¼‰å¼€å§‹ï¼Œâ€œ]â€(å³ä¸­æ‹¬å·ï¼‰ç»“æŸã€‚å€¼ä¹‹é—´ä½¿ç”¨â€œâ€ï¼ˆé€—å·ï¼‰åˆ†éš”ã€‚</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/JSON%E4%B8%AD%E7%9A%84%E5%80%BC%E7%9A%84%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A8.png" alt="" /></p><h2 id="jsonæ–‡ä»¶"><a class="markdownIt-Anchor" href="#jsonæ–‡ä»¶"></a> JSONæ–‡ä»¶</h2><p>å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"æ­¦ä¾ "</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"å€šå¤©å± é¾™è®°"</span>: [<span class="string">"å¼ æ— å¿Œ"</span>, <span class="string">"å‘¨èŠ·è‹¥"</span>],</span><br><span class="line">      <span class="attr">"ç¬‘å‚²æ±Ÿæ¹–"</span>: [<span class="string">"ä»¤ç‹å†²"</span>, <span class="string">"ä¸œæ–¹ä¸è´¥"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"è¨€æƒ…"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"è¿˜ç æ ¼æ ¼"</span>: [<span class="string">"å°”åº·"</span>, <span class="string">"ç´«è–‡"</span>],</span><br><span class="line">      <span class="attr">"æƒ…æ·±æ·±é›¨è’™è’™"</span>: [<span class="string">"ä½•ä¹¦æ’"</span>, <span class="string">"é™†ä¾è"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      JSONæ˜¯ä»€ä¹ˆ
    
    </summary>
    
    
      <category term="JSON" scheme="https://extheor.github.io/categories/JSON/"/>
    
    
      <category term="json" scheme="https://extheor.github.io/tags/json/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°Ajaxå¼‚æ­¥äº¤äº’</title>
    <link href="https://extheor.github.io/posts/60b5dd06/index.html"/>
    <id>https://extheor.github.io/posts/60b5dd06/index.html</id>
    <published>2020-09-03T14:45:33.000Z</published>
    <updated>2020-09-03T14:53:40.763Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="å®ç°ajaxå¼‚æ­¥äº¤äº’"><a class="markdownIt-Anchor" href="#å®ç°ajaxå¼‚æ­¥äº¤äº’"></a> å®ç°Ajaxå¼‚æ­¥äº¤äº’</h1><h2 id="æ–‡ç« ç›®å½•"><a class="markdownIt-Anchor" href="#æ–‡ç« ç›®å½•"></a> æ–‡ç« ç›®å½•</h2><p><a href="#%E5%AE%9E%E7%8E%B0Ajax%E7%9A%84%E6%89%A7%E8%A1%8C%E6%AD%A5%E9%AA%A4">å®ç°Ajaxçš„æ‰§è¡Œæ­¥éª¤</a></p><p><a href="#%E5%88%9B%E5%BB%BAAjax%E7%9A%84%E6%A0%B8%E5%BF%83%E5%AF%B9%E8%B1%A1">åˆ›å»ºAjaxçš„æ ¸å¿ƒå¯¹è±¡</a></p><p><a href="#%E9%80%9A%E8%BF%87Ajax%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE">é€šè¿‡Ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®</a></p><p><a href="#%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F">è¯·æ±‚æ–¹å¼</a></p><p><a href="#Ajax%E5%BC%82%E6%AD%A5%E4%BA%A4%E4%BA%92">Ajaxå¼‚æ­¥äº¤äº’</a></p><p>æ–‡ç« åŒ…å«ä»¥ä¸‹å‡ ç‚¹å†…å®¹</p><ul><li><p>å®ç°Ajaxçš„æ‰§è¡Œæ­¥éª¤</p></li><li><p>åˆ›å»ºAjaxçš„æ ¸å¿ƒå¯¹è±¡</p></li><li><p>é€šè¿‡Ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®</p></li><li><p>ç›‘å¬æœåŠ¡å™¨ç«¯é€šä¿¡çŠ¶æ€</p></li><li><p>å¤„ç†æœåŠ¡å™¨ç«¯å“åº”æ•°æ®</p></li></ul><h2 id="a-idå®ç°ajaxçš„æ‰§è¡Œæ­¥éª¤å®ç°ajaxçš„æ‰§è¡Œæ­¥éª¤a"><a class="markdownIt-Anchor" href="#a-idå®ç°ajaxçš„æ‰§è¡Œæ­¥éª¤å®ç°ajaxçš„æ‰§è¡Œæ­¥éª¤a"></a> <a id="å®ç°Ajaxçš„æ‰§è¡Œæ­¥éª¤">å®ç°Ajaxçš„æ‰§è¡Œæ­¥éª¤</a></h2><p>å®ç°Ajaxå¼‚æ­¥äº¤äº’éœ€è¦æœåŠ¡å™¨ç«¯é€»è¾‘è¿›è¡Œé…åˆï¼Œè€Œä½œä¸ºå®¢æˆ·ç«¯çš„HTMLé¡µé¢éœ€è¦å®Œæˆä»¥ä¸‹æ­¥éª¤:</p><ol><li><p>åˆ›å»ºAjaxçš„æ ¸å¿ƒå¯¹è±¡XMILHlttpRequestå¯¹è±¡</p></li><li><p>é€šè¿‡XMLHttpRequestå¯¹è±¡çš„open()æ–¹æ³•ä¸æœåŠ¡å™¨ç«¯å»ºç«‹è¿æ¥</p><blockquote><p>å…·ä½“å¯ä»¥å»MDNäº†è§£<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/open" target="_blank" rel="noopener">XMLHttpRequest.open()</a></p></blockquote></li><li><p>æ„å»ºè¯·æ±‚æ‰€éœ€çš„æ•°æ®å†…å®¹ï¼Œå¹¶é€šè¿‡XMLHttpRequestå¯¹è±¡çš„send()æ–¹æ³•å‘é€ç»™æœåŠ¡å™¨ç«¯</p><blockquote><p>å…·ä½“å¯ä»¥å»MDNäº†è§£<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/send" target="_blank" rel="noopener">XMLHttpRequest.send()</a></p></blockquote></li><li><p>é€šè¿‡XMLHttpRequestå¯¹è±¡æä¾›çš„onreadystatechangeäº‹ä»¶ç›‘å¬æœåŠ¡å™¨ç«¯çš„é€šä¿¡çŠ¶æ€</p><blockquote><p>åªè¦ <code>readyState</code> å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šè°ƒç”¨ç›¸åº”çš„å¤„ç†å‡½æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°ä¼šè¢«ç”¨æˆ·çº¿ç¨‹æ‰€è°ƒç”¨ã€‚<strong><code>XMLHttpRequest.onreadystatechange</code></strong> ä¼šåœ¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener"><code>XMLHttpRequest</code></a> çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/readyState" target="_blank" rel="noopener"><code>readyState</code></a> å±æ€§å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘ <code>readystatechange</code> äº‹ä»¶çš„æ—¶å€™è¢«è°ƒç”¨ã€‚</p><p>å…·ä½“å¯å‚è€ƒMDNä¸Šçš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/readyState" target="_blank" rel="noopener">XMLHttpRequest.readyState</a></p></blockquote></li><li><p>æ¥æ”¶å¹¶å¤„ç†æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å“åº”çš„æ•°æ®ç»“æœ</p></li><li><p>å°†å¤„ç†ç»“æœæ›´æ–°åˆ°HTMILé¡µé¢ä¸­</p></li></ol><ul><li><p>å…·ä½“æ­¥éª¤ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span> /&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;button id=<span class="string">"btn"</span>&gt;æŒ‰é’®&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script src="js/</span>createXMLHttpRequest.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">    &lt;script&gt;</span></span><br><span class="line"><span class="string">      var btn = document.getElementById("</span>btn<span class="string">");</span></span><br><span class="line"><span class="string">      btn.addEventListener("</span>click<span class="string">", function () &#123;</span></span><br><span class="line"><span class="string">        // å®ç°Ajaxçš„å¼‚æ­¥äº¤äº’</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        // åˆ›å»ºXMLHttpRequestå¯¹è±¡</span></span><br><span class="line"><span class="string">        var xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="string">        /*</span></span><br><span class="line"><span class="string">        2. è°ƒç”¨XMLHttpRequestå¯¹è±¡çš„open()æ–¹æ³•</span></span><br><span class="line"><span class="string">         * ä½œç”¨ - ä¸æœåŠ¡å™¨ç«¯å»ºç«‹è¿æ¥</span></span><br><span class="line"><span class="string">         open(method, url)æ–¹æ³•</span></span><br><span class="line"><span class="string">         * method - è¡¨ç¤ºå½“å‰çš„è¯·æ±‚æ–¹å¼</span></span><br><span class="line"><span class="string">            * å¸¸è§çš„è¯·æ±‚æ–¹å¼ä¸ºGETå’ŒPOST</span></span><br><span class="line"><span class="string">         * url - è¡¨ç¤ºå½“å‰è¯·æ±‚çš„æœåŠ¡å™¨ç«¯åœ°å€é“¾æ¥</span></span><br><span class="line"><span class="string">      */</span></span><br><span class="line"><span class="string">        xhr.open("</span><span class="keyword">get</span>", "https://extheor.github.io/");</span><br><span class="line"></span><br><span class="line">        /*</span><br><span class="line">        3. è°ƒç”¨XMLHttpRequestå¯¹è±¡çš„send()æ–¹æ³•</span><br><span class="line">         * ä½œç”¨ - å°†å®¢æˆ·ç«¯é¡µé¢çš„æ•°æ®å‘é€ç»™æœåŠ¡å™¨</span><br><span class="line">         send()æ–¹æ³•</span><br><span class="line">         * å¦‚æœä¸ä¼ é€’ä»»ä½•æ•°æ®å†…å®¹æ—¶ - å‘è¯¥æ–¹æ³•ä¼ é€’null</span><br><span class="line">     */</span><br><span class="line">        xhr.send(null);</span><br><span class="line"></span><br><span class="line">        /*</span><br><span class="line">        4. åˆ©ç”¨XMLHttpRequestå¯¹è±¡çš„onreadystatechangeäº‹ä»¶</span><br><span class="line">         * ä½œç”¨ - ç”¨äºç›‘å¬æœåŠ¡å™¨ç«¯çš„é€šä¿¡çŠ¶æ€</span><br><span class="line">         * æœåŠ¡å™¨ç«¯çš„é€šä¿¡çŠ¶æ€ä¸­ - å­˜åœ¨ç€å¤„ç†å®Œæ¯•ï¼ˆä¿¡å·ï¼‰</span><br><span class="line">            * æ¥æ”¶æœåŠ¡å™¨ç«¯è¿”å›çš„å¤„ç†ç»“æœ</span><br><span class="line">     */</span><br><span class="line">        xhr.onreadystatechange = function () &#123;</span><br><span class="line">          <span class="comment">/*</span></span><br><span class="line"><span class="comment">                XMLHttpRequestå¯¹è±¡çš„readyStateeå±æ€§</span></span><br><span class="line"><span class="comment">                * ä½œç”¨ - è¡¨ç¤ºæœåŠ¡å™¨ç«¯çš„é€šä¿¡çŠ¶æ€</span></span><br><span class="line"><span class="comment">                * å€¼</span></span><br><span class="line"><span class="comment">                    * 0 - æœªåˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">                    * 1 - open()æ–¹æ³•è¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">                    * 2 - send()æ–¹æ³•è¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">                    * 3 - æ­£åœ¨å“åº”</span></span><br><span class="line"><span class="comment">                    * 4 - å“åº”å·²å®Œæ¯•</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">          <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                æ¥æ”¶æœåŠ¡å™¨ç«¯è¿”å›çš„å¤„ç†ç»“æœ</span></span><br><span class="line"><span class="comment">                XMLHttpRequestå¯¹è±¡çš„responseTextå±æ€§</span></span><br><span class="line"><span class="comment">                * ä½œç”¨ - ç”¨äºæ¥æ”¶æœåŠ¡å™¨ç«¯çš„å“åº”ç»“æœ</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="built_in">console</span>.log(xhr.responseText);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        5. å°†æ¥æ”¶åˆ°çš„ç»“æœæ›´æ–°åˆ°HTMLé¡µé¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p>å®ç°æ•ˆæœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E5%AE%9E%E7%8E%B0Ajax%E7%9A%84%E6%89%A7%E8%A1%8C%E6%AD%A5%E9%AA%A4.gif" alt="" /></p></li></ul><h2 id="a-idåˆ›å»ºajaxçš„æ ¸å¿ƒå¯¹è±¡åˆ›å»ºajaxçš„æ ¸å¿ƒå¯¹è±¡a"><a class="markdownIt-Anchor" href="#a-idåˆ›å»ºajaxçš„æ ¸å¿ƒå¯¹è±¡åˆ›å»ºajaxçš„æ ¸å¿ƒå¯¹è±¡a"></a> <a id="åˆ›å»ºAjaxçš„æ ¸å¿ƒå¯¹è±¡">åˆ›å»ºAjaxçš„æ ¸å¿ƒå¯¹è±¡</a></h2><p>è™½ç„¶XMLHttpRequestå¯¹è±¡ç›®å‰ç”±W3Cç»„ç»‡è¿›è¡Œæ ‡å‡†åŒ–ï¼Œä½†åœ¨ä¸åŒæµè§ˆå™¨ä¸­ï¼Œåˆ›å»ºçš„æ–¹å¼ç•¥æœ‰ä¸åŒã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createXMLHttpRequest</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> httpRequest;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">        <span class="comment">// é€‚ç”¨äºChrome,Firefox,Safari,...</span></span><br><span class="line">        httpRequest = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.ActiveXObject) &#123;</span><br><span class="line">        <span class="comment">// é€‚ç”¨äºIEæµè§ˆå™¨</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          httpRequest = <span class="keyword">new</span> ActiveXObject(<span class="string">"Msxml2.XMLHTTP"</span>); <span class="comment">// IE7+</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            httpRequest = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>); <span class="comment">// IE6-</span></span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> httpRequest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>XMLHttpRequestç»§æ‰¿å…³ç³»</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/XMLHttpRequest%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB.png" alt="" /></p><p>å…·ä½“è¯·å‚è€ƒ MDNä¸Šçš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">XMLHttpRequest</a></p></li></ul><h2 id="a-idé€šè¿‡ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®é€šè¿‡ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®a"><a class="markdownIt-Anchor" href="#a-idé€šè¿‡ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®é€šè¿‡ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®a"></a> <a id="é€šè¿‡Ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®">é€šè¿‡Ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®</a></h2><p>é€šè¿‡Ajaxå¼‚æ­¥è¯·æ±‚æ•°æ®æ˜¯é€šè¿‡XMLHttpRequestå¯¹è±¡çš„send()æ–¹æ³•å®ç°ï¼Œè¯­æ³•ç»“æ„å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpRequest.send(data);</span><br></pre></td></tr></table></figure><ul><li>data:è¡¨ç¤ºè¯·æ±‚çš„æ•°æ®å†…å®¹ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">httpRequest.send(<span class="literal">null</span>);</span><br><span class="line">httpRequest.send(<span class="string">'name=wolongxueyuan&amp;password=123456'</span>);</span><br></pre></td></tr></table></figure><p>å¦‚æœè¯¥è¯·æ±‚æ˜¯å¼‚æ­¥æ¨¡å¼(é»˜è®¤)ï¼Œè¯¥æ–¹æ³•ä¼šç«‹åˆ»è¿”å›ã€‚ç›¸åï¼Œå¦‚æœè¯·æ±‚æ˜¯åŒæ­¥æ¨¡å¼ï¼Œåˆ™ç›´åˆ°è¯·æ±‚çš„å“åº”å®Œå…¨æ¥å—ä»¥åï¼Œè¯¥æ–¹æ³•æ‰ä¼šè¿”å›ã€‚</p><h3 id="æäº¤è¡¨å•æ—¶å‘æœåŠ¡å™¨ç«¯å‘é€æ•°æ®"><a class="markdownIt-Anchor" href="#æäº¤è¡¨å•æ—¶å‘æœåŠ¡å™¨ç«¯å‘é€æ•°æ®"></a> æäº¤è¡¨å•æ—¶ï¼Œå‘æœåŠ¡å™¨ç«¯å‘é€æ•°æ®</h3><ul><li>è¯·æ±‚æ•°æ®è¢«æ·»åŠ è¯·æ±‚é“¾æ¥åœ°å€ä¸­ - ?user=maxiaoyu&amp;pwd=123456<ul><li>è¯·æ±‚æ•°æ®çš„æ ¼å¼<ol><li>å¦‚æœå…·æœ‰å¤šä¸ªè¯·æ±‚æ•°æ®çš„è¯ï¼Œä¹‹é—´ä½¿ç”¨&quot;&amp;&quot;è¿›è¡Œåˆ†éš”</li><li>æ¯ä¸ªæ•°æ®æ ¼å¼ -&gt; name=value</li></ol></li></ul></li></ul><h3 id="å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚æ•°æ®"><a class="markdownIt-Anchor" href="#å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚æ•°æ®"></a> å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚æ•°æ®</h3><blockquote><p>send(data)æ–¹æ³•</p></blockquote><ul><li><p>å‚æ•°data - è¡¨ç¤ºè¦å‘æœåŠ¡å™¨ç«¯å‘é€çš„è¯·æ±‚æ•°æ®</p></li><li><p>è¯·æ±‚æ–¹å¼</p><ul><li>å¦‚æœå½“å‰çš„è¯·æ±‚æ–¹å¼ä¸ºGETçš„è¯ - send()æ–¹æ³•ä¸­åªèƒ½ä¼ é€’nullå€¼</li><li>å°†è¯·æ±‚æ•°æ®æ·»åŠ åˆ°è¯·æ±‚åœ°å€é“¾æ¥ä¸­</li></ul></li><li><p>ä¸¤ç§æƒ…å†µ</p><ul><li>å‘é€æ•°æ® - user=maxiaoyu&amp;pwd=123456<ul><li>è¯·æ±‚æ•°æ®çš„æ ¼å¼<ol><li>å¦‚æœå…·æœ‰å¤šä¸ªè¯·æ±‚æ•°æ®çš„è¯ï¼Œä¹‹é—´ä½¿ç”¨&quot;&amp;&quot;è¿›è¡Œåˆ†éš”</li><li>æ¯ä¸ªæ•°æ®æ ¼å¼ -&gt; name=value</li></ol></li></ul></li><li>ä¸å‘é€æ•°æ® - send()æ–¹æ³•ä¸­å¿…é¡»ä¼ é€’nullå€¼ï¼Œè€Œä¸èƒ½ä¸ºç©º</li></ul></li><li><p>ä»£ç æ¼”ç¤º</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"#"</span> <span class="attr">method</span>=<span class="string">"get"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">name</span>=<span class="string">"user"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">name</span>=<span class="string">"pwd"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="actionscript">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// å®ç°Ajaxçš„å¼‚æ­¥äº¤äº’</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// åˆ›å»ºXMLHttpRequestå¯¹è±¡</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//   console.log(xhr.readyState);</span></span></span><br><span class="line">          if (xhr.readyState === 4) &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(xhr.status);</span></span><br><span class="line">            if (xhr.status === 200) &#123;</span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(xhr.responseText);</span></span><br><span class="line">            &#125;</span><br><span class="line">            if (xhr.status === 404) &#123;</span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(<span class="string">"æœåŠ¡å™¨ç«¯åœ°å€æœªæ‰¾åˆ°"</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        xhr.open(<span class="string">"get"</span>, <span class="string">"https://extheor.github.io/"</span>);</span></span><br><span class="line">          </span><br><span class="line"><span class="actionscript">        <span class="comment">// äººä¸ºæ–¹å¼è·å–å½“å‰çš„æ•°æ®ï¼Œæ„å»ºæˆåˆ¶å®šçš„æ•°æ®æ ¼å¼</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        xhr.send(<span class="string">"user=maxiaoyu&amp;pwd=123456"</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç‚¹å‡»æŒ‰é’®å®ç°ä»¥ä¸‹æ•ˆæœï¼Œè¯·æ±‚URLä¸º <code>http://127.0.0.1:5501/05_send()%E6%96%B9%E6%B3%95.html</code></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/send()%E6%96%B9%E6%B3%951.gif" alt="" /></p><p>ç‚¹å‡»è¡¨å•æäº¤å®ç°ä»¥ä¸‹æ•ˆæœï¼Œè¯·æ±‚URLä¸º <code>http://127.0.0.1:5501/05_send()%E6%96%B9%E6%B3%95.html?user=maxiaoyu&amp;pwd=123456</code></p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/send()%E6%96%B9%E6%B3%952.gif" alt="" /></p><p>**<code>XMLHttpRequest.send()</code> **æ–¹æ³•ç”¨äºå‘é€ HTTP è¯·æ±‚ã€‚å¦‚æœæ˜¯å¼‚æ­¥è¯·æ±‚ï¼ˆé»˜è®¤ä¸ºå¼‚æ­¥è¯·æ±‚ï¼‰ï¼Œåˆ™æ­¤æ–¹æ³•ä¼šåœ¨è¯·æ±‚å‘é€åç«‹å³è¿”å›ï¼›å¦‚æœæ˜¯åŒæ­¥è¯·æ±‚ï¼Œåˆ™æ­¤æ–¹æ³•ç›´åˆ°å“åº”åˆ°è¾¾åæ‰ä¼šè¿”å›ã€‚XMLHttpRequest.send() æ–¹æ³•æ¥å—ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œå…¶ä½œä¸ºè¯·æ±‚ä¸»ä½“ï¼›å¦‚æœè¯·æ±‚æ–¹æ³•æ˜¯ GET æˆ–è€… HEADï¼Œåˆ™åº”å°†è¯·æ±‚ä¸»ä½“è®¾ç½®ä¸º nullã€‚</p><p>å¦‚æœæ²¡æœ‰ä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/setRequestHeader" target="_blank" rel="noopener"><code>setRequestHeader()</code></a> æ–¹æ³•è®¾ç½® <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Accept" target="_blank" rel="noopener"><code>Accept</code></a> å¤´éƒ¨ä¿¡æ¯ï¼Œåˆ™ä¼šå‘é€å¸¦æœ‰ <code>&quot;* / *&quot;</code> çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Accept" target="_blank" rel="noopener"><code>Accept</code></a> å¤´éƒ¨ã€‚</p><p>send()æ–¹æ³•çš„ä½¿ç”¨å…·ä½“å¯å‚è€ƒMDN <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/send" target="_blank" rel="noopener">XMLHttpRequest.send()</a></p><p>æ—¢ç„¶è¯·æ±‚æ–¹æ³•æ˜¯GETçš„è¯ï¼Œsend()æ–¹æ³•åªèƒ½è®¾ç½®ä¸ºnullå€¼ï¼Œé‚£ä¹ˆæˆ‘çš„è¯·æ±‚æ•°æ®åº”è¯¥åœ¨å“ªå„¿å†™å‘¢ï¼Ÿ</p><ul><li><p>å°†è¯·æ±‚æ•°æ®æ·»åŠ åˆ°è¯·æ±‚åœ°å€é“¾æ¥ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.open(<span class="string">"get"</span>, <span class="string">"https://extheor.github.io/?user=maxiaoyu&amp;pwd=123456"</span>);</span><br></pre></td></tr></table></figure></li></ul><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/send()%E6%96%B9%E6%B3%952.gif" alt="" /></p><p>ä½†æ˜¯GETè¯·æ±‚æ•°æ®æ˜¯æœ‰é—®é¢˜çš„ï¼Œæˆ‘ä»¬å‘ç°è¿™è¯·æ±‚æ•°æ®æ˜¯è¢«å†™æ­»æ‰çš„ï¼Œæˆ‘ä»¬ä»¥åæ˜¯è¦åŠ¨æ€è·å–æ•°æ®çš„ï¼Œæ‰€ä»¥ä¸ä¼šç”¨GETè¯·æ±‚çš„</p><h2 id="a-idè¯·æ±‚æ–¹å¼è¯·æ±‚æ–¹å¼a"><a class="markdownIt-Anchor" href="#a-idè¯·æ±‚æ–¹å¼è¯·æ±‚æ–¹å¼a"></a> <a id="è¯·æ±‚æ–¹å¼">è¯·æ±‚æ–¹å¼</a></h2><h3 id="getè¯·æ±‚æ–¹å¼"><a class="markdownIt-Anchor" href="#getè¯·æ±‚æ–¹å¼"></a> GETè¯·æ±‚æ–¹å¼</h3><p>Ajaxå¼‚æ­¥äº¤äº’ä¸­ä½¿ç”¨GETè¯·æ±‚æ–¹å¼çš„è¯ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªé—®é¢˜:</p><ol><li><p>å°†æ„å»ºçš„è¯·æ±‚æ•°æ®æ·»åŠ åˆ°open()æ–¹æ³•ä¸­çš„urlåœ°å€ä¸­ï¼Œå¦‚ä¸‹ç¤ºä¾‹ä»£ç æ‰€ç¤º:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">httpRequest.open(<span class="string">'GET'</span>,</span><br><span class="line"><span class="string">'http://www.wolongxueyuan.org/some.file?name=wolongxueyuan&amp;password=123456'</span>,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ç¤ºä¾‹ä»£ç ä¸­ï¼Œâ€œname=wolongxueyuan&amp;password=123456â€è¡¨ç¤ºè¯·æ±‚æ•°æ®</p></li><li><p>å°†å‘é€è¯·æ±‚æ•°æ®çš„send()æ–¹æ³•ä¸­å‚æ•°è®¾ç½®ä¸ºnullå€¼ï¼Œå¦‚ä¸‹ç¤ºä¾‹ä»£ç æ‰€ç¤º:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpRequest.send(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure></li></ol><ul><li><p>POSTè¯·æ±‚æ•°æ®ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="actionscript">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// å®ç°Ajaxçš„å¼‚æ­¥äº¤äº’</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// åˆ›å»ºXMLHttpRequestå¯¹è±¡</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//   console.log(xhr.readyState);</span></span></span><br><span class="line">          if (xhr.readyState === 4) &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(xhr.status);</span></span><br><span class="line">            if (xhr.status === 200) &#123;</span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(xhr.responseText);</span></span><br><span class="line">            &#125;</span><br><span class="line">            if (xhr.status === 404) &#123;</span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(<span class="string">"æœåŠ¡å™¨ç«¯åœ°å€æœªæ‰¾åˆ°"</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        xhr.open(<span class="string">"post"</span>, <span class="string">"https://extheor.github.io/"</span>);</span></span><br><span class="line">        /*</span><br><span class="line">          send()æ–¹æ³• </span><br><span class="line"><span class="actionscript">          * å¦‚æœæ˜¯GET, send()æ–¹æ³•åªèƒ½ä¼ é€’<span class="literal">null</span>å€¼ -&gt; è¯·æ±‚æ•°æ®æ·»åŠ åœ¨è¯·æ±‚åœ°å€ä¸­ </span></span><br><span class="line">          * å¦‚æœæ˜¯POST, send()æ–¹æ³•ä¼ é€’è¯·æ±‚æ•°æ®</span><br><span class="line">        */</span><br><span class="line"><span class="actionscript">        xhr.send(<span class="string">"user=maxiaoyu&amp;pwd=123456"</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F1.gif" alt="" /></p></li></ul><p>æˆ‘ä»¬ä¼šçœ‹åˆ°åœ¨è¯·æ±‚è´Ÿè½½ï¼ˆRequest Payloadï¼‰ä¸­æœ‰ <code>user=maxiaoyu&amp;pwd=123456</code> è¯·æ±‚æ•°æ®</p><h3 id="postè¯·æ±‚æ–¹å¼"><a class="markdownIt-Anchor" href="#postè¯·æ±‚æ–¹å¼"></a> POSTè¯·æ±‚æ–¹å¼</h3><p>Ajaxå¼‚æ­¥äº¤äº’ä¸­ä½¿ç”¨POSTè¯·æ±‚æ–¹å¼çš„è¯ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªé—®é¢˜:</p><ol><li><p>è°ƒç”¨send(æ–¹æ³•ä¹‹å‰ï¼Œéœ€è¦é€šè¿‡XMLHttpRequestå¯¹è±¡çš„setRequestHleader()æ–¹æ³•è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpRequest.setRequestHeader(header, value);</span><br></pre></td></tr></table></figure><ul><li>header:å°†è¦è¢«èµ‹å€¼çš„è¯·æ±‚å¤´åç§°ã€‚</li><li>value:ç»™æŒ‡å®šçš„è¯·æ±‚å¤´èµ‹çš„å€¼ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpRequest.setRequestHeader(<span class="string">'Content-Type'</span> , <span class="string">'application/x-www-form-urlencoded'</span>);</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡XMLHttpRequestå¯¹è±¡çš„send()å‘é€è¯·æ±‚æ•°æ®ã€‚</p></li></ol><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="actionscript">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// å®ç°Ajaxçš„å¼‚æ­¥äº¤äº’</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// åˆ›å»ºXMLHttpRequestå¯¹è±¡</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//   console.log(xhr.readyState);</span></span></span><br><span class="line">          if (xhr.readyState === 4) &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(xhr.status);</span></span><br><span class="line">            if (xhr.status === 200) &#123;</span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(xhr.responseText);</span></span><br><span class="line">            &#125;</span><br><span class="line">            if (xhr.status === 404) &#123;</span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(<span class="string">"æœåŠ¡å™¨ç«¯åœ°å€æœªæ‰¾åˆ°"</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        xhr.open(<span class="string">"post"</span>, <span class="string">"https://extheor.github.io/"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// è®¾ç½®è¯·æ±‚å¤´éƒ¨ä¿¡æ¯</span></span></span><br><span class="line">        xhr.setRequestHeader(</span><br><span class="line"><span class="actionscript">          <span class="string">"Content-Type"</span>,</span></span><br><span class="line"><span class="actionscript">          <span class="string">"application/x-www-form-urlencoded"</span></span></span><br><span class="line">        );</span><br><span class="line">        /*</span><br><span class="line">          send()æ–¹æ³•</span><br><span class="line"><span class="actionscript">          * å¦‚æœæ˜¯GET, send()æ–¹æ³•åªèƒ½ä¼ é€’<span class="literal">null</span>å€¼ -&gt; è¯·æ±‚æ•°æ®æ·»åŠ åœ¨è¯·æ±‚åœ°å€ä¸­</span></span><br><span class="line">          * å¦‚æœæ˜¯POST, send()æ–¹æ³•ä¼ é€’è¯·æ±‚æ•°æ®</span><br><span class="line">        */</span><br><span class="line"><span class="actionscript">        xhr.send(<span class="string">"user=maxiaoyu&amp;pwd=123456"</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®ç°æ•ˆæœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F2.gif" alt="" /></p><p>æˆ‘ä»¬ä¼šçœ‹åˆ°åœ¨è¡¨å•æ•°æ®ï¼ˆForm Dataï¼‰ä¸­æœ‰user: maxiaoyuã€pwd: 123456æ ¼å¼çš„è¯·æ±‚æ•°æ®</p><h2 id="a-idajaxå¼‚æ­¥äº¤äº’ajaxå¼‚æ­¥äº¤äº’a"><a class="markdownIt-Anchor" href="#a-idajaxå¼‚æ­¥äº¤äº’ajaxå¼‚æ­¥äº¤äº’a"></a> <a id="Ajaxå¼‚æ­¥äº¤äº’">Ajaxå¼‚æ­¥äº¤äº’</a></h2><p>ç”¨getè¯·æ±‚çœŸå®çš„æœåŠ¡å™¨</p><ul><li>é¦–å…ˆéœ€è¦å†™ä¸€ä¸ªæœåŠ¡å™¨</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥Node.jsä¸­çš„httpæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"><span class="comment">// å®šä¹‰å½“å‰æœåŠ¡çš„IPåœ°å€å’Œç«¯å£å·</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">"127.0.0.1"</span>; <span class="comment">// è¡¨ç¤ºæœ¬æœº</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * createServer(callback)æ–¹æ³• - è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæœåŠ¡</span></span><br><span class="line"><span class="comment"> * * callback - è¡¨ç¤ºå›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment"> *   function(request, response)&#123;&#125;</span></span><br><span class="line"><span class="comment"> *   * request - è¡¨ç¤ºè¯·æ±‚(ç”¨äºæ¥æ”¶å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯çš„è¯·æ±‚)</span></span><br><span class="line"><span class="comment"> *   * response - è¡¨ç¤ºå“åº”(ç”¨äºæ¥æ”¶æœåŠ¡å™¨ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„å¤„ç†ç»“æœ)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.statusCode = <span class="number">200</span>;</span><br><span class="line">  res.setHeader(<span class="string">"Content-Type"</span>, <span class="string">"text/plain"</span>);</span><br><span class="line">  res.end(<span class="string">"Hello, World!\n"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>ç„¶åå†å†™ä¸€ä¸ªAjaxå¼‚æ­¥äº¤äº’ä»£ç </li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Ajaxå¼‚æ­¥äº¤äº’<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="actionscript">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// å®ç°Ajaxçš„å¼‚æ­¥äº¤äº’</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// åˆ›å»ºXMLHttpRequestå¯¹è±¡</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//   console.log(xhr.readyState);</span></span></span><br><span class="line">          if (xhr.readyState === 4) &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(xhr.status);</span></span><br><span class="line">            if (xhr.status === 200) &#123;</span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(xhr.responseText);</span></span><br><span class="line">            &#125;</span><br><span class="line">            if (xhr.status === 404) &#123;</span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(<span class="string">"æœåŠ¡å™¨ç«¯åœ°å€æœªæ‰¾åˆ°"</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        xhr.open(<span class="string">"get"</span>, <span class="string">"http://127.0.0.1:3000"</span>);</span></span><br><span class="line"><span class="actionscript">        xhr.send(<span class="literal">null</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®ç°æ•ˆæœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E8%B7%A8%E5%9F%9F%E9%94%99%E8%AF%AF.png" alt="" /></p><p>ä¼šå‡ºç°å¦‚å›¾ä¹‹é”™è¯¯ï¼Œè¿™å°±æ˜¯æµè§ˆå™¨çš„è·¨åŸŸé™åˆ¶</p><p>é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿåªéœ€è¦åœ¨Headerä¸ŠåŠ ä¸Šä¸€è¡Œä»£ç å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.setHeader(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>);</span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E8%B7%A8%E5%9F%9F%E6%AD%A3%E7%A1%AE.png" alt="" /></p>]]></content>
    
    <summary type="html">
    
      å®ç°Ajaxå¼‚æ­¥äº¤äº’
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­çš„JSON</title>
    <link href="https://extheor.github.io/posts/6b2f046/index.html"/>
    <id>https://extheor.github.io/posts/6b2f046/index.html</id>
    <published>2020-09-03T14:44:15.000Z</published>
    <updated>2020-09-03T14:53:40.759Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="javascriptä¸­çš„json"><a class="markdownIt-Anchor" href="#javascriptä¸­çš„json"></a> JavaScriptä¸­çš„JSON</h1><h2 id="javascriptä¸json"><a class="markdownIt-Anchor" href="#javascriptä¸json"></a> JavaScriptä¸JSON</h2><p>JSONæ˜¯ä¸€ç§è¯­æ³•ï¼Œç”¨æ¥åºåˆ—åŒ–å¯¹è±¡ã€æ•°ç»„ã€æ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼å’Œnullã€‚å®ƒåŸºäºJavaScriptè¯­æ³•ï¼Œä½†ä¸ä¹‹ä¸åŒ:JavaScriptä¸æ˜¯JSONï¼ŒJSONä¹Ÿä¸æ˜¯JavaScripto</p><table><thead><tr><th>JavaScriptç±»å‹</th><th>JSONçš„ä¸åŒç‚¹</th></tr></thead><tbody><tr><td>å¯¹è±¡å’Œæ•°ç»„</td><td>å±æ€§åç§°å¿…é¡»æ˜¯åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²;æœ€åä¸€ä¸ªå±æ€§åä¸èƒ½æœ‰é€—å·</td></tr><tr><td>æ•°å€¼</td><td>ç¦æ­¢å‡ºç°å‰å¯¼é›¶</td></tr><tr><td>å­—ç¬¦ä¸²</td><td>åªæœ‰æœ‰é™çš„ä¸€äº›å­—ç¬¦å¯èƒ½è¢«è½¬ä¹‰</td></tr></tbody></table><h2 id="jsonå­—ç¬¦ä¸²ä¸jsonå¯¹è±¡"><a class="markdownIt-Anchor" href="#jsonå­—ç¬¦ä¸²ä¸jsonå¯¹è±¡"></a> JSONå­—ç¬¦ä¸²ä¸JSONå¯¹è±¡</h2><ul><li><p>JSONå­—ç¬¦ä¸²å°±æ˜¯æŒ‡åœ¨JavaScriptè¯­è¨€ä¸­å†…å®¹æ ¼å¼ç¬¦åˆJSONæ ¼å¼çš„å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonText = <span class="string">'&#123;"name":"å§é¾™å­¦è‹‘" "addr":"ä¿å®šå¸‚å¤å…´ä¸­è·¯77å·ç›´éš¶å¤§å¦1516å®¤"&#125;'</span>;</span><br></pre></td></tr></table></figure></li><li><p>JSONå¯¹è±¡å°±æ˜¯æŒ‡JSONæ ¼å¼åœ¨JavaScriptè¯­è¨€ä¸­çš„å…·ä½“è¡¨ç°å½¢å¼ä¸ºå¯¹è±¡æˆ–æ•°ç»„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonObject= &#123;</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"å§é¾™å­¦è‹‘"</span>,</span><br><span class="line">    <span class="string">"addr"</span>:<span class="string">"ä¿å®šå¸‚å¤å…´ä¸­è·¯77å·ç›´éš¶å¤§å¦1516å®¤"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>ä»£ç æ¼”ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>JavaScriptä¸­çš„JSON<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// JSONå­—ç¬¦ä¸² - æ•°æ®æ ¼å¼ç¬¦åˆJSONæ ¼å¼çš„è¦æ±‚ï¼Œç±»å‹æ˜¯å­—ç¬¦ä¸²ç±»å‹</span></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> jsonString = <span class="string">'&#123;"name" : "å¼ æ— å¿Œ"&#125;'</span>;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// JSONå¯¹è±¡ - JSONæ•°æ®æ ¼å¼åœ¨JavaScriptä¸­çš„å…·ä½“è¡¨ç°(å¯¹è±¡å’Œæ•°ç»„)</span></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> jsonObject = &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"å¼ æ— å¿Œ"</span>,</span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> jsonArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="javascriptçš„jsonå¯¹è±¡"><a class="markdownIt-Anchor" href="#javascriptçš„jsonå¯¹è±¡"></a> JavaScriptçš„JSONå¯¹è±¡</h2><p>JavaScriptè¯­è¨€ä¸­å­˜åœ¨UJSONå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨äºå®ç°å­—ç¬¦ä¸²ä¸å¯¹è±¡ä¹‹é—´çš„è½¬æ¢ã€‚å…¶æä¾›ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•:</p><ul><li><p>JSON.parse()æ–¹æ³•:è§£æJSONå­—ç¬¦ä¸²å¹¶è¿”å›å¯¹åº”çš„å€¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">''</span>);<span class="comment">//0&#125;</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">'true'</span>);<span class="comment">// true</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">""</span>foo<span class="string">""</span>);<span class="comment">// "foo"</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">'[1,5, "false"]'</span>);<span class="comment">//[1,5, "false"]</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">'null'</span>); <span class="comment">// null</span></span><br></pre></td></tr></table></figure></li><li><p>JSON.stringify()æ–¹æ³•:è¿”å›ä¸æŒ‡å®šå€¼å¯¹åº”çš„JSONå­—ç¬¦ä¸²ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(&#123;&#125;);<span class="comment">// '&#123;&#125;'</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(<span class="literal">true</span>);<span class="comment">// 'true'</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(<span class="string">"foo"</span>);<span class="comment">// "foo"</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify([<span class="number">1</span>, <span class="string">"false"</span>, <span class="literal">false</span>]);<span class="comment">//'[1,"false",false]'</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(&#123; <span class="attr">x</span>: <span class="number">5</span> &#125;);<span class="comment">// '&#123;"x":5&#125;'</span></span><br></pre></td></tr></table></figure></li></ul><blockquote><p><font color="red"><b>æ³¨æ„ï¼š</b></font>JSONå¯¹è±¡åœ¨æ—§ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸­ä¸è¢«æ”¯æŒï¼Œå¼•äººjson2.jsæ–‡ä»¶è¿›è¡Œè§£å†³ã€‚</p></blockquote><ul><li><p>JSONå­—ç¬¦ä¸²è½¬åŒ–ä¸ºJSONå¯¹è±¡ï¼ˆJSON.parse()ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JSONå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">var</span> jsonString = <span class="string">'&#123;"name" : "å¼ æ— å¿Œ"&#125;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jsonObject = <span class="built_in">JSON</span>.parse(jsonString);</span><br><span class="line"><span class="built_in">console</span>.log(jsonObject);</span><br></pre></td></tr></table></figure></li></ul><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200901215941303.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><p>JSONå¯¹è±¡è½¬åŒ–ä¸ºJSONå­—ç¬¦ä¸²</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonObject = &#123; <span class="attr">name</span>: <span class="string">"å¼ æ— å¿Œ"</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jsonString = <span class="built_in">JSON</span>.stringify(jsonObject);</span><br><span class="line"><span class="built_in">console</span>.log(jsonString);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> jsonString);</span><br></pre></td></tr></table></figure></li></ul><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200901215956472.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>]]></content>
    
    <summary type="html">
    
      JavaScriptä¸­çš„JSON
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>Ajaxä¸­çš„JSON</title>
    <link href="https://extheor.github.io/posts/7000d139/index.html"/>
    <id>https://extheor.github.io/posts/7000d139/index.html</id>
    <published>2020-09-03T14:41:15.000Z</published>
    <updated>2020-09-03T14:53:40.755Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h1 id="ajaxä¸­çš„-json"><a class="markdownIt-Anchor" href="#ajaxä¸­çš„-json"></a> Ajaxä¸­çš„ JSON</h1><h2 id="æ„å»º-jsonæ ¼å¼æ•°æ®"><a class="markdownIt-Anchor" href="#æ„å»º-jsonæ ¼å¼æ•°æ®"></a> æ„å»º JSONæ ¼å¼æ•°æ®</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Ajaxä¸­çš„JSON<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>è¯·æ±‚<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="actionscript">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">          if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. æ¥æ”¶æ•°æ® - JSONæ•°æ®æ ¼å¼ï¼Œæ˜¯å­—ç¬¦ä¸²ç±»å‹</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> data = xhr.responseText;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. å°†ç¬¦åˆJSONæ ¼å¼çš„å­—ç¬¦ä¸²ç±»å‹æ•°æ®è¿›è¡Œè½¬æ¢</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> json = <span class="built_in">JSON</span>.parse(data);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 3. è¿›è¡Œå…·ä½“å¤„ç†</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(json);</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        xhr.open(<span class="string">"post"</span>, <span class="string">"server.json"</span>);</span></span><br><span class="line"></span><br><span class="line">        xhr.setRequestHeader(</span><br><span class="line"><span class="actionscript">          <span class="string">"Content-Type"</span>,</span></span><br><span class="line"><span class="actionscript">          <span class="string">"application/x-www-form-urlencoded"</span></span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> obj = &#123;</span></span><br><span class="line"><span class="actionscript">          name: <span class="string">"å‘¨èŠ·è‹¥"</span>,</span></span><br><span class="line">          age: 18,</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        xhr.send(<span class="string">"name="</span> + obj.name + <span class="string">"&amp;age="</span> + obj.age);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ä¸‹</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200901220045447.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="æ¥æ”¶jsonæ ¼å¼æ•°æ®"><a class="markdownIt-Anchor" href="#æ¥æ”¶jsonæ ¼å¼æ•°æ®"></a> æ¥æ”¶JSONæ ¼å¼æ•°æ®</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Ajaxä¸­çš„JSON<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>è¯·æ±‚<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="actionscript">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">          if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. æ¥æ”¶æ•°æ® - JSONæ•°æ®æ ¼å¼ï¼Œæ˜¯å­—ç¬¦ä¸²ç±»å‹</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> data = xhr.responseText;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. å°†ç¬¦åˆJSONæ ¼å¼çš„å­—ç¬¦ä¸²ç±»å‹æ•°æ®è¿›è¡Œè½¬æ¢</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> json = <span class="built_in">JSON</span>.parse(data);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 3. è¿›è¡Œå…·ä½“å¤„ç†</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(json);</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        xhr.open(<span class="string">"get"</span>, <span class="string">"server.json"</span>);</span></span><br><span class="line"><span class="actionscript">        xhr.send(<span class="literal">null</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://img-blog.csdnimg.cn/20200901220053104.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="è¡¥å……-xml"><a class="markdownIt-Anchor" href="#è¡¥å……-xml"></a> è¡¥å…… XML</h2><p>xmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>å¼ æ— å¿Œ<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Ajaxä¸­çš„XML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Ajaxä¸­çš„XML<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>è¯·æ±‚<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/createXMLHttpRequest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="actionscript">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> xhr = createXMLHttpRequest();</span></span><br><span class="line"><span class="actionscript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">          if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) &#123;</span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. æ¥æ”¶æ•°æ® - responseXMLå±æ€§ -&gt; æ¥æ”¶XMLæ•°æ®æ ¼å¼</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> data = xhr.responseXML;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. åˆ©ç”¨DOMè§£æXMLå³å¯</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> nameElement = data.getElementsByTagName(<span class="string">"name"</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(nameElement.textContent); <span class="comment">// å¼ æ— å¿Œ</span></span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        xhr.open(<span class="string">"get"</span>, <span class="string">"server.xml"</span>);</span></span><br><span class="line"><span class="actionscript">        xhr.send(<span class="literal">null</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Ajaxä¸­çš„JSON
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>AjaxåŒæ­¥äº¤äº’ä¸å¼‚æ­¥äº¤äº’</title>
    <link href="https://extheor.github.io/posts/10812f0/index.html"/>
    <id>https://extheor.github.io/posts/10812f0/index.html</id>
    <published>2020-09-03T14:38:55.000Z</published>
    <updated>2020-09-03T14:53:40.758Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/css/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@v0.1/Hexo/assets/js/Meting.min.js"></script><h2 id="ajaxåŒæ­¥äº¤äº’ä¸å¼‚æ­¥äº¤äº’"><a class="markdownIt-Anchor" href="#ajaxåŒæ­¥äº¤äº’ä¸å¼‚æ­¥äº¤äº’"></a> AjaxåŒæ­¥äº¤äº’ä¸å¼‚æ­¥äº¤äº’</h2><h2 id="åŒæ­¥äº¤äº’æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#åŒæ­¥äº¤äº’æ˜¯ä»€ä¹ˆ"></a> åŒæ­¥äº¤äº’æ˜¯ä»€ä¹ˆ</h2><p>æ‰€è°“åŒæ­¥äº¤äº’ï¼Œå°±æ˜¯æŒ‡å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œéœ€è¦ç­‰å¾…è¿”å›ï¼Œç„¶åæ‰èƒ½å¤Ÿå‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚åŒæ­¥äº¤äº’ç›¸å½“äºæ’é˜Ÿï¼Œè½®åˆ°ä¸‹ä¸€ä¸ªçš„æƒ…å†µä¼šå› ä¸ºå‰ä¸€ä¸ªè€Œæœ‰æ‰€ä¸åŒã€‚</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E5%90%8C%E6%AD%A5%E4%BA%A4%E4%BA%92%E6%98%AF%E4%BB%80%E4%B9%88.png" alt="" /></p><blockquote><p><font color="red"><b>è¯´æ˜ï¼š</b></font>åŒæ­¥äº¤äº’å°±æ˜¯ç¬¬äºŒæ¬¡è¯·æ±‚å¿…é¡»ç­‰å¾…ç¬¬ä¸€æ¬¡è¯·æ±‚ç»“æŸä¹‹åæ‰å¯ä»¥å¼€å§‹ã€‚</p></blockquote><h2 id="å¼‚æ­¥äº¤äº’æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#å¼‚æ­¥äº¤äº’æ˜¯ä»€ä¹ˆ"></a> å¼‚æ­¥äº¤äº’æ˜¯ä»€ä¹ˆ</h2><p>æ‰€è°“å¼‚æ­¥äº¤äº’ï¼Œå°±æ˜¯æŒ‡æŒ‡å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä¸éœ€è¦ç­‰å¾…è¿”å›ï¼Œéšæ—¶å¯ä»¥å†å‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚åŒæ­¥äº¤äº’ä¸å¼‚æ­¥äº¤äº’çš„åŒºåˆ«åœ¨äºåŒæ­¥äº¤äº’éœ€è¦ç­‰å¾…ç»“æœï¼Œè€Œå¼‚æ­¥äº¤äº’ä¸éœ€è¦ç­‰å¾…ã€‚</p><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/%E5%90%8C%E6%AD%A5%E4%BA%A4%E4%BA%92%E6%98%AF%E4%BB%80%E4%B9%88.png" alt="" /></p><blockquote><p><font color="red"><b>è¯´æ˜ï¼š</b></font>å¼‚æ­¥äº¤äº’å°±æ˜¯ç¬¬äºŒæ¬¡è¯·æ±‚ä¸éœ€è¦ç­‰å¾…ç¬¬ä¸€æ¬¡è¯·æ±‚ç»“æŸä¹‹åå°±å¯ä»¥å¼€å§‹ã€‚</p></blockquote><h2 id="å¼‚æ­¥äº¤äº’çš„ä¼˜åŠ¿"><a class="markdownIt-Anchor" href="#å¼‚æ­¥äº¤äº’çš„ä¼˜åŠ¿"></a> å¼‚æ­¥äº¤äº’çš„ä¼˜åŠ¿</h2><p>å¼‚æ­¥äº¤äº’ç›¸æ¯”åŒæ­¥äº¤äº’çš„ä¼˜åŠ¿ä¸»è¦å…·æœ‰ä»¥ä¸‹å‡ ç‚¹:</p><ul><li>ç”¨æˆ·æ“ä½œæ— é¡»åƒåŒæ­¥äº¤äº’å¿…é¡»ç­‰å¾…ç»“æœã€‚</li><li>å¼‚æ­¥äº¤äº’åªéœ€ä¸æœåŠ¡å™¨ç«¯äº¤æ¢å¿…è¦çš„æ•°æ®å†…å®¹ï¼Œè€Œä¸æ˜¯å°†æ‰€æœ‰æ•°æ®å…¨éƒ¨æ›´æ–°ã€‚</li><li>å¼‚æ­¥äº¤äº’å¯¹å¸¦å®½é€ æˆçš„å‹åŠ›ç›¸æ¯”åŒæ­¥äº¤äº’æ›´å°ã€‚</li><li>é€šè¿‡Ajaxå®ç°å¼‚æ­¥äº¤äº’ä¸éœ€è¦ä»»ä½•ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œåªè¦åˆ˜è§ˆå™¨æ”¯æŒJavaScriptè¯­è¨€å³å¯å®ç°ã€‚</li></ul><h2 id="å¼‚æ­¥äº¤äº’çš„åŠ£åŠ¿"><a class="markdownIt-Anchor" href="#å¼‚æ­¥äº¤äº’çš„åŠ£åŠ¿"></a> å¼‚æ­¥äº¤äº’çš„åŠ£åŠ¿</h2><p>å¼‚æ­¥äº¤äº’ç›¸æ¯”åŒæ­¥äº¤äº’å¹¶ä¸æ˜¯ä¼˜åŠ¿ï¼Œå®ƒä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜:</p><ul><li>å¼‚æ­¥äº¤äº’ç ´åäº†åˆ˜è§ˆå™¨åŸæœ‰çš„å‰è¿›å’Œåé€€æœºåˆ¶ã€‚</li><li>å¦‚æœåé¢é€»è¾‘çš„æ‰§è¡Œä¾é å‰é¢é€»è¾‘æ‰§è¡Œçš„ç»“æœçš„è¯ï¼Œå¼‚æ­¥äº¤äº’å¯èƒ½ä¼šé€ æˆé—®é¢˜ã€‚</li><li>Ajaxå®ç°å¼‚æ­¥äº¤äº’å¯¹æœç´¢å¼•æ“æ”¯æŒè¾ƒå¼±ã€‚</li><li>Ajaxå®ç°å¼‚æ­¥äº¤äº’ä¼šå¼•èµ·ä¸€äº›Webå®‰å…¨é—®é¢˜ï¼Œä¾‹å¦‚SQLæ³¨å…¥æ”»å‡»ã€è·¨ç«™ç‚¹è„šæœ¬æ”»å‡»ç­‰é—®é¢˜ã€‚</li></ul><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p><img src= "https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@v3.3.1/butterfly/img/loading9.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/extheor/images/Ajax%E5%9B%BE%E7%89%87/ajax%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E4%BA%A4%E4%BA%92.png" alt="" /></p>]]></content>
    
    <summary type="html">
    
      AjaxåŒæ­¥äº¤äº’ä¸å¼‚æ­¥äº¤äº’
    
    </summary>
    
    
      <category term="Ajax" scheme="https://extheor.github.io/categories/Ajax/"/>
    
    
      <category term="ajax" scheme="https://extheor.github.io/tags/ajax/"/>
    
  </entry>
  
</feed>
